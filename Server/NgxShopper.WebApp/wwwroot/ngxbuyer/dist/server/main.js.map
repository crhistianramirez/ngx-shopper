{"version":3,"sources":["webpack/bootstrap","./node_modules/@angular/router/router.d.ts.ɵangular_packages_router_router_l.html","./node_modules/@fortawesome/angular-fontawesome/angular-fontawesome.d.ts.FaLayersComponent.html","./node_modules/@ng-bootstrap/ng-bootstrap/ng-bootstrap.d.ts.NgbAccordion.html","./node_modules/@ng-bootstrap/ng-bootstrap/ng-bootstrap.d.ts.NgbAlert.html","./node_modules/@ng-bootstrap/ng-bootstrap/ng-bootstrap.d.ts.NgbCarousel.html","./node_modules/@ng-bootstrap/ng-bootstrap/ng-bootstrap.d.ts.ɵc.html","./node_modules/@ng-bootstrap/ng-bootstrap/ng-bootstrap.d.ts.ɵd.html","./node_modules/@ng-bootstrap/ng-bootstrap/ng-bootstrap.d.ts.ɵe.html","./node_modules/@ng-bootstrap/ng-bootstrap/ng-bootstrap.d.ts.ɵf.html","./node_modules/@ng-bootstrap/ng-bootstrap/ng-bootstrap.d.ts.NgbDatepicker.html","./node_modules/@ng-bootstrap/ng-bootstrap/ng-bootstrap.d.ts.NgbPagination.html","./node_modules/@ng-bootstrap/ng-bootstrap/ng-bootstrap.d.ts.ɵn.html","./node_modules/@ng-bootstrap/ng-bootstrap/ng-bootstrap.d.ts.NgbProgressbar.html","./node_modules/@ng-bootstrap/ng-bootstrap/ng-bootstrap.d.ts.NgbRating.html","./node_modules/@ng-bootstrap/ng-bootstrap/ng-bootstrap.d.ts.NgbTabset.html","./node_modules/@ng-bootstrap/ng-bootstrap/ng-bootstrap.d.ts.NgbTimepicker.html","./node_modules/@ng-bootstrap/ng-bootstrap/ng-bootstrap.d.ts.NgbToast.html","./node_modules/@ng-bootstrap/ng-bootstrap/ng-bootstrap.d.ts.ɵs.html","./node_modules/@ng-bootstrap/ng-bootstrap/ng-bootstrap.d.ts.ɵt.html","./node_modules/@ng-bootstrap/ng-bootstrap/ng-bootstrap.d.ts.NgbHighlight.html","./node_modules/@ng-bootstrap/ng-bootstrap/ng-bootstrap.d.ts.ɵx.html","./node_modules/@ngx-progressbar/core/ngx-progressbar-core.d.ts.NgProgressComponent.html","./node_modules/ngx-image-zoom/ngx-image-zoom.d.ts.NgxImageZoomComponent.html","./node_modules/ngx-toastr/ngx-toastr.d.ts.Toast.html","./node_modules/ngx-toastr/ngx-toastr.d.ts.ToastNoAnimation.html","./src/app/app-routing.module.ts","./src/app/app.component.html","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/app.server.module.ts","./src/app/auth/auth-routing.module.ts","./src/app/auth/auth.module.ts","./src/app/auth/containers/forgot-password/forgot-password.component.html","./src/app/auth/containers/forgot-password/forgot-password.component.ts","./src/app/auth/containers/login/login.component.html","./src/app/auth/containers/login/login.component.ts","./src/app/auth/containers/register/register.component.html","./src/app/auth/containers/register/register.component.ts","./src/app/auth/containers/reset-password/reset-password.component.html","./src/app/auth/containers/reset-password/reset-password.component.ts","./src/app/auth/index.ts","./src/app/auth/interceptors/auto-append-token/auto-append-token.interceptor.ts","./src/app/auth/interceptors/cache/cache-interceptor.ts","./src/app/auth/interceptors/refresh-token/refresh-token.interceptor.ts","./src/app/auth/services/app-auth.service.ts","./src/app/checkout/checkout-routing.module.ts","./src/app/checkout/checkout.module.ts","./src/app/checkout/components/checkout-confirm/checkout-confirm.component.html","./src/app/checkout/components/checkout-confirm/checkout-confirm.component.ts","./src/app/checkout/components/checkout-section-base/checkout-section-base.component.ts","./src/app/checkout/components/order-summary/order-summary.component.html","./src/app/checkout/components/order-summary/order-summary.component.ts","./src/app/checkout/components/payment-base/payment-base.component.ts","./src/app/checkout/components/payment-purchase-order/payment-purchase-order.component.html","./src/app/checkout/components/payment-purchase-order/payment-purchase-order.component.ts","./src/app/checkout/components/payment-spending-account/payment-spending-account.component.html","./src/app/checkout/components/payment-spending-account/payment-spending-account.component.ts","./src/app/checkout/containers/cart/cart.component.html","./src/app/checkout/containers/cart/cart.component.ts","./src/app/checkout/containers/checkout-address/checkout-address.component.html","./src/app/checkout/containers/checkout-address/checkout-address.component.ts","./src/app/checkout/containers/checkout-payment/checkout-payment.component.html","./src/app/checkout/containers/checkout-payment/checkout-payment.component.ts","./src/app/checkout/containers/checkout/checkout.component.html","./src/app/checkout/containers/checkout/checkout.component.ts","./src/app/checkout/containers/order-confirmation/order-confirmation.component.html","./src/app/checkout/containers/order-confirmation/order-confirmation.component.ts","./src/app/config/app.config.ts","./src/app/config/date-picker.config.ts","./src/app/config/error-handling.config.ts","./src/app/config/ordercloud-sdk.config.ts","./src/app/layout/footer/footer.component.html","./src/app/layout/footer/footer.component.ts","./src/app/layout/header/header.component.html","./src/app/layout/header/header.component.ts","./src/app/layout/home/home.component.html","./src/app/layout/home/home.component.ts","./src/app/layout/layout.module.ts","./src/app/layout/main/main.component.html","./src/app/layout/main/main.component.ts","./src/app/order/components/date-filter/date-filter.component.html","./src/app/order/components/date-filter/date-filter.component.ts","./src/app/order/components/order-list/order-list.component.html","./src/app/order/components/order-list/order-list.component.ts","./src/app/order/components/status-filter/status-filter.component.html","./src/app/order/components/status-filter/status-filter.component.ts","./src/app/order/components/status-icon/status-icon.component.html","./src/app/order/components/status-icon/status-icon.component.ts","./src/app/order/containers/order-approval/order-approval.component.html","./src/app/order/containers/order-approval/order-approval.component.ts","./src/app/order/containers/order-detail/order-detail.component.html","./src/app/order/containers/order-detail/order-detail.component.ts","./src/app/order/containers/order-history/order-history.component.html","./src/app/order/containers/order-history/order-history.component.ts","./src/app/order/containers/order-reorder/order-reorder.component.html","./src/app/order/containers/order-reorder/order-reorder.component.ts","./src/app/order/containers/order-shipments/order-shipments.component.html","./src/app/order/containers/order-shipments/order-shipments.component.ts","./src/app/order/containers/order/order.component.html","./src/app/order/containers/order/order.component.ts","./src/app/order/models/order-status.model.ts","./src/app/order/order-routing.module.ts.MyOrdersComponent.html","./src/app/order/order-routing.module.ts.OrdersToApproveComponent.html","./src/app/order/order-routing.module.ts","./src/app/order/order.module.ts","./src/app/order/order.resolve.ts","./src/app/order/shipments.resolve.ts","./src/app/product/components/additional-image-gallery/additional-image-gallery.component.html","./src/app/product/components/additional-image-gallery/additional-image-gallery.component.ts","./src/app/product/components/category-nav/category-nav.component.html","./src/app/product/components/category-nav/category-nav.component.ts","./src/app/product/components/facet-filter/facet-filter.component.html","./src/app/product/components/facet-filter/facet-filter.component.ts","./src/app/product/components/facet-list/facet-list.component.html","./src/app/product/components/facet-list/facet-list.component.ts","./src/app/product/components/sort-filter/sort-filter.component.html","./src/app/product/components/sort-filter/sort-filter.component.ts","./src/app/product/components/spec-form/spec-form.component.html","./src/app/product/components/spec-form/spec-form.component.ts","./src/app/product/containers/product-details/product-details.component.html","./src/app/product/containers/product-details/product-details.component.ts","./src/app/product/containers/product-list/product-list.component.html","./src/app/product/containers/product-list/product-list.component.ts","./src/app/product/models/category-tree-node.class.ts","./src/app/product/models/product-sort-strategy.enum.ts","./src/app/product/product-routing.module.ts","./src/app/product/product.module.ts","./src/app/profile/components/change-password-form/change-password-form.component.html","./src/app/profile/components/change-password-form/change-password-form.component.ts","./src/app/profile/containers/address-list/address-list.component.html","./src/app/profile/containers/address-list/address-list.component.ts","./src/app/profile/containers/me-update/me-update.component.html","./src/app/profile/containers/me-update/me-update.component.ts","./src/app/profile/containers/payment-list/payment-list.component.html","./src/app/profile/containers/payment-list/payment-list.component.ts","./src/app/profile/containers/profile/profile.component.html","./src/app/profile/containers/profile/profile.component.ts","./src/app/profile/profile-routing.module.ts","./src/app/profile/profile.module.ts","./src/app/shared/components/address-display/address-display.component.html","./src/app/shared/components/address-display/address-display.component.ts","./src/app/shared/components/address-form/address-form.component.html","./src/app/shared/components/address-form/address-form.component.ts","./src/app/shared/components/credit-card-display/credit-card-display.component.html","./src/app/shared/components/credit-card-display/credit-card-display.component.ts","./src/app/shared/components/credit-card-form/credit-card-form.component.html","./src/app/shared/components/credit-card-form/credit-card-form.component.ts","./src/app/shared/components/credit-card-icon/credit-card-icon.component.html","./src/app/shared/components/credit-card-icon/credit-card-icon.component.ts","./src/app/shared/components/generic-browse/generic-browse.component.html","./src/app/shared/components/generic-browse/generic-browse.component.ts","./src/app/shared/components/line-item-card/line-item-card.component.html","./src/app/shared/components/line-item-card/line-item-card.component.ts","./src/app/shared/components/lineitem-list-wrapper/lineitem-list-wrapper.component.html","./src/app/shared/components/lineitem-list-wrapper/lineitem-list-wrapper.component.ts","./src/app/shared/components/mini-cart/mini-cart.component.html","./src/app/shared/components/mini-cart/mini-cart.component.ts","./src/app/shared/components/modal/modal.component.html","./src/app/shared/components/modal/modal.component.ts","./src/app/shared/components/no-results/no-results.component.html","./src/app/shared/components/no-results/no-results.component.ts","./src/app/shared/components/page-title/page-title.component.html","./src/app/shared/components/page-title/page-title.component.ts","./src/app/shared/components/payment-list/order-payment-list.component.html","./src/app/shared/components/payment-list/order-payment-list.component.ts","./src/app/shared/components/product-card/product-card.component.html","./src/app/shared/components/product-card/product-card.component.ts","./src/app/shared/components/product-carousel/product-carousel.component.html","./src/app/shared/components/product-carousel/product-carousel.component.ts","./src/app/shared/components/quantity-input/quantity-input.component.html","./src/app/shared/components/quantity-input/quantity-input.component.ts","./src/app/shared/components/search/search.component.html","./src/app/shared/components/search/search.component.ts","./src/app/shared/components/toggle-favorite/toggle-favorite.component.html","./src/app/shared/components/toggle-favorite/toggle-favorite.component.ts","./src/app/shared/directives/fallback-image/fallback-image.directive.ts","./src/app/shared/guards/has-token/has-token.guard.ts","./src/app/shared/guards/is-profiled-user/is-profiled-user.guard.ts","./src/app/shared/index.ts","./src/app/shared/models/payment-method.enum.ts","./src/app/shared/pipes/order-status-display/order-status-display.pipe.ts","./src/app/shared/pipes/payment-method-display/payment-method-display.pipe.ts","./src/app/shared/pipes/shipperTracking/shipperTracking.pipe.ts","./src/app/shared/resolves/base.resolve.ts","./src/app/shared/services/app-payment-service/app-payment.service.ts","./src/app/shared/services/app-state/app-state.service.ts","./src/app/shared/services/authorize-net/authorize-net.service.ts","./src/app/shared/services/base-resolve/base-resolve.service.ts","./src/app/shared/services/cart/cart.service.ts","./src/app/shared/services/favorites/favorites.service.ts","./src/app/shared/services/form-error/form-error.service.ts","./src/app/shared/services/geography/geography.service.ts","./src/app/shared/services/modal/modal.service.ts","./src/app/shared/services/regex/regex.service.ts","./src/app/shared/services/reorder/reorder.service.ts","./src/app/shared/shared-routing.module.ts","./src/app/shared/shared.module.ts","./src/app/shared/validators/date-input/date-input.validator.ts","./src/app/shared/validators/match-fields/match-fields.validator.ts","./src/app/shared/validators/product-quantity/product.quantity.validator.ts","./src/app/shared/validators/strong-password/strong-password.validator.ts","./src/app/static-pages/faq/faq.component.html","./src/app/static-pages/faq/faq.component.ts","./src/app/static-pages/support/support.component.html","./src/app/static-pages/support/support.component.ts","./src/app/static-pages/terms-and-conditions/terms-and-conditions.component.html","./src/app/static-pages/terms-and-conditions/terms-and-conditions.component.ts","./src/environments/environment.ts","./src/main.server.ts","external \"@angular/animations\"","external \"@angular/animations/browser\"","external \"@angular/common\"","external \"@angular/common/http\"","external \"@angular/core\"","external \"@angular/forms\"","external \"@angular/platform-browser\"","external \"@angular/platform-browser/animations\"","external \"@angular/platform-server\"","external \"@angular/router\"","external \"@fortawesome/angular-fontawesome\"","external \"@fortawesome/free-brands-svg-icons\"","external \"@fortawesome/free-regular-svg-icons\"","external \"@fortawesome/free-solid-svg-icons\"","external \"@gorniv/ngx-universal\"","external \"@ng-bootstrap/ng-bootstrap\"","external \"@nguniversal/module-map-ngfactory-loader\"","external \"@ngx-progressbar/core\"","external \"@ngx-progressbar/http\"","external \"@ordercloud/angular-sdk\"","external \"angular2-text-mask\"","external \"jwt-decode\"","external \"lodash\"","external \"moment\"","external \"ngx-image-zoom\"","external \"ngx-toastr\"","external \"rxjs\"","external \"rxjs/operators\"","external \"tslib\""],"names":[],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","<router-outlet></router-outlet>","<ng-content select=\"fa-icon, fa-layers-text, fa-layers-counter\"></ng-content>","\n    <ng-template #t ngbPanelHeader let-panel>\n      <button class=\"btn btn-link\" [ngbPanelToggle]=\"panel\">\n        {{panel.title}}<ng-template [ngTemplateOutlet]=\"panel.titleTpl?.templateRef\"></ng-template>\n      </button>\n    </ng-template>\n    <ng-template ngFor let-panel [ngForOf]=\"panels\">\n      <div class=\"card\">\n        <div role=\"tab\" id=\"{{panel.id}}-header\" [class]=\"'card-header ' + (panel.type ? 'bg-'+panel.type: type ? 'bg-'+type : '')\">\n          <ng-template [ngTemplateOutlet]=\"panel.headerTpl?.templateRef || t\"\n                       [ngTemplateOutletContext]=\"{$implicit: panel, opened: panel.isOpen}\"></ng-template>\n        </div>\n        <div id=\"{{panel.id}}\" role=\"tabpanel\" [attr.aria-labelledby]=\"panel.id + '-header'\"\n             class=\"collapse\" [class.show]=\"panel.isOpen\" *ngIf=\"!destroyOnHide || panel.isOpen\">\n          <div class=\"card-body\">\n               <ng-template [ngTemplateOutlet]=\"panel.contentTpl?.templateRef\"></ng-template>\n          </div>\n        </div>\n      </div>\n    </ng-template>\n  ","\n    <ng-content></ng-content>\n    <button *ngIf=\"dismissible\" type=\"button\" class=\"close\" aria-label=\"Close\" i18n-aria-label=\"@@ngb.alert.close\"\n      (click)=\"closeHandler()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n    ","\n    <ol class=\"carousel-indicators\" *ngIf=\"showNavigationIndicators\">\n      <li *ngFor=\"let slide of slides\" [id]=\"slide.id\" [class.active]=\"slide.id === activeId\"\n          (click)=\"select(slide.id, NgbSlideEventSource.INDICATOR)\"></li>\n    </ol>\n    <div class=\"carousel-inner\">\n      <div *ngFor=\"let slide of slides\" class=\"carousel-item\" [class.active]=\"slide.id === activeId\">\n        <ng-template [ngTemplateOutlet]=\"slide.tplRef\"></ng-template>\n      </div>\n    </div>\n    <a class=\"carousel-control-prev\" role=\"button\" (click)=\"prev(NgbSlideEventSource.ARROW_LEFT)\" *ngIf=\"showNavigationArrows\">\n      <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n      <span class=\"sr-only\" i18n=\"@@ngb.carousel.previous\">Previous</span>\n    </a>\n    <a class=\"carousel-control-next\" role=\"button\" (click)=\"next(NgbSlideEventSource.ARROW_RIGHT)\" *ngIf=\"showNavigationArrows\">\n      <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n      <span class=\"sr-only\" i18n=\"@@ngb.carousel.next\">Next</span>\n    </a>\n  ","\n    <div *ngIf=\"showWeekdays\" class=\"ngb-dp-week ngb-dp-weekdays bg-light\">\n      <div *ngIf=\"showWeekNumbers\" class=\"ngb-dp-weekday ngb-dp-showweek\"></div>\n      <div *ngFor=\"let w of month.weekdays\" class=\"ngb-dp-weekday small\">\n        {{ i18n.getWeekdayShortName(w) }}\n      </div>\n    </div>\n    <ng-template ngFor let-week [ngForOf]=\"month.weeks\">\n      <div *ngIf=\"!week.collapsed\" class=\"ngb-dp-week\" role=\"row\">\n        <div *ngIf=\"showWeekNumbers\" class=\"ngb-dp-week-number small text-muted\">{{ i18n.getWeekNumerals(week.number) }}</div>\n        <div *ngFor=\"let day of week.days\" (click)=\"doSelect(day)\" class=\"ngb-dp-day\" role=\"gridcell\"\n          [class.disabled]=\"day.context.disabled\"\n          [tabindex]=\"day.tabindex\"\n          [class.hidden]=\"day.hidden\"\n          [class.ngb-dp-today]=\"day.context.today\"\n          [attr.aria-label]=\"day.ariaLabel\">\n          <ng-template [ngIf]=\"!day.hidden\">\n            <ng-template [ngTemplateOutlet]=\"dayTemplate\" [ngTemplateOutletContext]=\"day.context\"></ng-template>\n          </ng-template>\n        </div>\n      </div>\n    </ng-template>\n  ","{{ i18n.getDayNumerals(date) }}","\n    <div class=\"ngb-dp-arrow\">\n      <button type=\"button\" class=\"btn btn-link ngb-dp-arrow-btn\" (click)=\"navigate.emit(navigation.PREV)\" [disabled]=\"prevDisabled\"\n              i18n-aria-label=\"@@ngb.datepicker.previous-month\" aria-label=\"Previous month\"\n              i18n-title=\"@@ngb.datepicker.previous-month\" title=\"Previous month\">\n        <span class=\"ngb-dp-navigation-chevron\"></span>\n      </button>\n    </div>\n    <ngb-datepicker-navigation-select *ngIf=\"showSelect\" class=\"ngb-dp-navigation-select\"\n      [date]=\"date\"\n      [disabled] = \"disabled\"\n      [months]=\"selectBoxes.months\"\n      [years]=\"selectBoxes.years\"\n      (select)=\"select.emit($event)\">\n    </ngb-datepicker-navigation-select>\n\n    <ng-template *ngIf=\"!showSelect\" ngFor let-month [ngForOf]=\"months\" let-i=\"index\">\n      <div class=\"ngb-dp-arrow\" *ngIf=\"i > 0\"></div>\n      <div class=\"ngb-dp-month-name\">\n        {{ i18n.getMonthFullName(month.number, month.year) }} {{ i18n.getYearNumerals(month.year) }}\n      </div>\n      <div class=\"ngb-dp-arrow\" *ngIf=\"i !== months.length - 1\"></div>\n    </ng-template>\n    <div class=\"ngb-dp-arrow right\">\n      <button type=\"button\" class=\"btn btn-link ngb-dp-arrow-btn\" (click)=\"navigate.emit(navigation.NEXT)\" [disabled]=\"nextDisabled\"\n              i18n-aria-label=\"@@ngb.datepicker.next-month\" aria-label=\"Next month\"\n              i18n-title=\"@@ngb.datepicker.next-month\" title=\"Next month\">\n        <span class=\"ngb-dp-navigation-chevron\"></span>\n      </button>\n    </div>\n    ","\n    <select\n      [disabled]=\"disabled\"\n      class=\"custom-select\"\n      [value]=\"date?.month\"\n      i18n-aria-label=\"@@ngb.datepicker.select-month\" aria-label=\"Select month\"\n      i18n-title=\"@@ngb.datepicker.select-month\" title=\"Select month\"\n      (change)=\"changeMonth($event.target.value)\">\n        <option *ngFor=\"let m of months\" [attr.aria-label]=\"i18n.getMonthFullName(m, date?.year)\"\n                [value]=\"m\">{{ i18n.getMonthShortName(m, date?.year) }}</option>\n    </select><select\n      [disabled]=\"disabled\"\n      class=\"custom-select\"\n      [value]=\"date?.year\"\n      i18n-aria-label=\"@@ngb.datepicker.select-year\" aria-label=\"Select year\"\n      i18n-title=\"@@ngb.datepicker.select-year\" title=\"Select year\"\n      (change)=\"changeYear($event.target.value)\">\n        <option *ngFor=\"let y of years\" [value]=\"y\">{{ i18n.getYearNumerals(y) }}</option>\n    </select>\n  ","\n    <ng-template #dt let-date=\"date\" let-currentMonth=\"currentMonth\" let-selected=\"selected\" let-disabled=\"disabled\" let-focused=\"focused\">\n      <div ngbDatepickerDayView\n        [date]=\"date\"\n        [currentMonth]=\"currentMonth\"\n        [selected]=\"selected\"\n        [disabled]=\"disabled\"\n        [focused]=\"focused\">\n      </div>\n    </ng-template>\n\n    <div class=\"ngb-dp-header\">\n      <ngb-datepicker-navigation *ngIf=\"navigation !== 'none'\"\n        [date]=\"model.firstDate\"\n        [months]=\"model.months\"\n        [disabled]=\"model.disabled\"\n        [showSelect]=\"model.navigation === 'select'\"\n        [prevDisabled]=\"model.prevDisabled\"\n        [nextDisabled]=\"model.nextDisabled\"\n        [selectBoxes]=\"model.selectBoxes\"\n        (navigate)=\"onNavigateEvent($event)\"\n        (select)=\"onNavigateDateSelect($event)\">\n      </ngb-datepicker-navigation>\n    </div>\n\n    <div #months class=\"ngb-dp-months\" (keydown)=\"onKeyDown($event)\">\n      <ng-template ngFor let-month [ngForOf]=\"model.months\" let-i=\"index\">\n        <div class=\"ngb-dp-month\">\n          <div *ngIf=\"navigation === 'none' || (displayMonths > 1 && navigation === 'select')\"\n                class=\"ngb-dp-month-name\">\n            {{ i18n.getMonthFullName(month.number, month.year) }} {{ i18n.getYearNumerals(month.year) }}\n          </div>\n          <ngb-datepicker-month-view\n            [month]=\"month\"\n            [dayTemplate]=\"dayTemplate || dt\"\n            [showWeekdays]=\"showWeekdays\"\n            [showWeekNumbers]=\"showWeekNumbers\"\n            (select)=\"onDateSelect($event)\">\n          </ngb-datepicker-month-view>\n        </div>\n      </ng-template>\n    </div>\n\n    <ng-template [ngTemplateOutlet]=\"footerTemplate\"></ng-template>\n  ","\n    <ng-template #first><span aria-hidden=\"true\" i18n=\"@@ngb.pagination.first\">&laquo;&laquo;</span></ng-template>\n    <ng-template #previous><span aria-hidden=\"true\" i18n=\"@@ngb.pagination.previous\">&laquo;</span></ng-template>\n    <ng-template #next><span aria-hidden=\"true\" i18n=\"@@ngb.pagination.next\">&raquo;</span></ng-template>\n    <ng-template #last><span aria-hidden=\"true\" i18n=\"@@ngb.pagination.last\">&raquo;&raquo;</span></ng-template>\n    <ng-template #ellipsis>...</ng-template>\n    <ng-template #defaultNumber let-page let-currentPage=\"currentPage\">\n      {{ page }}\n      <span *ngIf=\"page === currentPage\" class=\"sr-only\">(current)</span>\n    </ng-template>\n    <ul [class]=\"'pagination' + (size ? ' pagination-' + size : '')\">\n      <li *ngIf=\"boundaryLinks\" class=\"page-item\"\n        [class.disabled]=\"previousDisabled()\">\n        <a aria-label=\"First\" i18n-aria-label=\"@@ngb.pagination.first-aria\" class=\"page-link\" href\n          (click)=\"selectPage(1); $event.preventDefault()\" [attr.tabindex]=\"(hasPrevious() ? null : '-1')\">\n          <ng-template [ngTemplateOutlet]=\"tplFirst?.templateRef || first\"\n                       [ngTemplateOutletContext]=\"{disabled: previousDisabled(), currentPage: page}\"></ng-template>\n        </a>\n      </li>\n\n      <li *ngIf=\"directionLinks\" class=\"page-item\"\n        [class.disabled]=\"previousDisabled()\">\n        <a aria-label=\"Previous\" i18n-aria-label=\"@@ngb.pagination.previous-aria\" class=\"page-link\" href\n          (click)=\"selectPage(page-1); $event.preventDefault()\" [attr.tabindex]=\"(hasPrevious() ? null : '-1')\">\n          <ng-template [ngTemplateOutlet]=\"tplPrevious?.templateRef || previous\"\n                       [ngTemplateOutletContext]=\"{disabled: previousDisabled()}\"></ng-template>\n        </a>\n      </li>\n      <li *ngFor=\"let pageNumber of pages\" class=\"page-item\" [class.active]=\"pageNumber === page\"\n        [class.disabled]=\"isEllipsis(pageNumber) || disabled\">\n        <a *ngIf=\"isEllipsis(pageNumber)\" class=\"page-link\">\n          <ng-template [ngTemplateOutlet]=\"tplEllipsis?.templateRef || ellipsis\"\n                       [ngTemplateOutletContext]=\"{disabled: true, currentPage: page}\"></ng-template>\n        </a>\n        <a *ngIf=\"!isEllipsis(pageNumber)\" class=\"page-link\" href (click)=\"selectPage(pageNumber); $event.preventDefault()\">\n          <ng-template [ngTemplateOutlet]=\"tplNumber?.templateRef || defaultNumber\"\n                       [ngTemplateOutletContext]=\"{disabled: disabled, $implicit: pageNumber, currentPage: page}\"></ng-template>\n        </a>\n      </li>\n      <li *ngIf=\"directionLinks\" class=\"page-item\" [class.disabled]=\"nextDisabled()\">\n        <a aria-label=\"Next\" i18n-aria-label=\"@@ngb.pagination.next-aria\" class=\"page-link\" href\n          (click)=\"selectPage(page+1); $event.preventDefault()\" [attr.tabindex]=\"(hasNext() ? null : '-1')\">\n          <ng-template [ngTemplateOutlet]=\"tplNext?.templateRef || next\"\n                       [ngTemplateOutletContext]=\"{disabled: nextDisabled(), currentPage: page}\"></ng-template>\n        </a>\n      </li>\n\n      <li *ngIf=\"boundaryLinks\" class=\"page-item\" [class.disabled]=\"nextDisabled()\">\n        <a aria-label=\"Last\" i18n-aria-label=\"@@ngb.pagination.last-aria\" class=\"page-link\" href\n          (click)=\"selectPage(pageCount); $event.preventDefault()\" [attr.tabindex]=\"(hasNext() ? null : '-1')\">\n          <ng-template [ngTemplateOutlet]=\"tplLast?.templateRef || last\"\n                       [ngTemplateOutletContext]=\"{disabled: nextDisabled(), currentPage: page}\"></ng-template>\n        </a>\n      </li>\n    </ul>\n  ","\n    <div class=\"arrow\"></div>\n    <h3 class=\"popover-header\" *ngIf=\"title != null\">\n      <ng-template #simpleTitle>{{title}}</ng-template>\n      <ng-template [ngTemplateOutlet]=\"isTitleTemplate() ? title : simpleTitle\" [ngTemplateOutletContext]=\"context\"></ng-template>\n    </h3>\n    <div class=\"popover-body\"><ng-content></ng-content></div>","\n    <div class=\"progress\" [style.height]=\"height\">\n      <div class=\"progress-bar{{type ? ' bg-' + type : ''}}{{animated ? ' progress-bar-animated' : ''}}{{striped ?\n    ' progress-bar-striped' : ''}}\" role=\"progressbar\" [style.width.%]=\"getPercentValue()\"\n    [attr.aria-valuenow]=\"getValue()\" aria-valuemin=\"0\" [attr.aria-valuemax]=\"max\">\n        <span *ngIf=\"showValue\" i18n=\"@@ngb.progressbar.value\">{{getPercentValue()}}%</span><ng-content></ng-content>\n      </div>\n    </div>\n  ","\n    <ng-template #t let-fill=\"fill\">{{ fill === 100 ? '&#9733;' : '&#9734;' }}</ng-template>\n    <ng-template ngFor [ngForOf]=\"contexts\" let-index=\"index\">\n      <span class=\"sr-only\">({{ index < nextRate ? '*' : ' ' }})</span>\n      <span (mouseenter)=\"enter(index + 1)\" (click)=\"handleClick(index + 1)\" [style.cursor]=\"readonly || disabled ? 'default' : 'pointer'\">\n        <ng-template [ngTemplateOutlet]=\"starTemplate || starTemplateFromContent || t\" [ngTemplateOutletContext]=\"contexts[index]\">\n        </ng-template>\n      </span>\n    </ng-template>\n  ","\n    <ul [class]=\"'nav nav-' + type + (orientation == 'horizontal'?  ' ' + justifyClass : ' flex-column')\" role=\"tablist\">\n      <li class=\"nav-item\" *ngFor=\"let tab of tabs\">\n        <a [id]=\"tab.id\" class=\"nav-link\" [class.active]=\"tab.id === activeId\" [class.disabled]=\"tab.disabled\"\n          href (click)=\"select(tab.id); $event.preventDefault()\" role=\"tab\" [attr.tabindex]=\"(tab.disabled ? '-1': undefined)\"\n          [attr.aria-controls]=\"(!destroyOnHide || tab.id === activeId ? tab.id + '-panel' : null)\"\n          [attr.aria-selected]=\"tab.id === activeId\" [attr.aria-disabled]=\"tab.disabled\">\n          {{tab.title}}<ng-template [ngTemplateOutlet]=\"tab.titleTpl?.templateRef\"></ng-template>\n        </a>\n      </li>\n    </ul>\n    <div class=\"tab-content\">\n      <ng-template ngFor let-tab [ngForOf]=\"tabs\">\n        <div\n          class=\"tab-pane {{tab.id === activeId ? 'active' : null}}\"\n          *ngIf=\"!destroyOnHide || tab.id === activeId\"\n          role=\"tabpanel\"\n          [attr.aria-labelledby]=\"tab.id\" id=\"{{tab.id}}-panel\">\n          <ng-template [ngTemplateOutlet]=\"tab.contentTpl?.templateRef\"></ng-template>\n        </div>\n      </ng-template>\n    </div>\n  ","\n    <fieldset [disabled]=\"disabled\" [class.disabled]=\"disabled\">\n      <div class=\"ngb-tp\">\n        <div class=\"ngb-tp-input-container ngb-tp-hour\">\n          <button *ngIf=\"spinners\" tabindex=\"-1\" type=\"button\" (click)=\"changeHour(hourStep)\"\n            class=\"btn btn-link\" [class.btn-sm]=\"isSmallSize\" [class.btn-lg]=\"isLargeSize\" [class.disabled]=\"disabled\"\n            [disabled]=\"disabled\">\n            <span class=\"chevron ngb-tp-chevron\"></span>\n            <span class=\"sr-only\" i18n=\"@@ngb.timepicker.increment-hours\">Increment hours</span>\n          </button>\n          <input type=\"text\" class=\"ngb-tp-input form-control\" [class.form-control-sm]=\"isSmallSize\" [class.form-control-lg]=\"isLargeSize\"\n            maxlength=\"2\" placeholder=\"HH\" i18n-placeholder=\"@@ngb.timepicker.HH\"\n            [value]=\"formatHour(model?.hour)\" (change)=\"updateHour($event.target.value)\"\n            [readOnly]=\"readonlyInputs\" [disabled]=\"disabled\" aria-label=\"Hours\" i18n-aria-label=\"@@ngb.timepicker.hours\"\n            (keydown.ArrowUp)=\"changeHour(hourStep); $event.preventDefault()\"\n            (keydown.ArrowDown)=\"changeHour(-hourStep); $event.preventDefault()\">\n          <button *ngIf=\"spinners\" tabindex=\"-1\" type=\"button\" (click)=\"changeHour(-hourStep)\"\n            class=\"btn btn-link\" [class.btn-sm]=\"isSmallSize\" [class.btn-lg]=\"isLargeSize\" [class.disabled]=\"disabled\"\n            [disabled]=\"disabled\">\n            <span class=\"chevron ngb-tp-chevron bottom\"></span>\n            <span class=\"sr-only\" i18n=\"@@ngb.timepicker.decrement-hours\">Decrement hours</span>\n          </button>\n        </div>\n        <div class=\"ngb-tp-spacer\">:</div>\n        <div class=\"ngb-tp-input-container ngb-tp-minute\">\n          <button *ngIf=\"spinners\" tabindex=\"-1\" type=\"button\" (click)=\"changeMinute(minuteStep)\"\n            class=\"btn btn-link\" [class.btn-sm]=\"isSmallSize\" [class.btn-lg]=\"isLargeSize\" [class.disabled]=\"disabled\"\n            [disabled]=\"disabled\">\n            <span class=\"chevron ngb-tp-chevron\"></span>\n            <span class=\"sr-only\" i18n=\"@@ngb.timepicker.increment-minutes\">Increment minutes</span>\n          </button>\n          <input type=\"text\" class=\"ngb-tp-input form-control\" [class.form-control-sm]=\"isSmallSize\" [class.form-control-lg]=\"isLargeSize\"\n            maxlength=\"2\" placeholder=\"MM\" i18n-placeholder=\"@@ngb.timepicker.MM\"\n            [value]=\"formatMinSec(model?.minute)\" (change)=\"updateMinute($event.target.value)\"\n            [readOnly]=\"readonlyInputs\" [disabled]=\"disabled\" aria-label=\"Minutes\" i18n-aria-label=\"@@ngb.timepicker.minutes\"\n            (keydown.ArrowUp)=\"changeMinute(minuteStep); $event.preventDefault()\"\n            (keydown.ArrowDown)=\"changeMinute(-minuteStep); $event.preventDefault()\">\n          <button *ngIf=\"spinners\" tabindex=\"-1\" type=\"button\" (click)=\"changeMinute(-minuteStep)\"\n            class=\"btn btn-link\" [class.btn-sm]=\"isSmallSize\" [class.btn-lg]=\"isLargeSize\"  [class.disabled]=\"disabled\"\n            [disabled]=\"disabled\">\n            <span class=\"chevron ngb-tp-chevron bottom\"></span>\n            <span class=\"sr-only\"  i18n=\"@@ngb.timepicker.decrement-minutes\">Decrement minutes</span>\n          </button>\n        </div>\n        <div *ngIf=\"seconds\" class=\"ngb-tp-spacer\">:</div>\n        <div *ngIf=\"seconds\" class=\"ngb-tp-input-container ngb-tp-second\">\n          <button *ngIf=\"spinners\" tabindex=\"-1\" type=\"button\" (click)=\"changeSecond(secondStep)\"\n            class=\"btn btn-link\" [class.btn-sm]=\"isSmallSize\" [class.btn-lg]=\"isLargeSize\" [class.disabled]=\"disabled\"\n            [disabled]=\"disabled\">\n            <span class=\"chevron ngb-tp-chevron\"></span>\n            <span class=\"sr-only\" i18n=\"@@ngb.timepicker.increment-seconds\">Increment seconds</span>\n          </button>\n          <input type=\"text\" class=\"ngb-tp-input form-control\" [class.form-control-sm]=\"isSmallSize\" [class.form-control-lg]=\"isLargeSize\"\n            maxlength=\"2\" placeholder=\"SS\" i18n-placeholder=\"@@ngb.timepicker.SS\"\n            [value]=\"formatMinSec(model?.second)\" (change)=\"updateSecond($event.target.value)\"\n            [readOnly]=\"readonlyInputs\" [disabled]=\"disabled\" aria-label=\"Seconds\" i18n-aria-label=\"@@ngb.timepicker.seconds\"\n            (keydown.ArrowUp)=\"changeSecond(secondStep); $event.preventDefault()\"\n            (keydown.ArrowDown)=\"changeSecond(-secondStep); $event.preventDefault()\">\n          <button *ngIf=\"spinners\" tabindex=\"-1\" type=\"button\" (click)=\"changeSecond(-secondStep)\"\n            class=\"btn btn-link\" [class.btn-sm]=\"isSmallSize\" [class.btn-lg]=\"isLargeSize\"  [class.disabled]=\"disabled\"\n            [disabled]=\"disabled\">\n            <span class=\"chevron ngb-tp-chevron bottom\"></span>\n            <span class=\"sr-only\" i18n=\"@@ngb.timepicker.decrement-seconds\">Decrement seconds</span>\n          </button>\n        </div>\n        <div *ngIf=\"meridian\" class=\"ngb-tp-spacer\"></div>\n        <div *ngIf=\"meridian\" class=\"ngb-tp-meridian\">\n          <button type=\"button\" class=\"btn btn-outline-primary\" [class.btn-sm]=\"isSmallSize\" [class.btn-lg]=\"isLargeSize\"\n            [disabled]=\"disabled\" [class.disabled]=\"disabled\"\n                  (click)=\"toggleMeridian()\">\n            <ng-container *ngIf=\"model?.hour >= 12; else am\" i18n=\"@@ngb.timepicker.PM\">{{ i18n.getAfternoonPeriod() }}</ng-container>\n            <ng-template #am i18n=\"@@ngb.timepicker.AM\">{{ i18n.getMorningPeriod() }}</ng-template>\n          </button>\n        </div>\n      </div>\n    </fieldset>\n  ","\n    <ng-template #headerTpl>\n      <strong class=\"mr-auto\">{{header}}</strong>\n    </ng-template>\n    <ng-template [ngIf]=\"contentHeaderTpl || header\">\n      <div class=\"toast-header\">\n        <ng-template [ngTemplateOutlet]=\"contentHeaderTpl || headerTpl\"></ng-template>\n        <button type=\"button\" class=\"close\" aria-label=\"Close\" i18n-aria-label=\"@@ngb.toast.close-aria\" (click)=\"hide()\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n    </ng-template>\n    <div class=\"toast-body\">\n      <ng-content></ng-content>\n    </div>\n  ","<div class=\"arrow\"></div><div class=\"tooltip-inner\"><ng-content></ng-content></div>","\n    <ng-template #rt let-result=\"result\" let-term=\"term\" let-formatter=\"formatter\">\n      <ngb-highlight [result]=\"formatter(result)\" [term]=\"term\"></ngb-highlight>\n    </ng-template>\n    <ng-template ngFor [ngForOf]=\"results\" let-result let-idx=\"index\">\n      <button type=\"button\" class=\"dropdown-item\" role=\"option\"\n        [id]=\"id + '-' + idx\"\n        [class.active]=\"idx === activeIdx\"\n        (mouseenter)=\"markActive(idx)\"\n        (click)=\"select(result)\">\n          <ng-template [ngTemplateOutlet]=\"resultTemplate || rt\"\n          [ngTemplateOutletContext]=\"{result: result, term: term, formatter: formatter}\"></ng-template>\n      </button>\n    </ng-template>\n  ","<ng-template ngFor [ngForOf]=\"parts\" let-part let-isOdd=\"odd\"><span *ngIf=\"isOdd; else even\" [class]=\"highlightClass\">{{part}}</span><ng-template #even>{{part}}</ng-template></ng-template>","\n    <div [class]=\"'modal-dialog' + (size ? ' modal-' + size : '') + (centered ? ' modal-dialog-centered' : '') +\n     (scrollable ? ' modal-dialog-scrollable' : '')\" role=\"document\">\n        <div class=\"modal-content\"><ng-content></ng-content></div>\n    </div>\n    ","\n    <ng-container *ngIf=\"state$ | async; let state\">\n      <div class=\"ng-progress-bar\"\n            [class.-active]=\"state.active\"\n            [style.transition]=\"'opacity ' + speed + 'ms ' + ease\">\n        <div class=\"ng-bar-placeholder\">\n          <div class=\"ng-bar\"\n                [style.transform]=\"state.transform\"\n                [style.backgroundColor]=\"color\"\n                [style.transition]=\"state.active ? 'all ' + speed + 'ms ' + ease : 'none'\">\n            <div *ngIf=\"meteor\" class=\"ng-meteor\" [style.boxShadow]=\"'0 0 10px '+ color + ', 0 0 5px ' + color\"></div>\n          </div>\n        </div>\n        <div *ngIf=\"spinner\" class=\"ng-spinner\">\n          <div class=\"ng-spinner-icon\"\n                [style.borderTopColor]=\"color\"\n                [style.borderLeftColor]=\"color\"></div>\n        </div>\n      </div>\n    </ng-container>\n  ","<div #zoomContainer class=\"ngxImageZoomContainer\" [style.width.px]=\"this.thumbWidth\" [style.height.px]=\"this.thumbHeight\"> <img #imageThumbnail class=\"ngxImageZoomThumbnail\" [src]=\"thumbImage\" (load)=\"onThumbImageLoaded()\"/> <div [ngClass]=\"{'ngxImageZoomFullContainer': true, 'ngxImageZoomLensEnabled': this.enableLens}\" [style.display]=\"this.display\" [style.top.px]=\"this.lensTop\" [style.left.px]=\"this.lensLeft\" [style.width.px]=\"this.lensWidth\" [style.height.px]=\"this.lensHeight\" [style.border-radius.px]=\"this.lensBorderRadius\" > <img #fullSizeImage class=\"ngxImageZoomFull\" [src]=\"fullImage\" (load)=\"onFullImageLoaded()\" [style.display]=\"this.display\" [style.top.px]=\"this.fullImageTop\" [style.left.px]=\"this.fullImageLeft\" [style.width.px]=\"this.magnifiedWidth\" [style.height.px]=\"this.magnifiedHeight\" /> </div> </div> ","\n  <button *ngIf=\"options.closeButton\" (click)=\"remove()\" class=\"toast-close-button\" aria-label=\"Close\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button>\n  <div *ngIf=\"title\" [class]=\"options.titleClass\" [attr.aria-label]=\"title\">\n    {{ title }}\n  </div>\n  <div *ngIf=\"message && options.enableHtml\" role=\"alertdialog\" aria-live=\"polite\"\n    [class]=\"options.messageClass\" [innerHTML]=\"message\">\n  </div>\n  <div *ngIf=\"message && !options.enableHtml\" role=\"alertdialog\" aria-live=\"polite\"\n    [class]=\"options.messageClass\" [attr.aria-label]=\"message\">\n    {{ message }}\n  </div>\n  <div *ngIf=\"options.progressBar\">\n    <div class=\"toast-progress\" [style.width]=\"width + '%'\"></div>\n  </div>\n  ","\n  <button *ngIf=\"options.closeButton\" (click)=\"remove()\" class=\"toast-close-button\" aria-label=\"Close\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button>\n  <div *ngIf=\"title\" [class]=\"options.titleClass\" [attr.aria-label]=\"title\">\n    {{ title }}\n  </div>\n  <div *ngIf=\"message && options.enableHtml\" role=\"alert\" aria-live=\"polite\"\n    [class]=\"options.messageClass\" [innerHTML]=\"message\">\n  </div>\n  <div *ngIf=\"message && !options.enableHtml\" role=\"alert\" aria-live=\"polite\"\n    [class]=\"options.messageClass\" [attr.aria-label]=\"message\">\n    {{ message }}\n  </div>\n  <div *ngIf=\"options.progressBar\">\n    <div class=\"toast-progress\" [style.width]=\"width + '%'\"></div>\n  </div>\n  ","// components\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { FaqComponent } from './static-pages/faq/faq.component';\r\nimport { SupportComponent } from './static-pages/support/support.component';\r\n\r\nimport {\r\n  BaseResolve,\r\n  IsProfiledUserGuard as isProfiledUser,\r\n  HasTokenGuard as HasToken,\r\n} from 'src/app/shared';\r\nimport { HomeComponent } from 'src/app/layout/home/home.component';\r\nimport { TermsAndConditionsComponent } from 'src/app/static-pages/terms-and-conditions/terms-and-conditions.component';\r\nimport { ProductsModule } from './product/product.module';\r\nimport { ProfileModule } from './profile/profile.module';\r\nimport { CheckoutModule } from './checkout/checkout.module';\r\n\r\nexport function loadProductsModule() {\r\n  return ProductsModule;\r\n}\r\n\r\nexport function loadProfileModule() {\r\n  return ProfileModule;\r\n}\r\n\r\nexport function loadCheckoutModule() {\r\n  return CheckoutModule;\r\n}\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    canActivate: [HasToken],\r\n    resolve: {\r\n      baseResolve: BaseResolve,\r\n    },\r\n    children: [\r\n      { path: '', redirectTo: '/home', pathMatch: 'full' },\r\n      { path: 'home', component: HomeComponent },\r\n      {\r\n        path: 'profile',\r\n        loadChildren: './profile/profile.module#ProfileModule',\r\n        canActivate: [isProfiledUser],\r\n      },\r\n      {\r\n        path: 'support',\r\n        component: SupportComponent,\r\n      },\r\n      {\r\n        path: 'faq',\r\n        component: FaqComponent,\r\n      },\r\n      {\r\n        path: 'terms-and-conditions',\r\n        component: TermsAndConditionsComponent,\r\n      },\r\n      {\r\n        path: 'products',\r\n        loadChildren: './product/product.module#ProductsModule',\r\n      },\r\n      { path: '', loadChildren: './checkout/checkout.module#CheckoutModule' },\r\n      { path: 'impersonation', redirectTo: '/home' },\r\n    ],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AppRoutingModule {}\r\n","<layout-header class=\"fixed-top\"\r\n               *ngIf=\"(isLoggedIn$ | async)\">\r\n</layout-header>\r\n<layout-main></layout-main>\r\n<layout-footer *ngIf=\"(isLoggedIn$ | async)\"></layout-footer>\r\n<ng-progress></ng-progress>","import { Component } from '@angular/core';\r\nimport {\r\n  NgbDateAdapter,\r\n  NgbDateParserFormatter,\r\n} from '@ng-bootstrap/ng-bootstrap';\r\nimport {\r\n  NgbDateNativeAdapter,\r\n  NgbDateCustomParserFormatter,\r\n} from 'src/app/config/date-picker.config';\r\nimport { AppStateService } from 'src/app/shared';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss'],\r\n  providers: [\r\n    // allows us to use native date object when interacting with ngb-datepicker\r\n    { provide: NgbDateAdapter, useClass: NgbDateNativeAdapter },\r\n    // defines date format as mm/dd/yyyy\r\n    { provide: NgbDateParserFormatter, useClass: NgbDateCustomParserFormatter },\r\n  ],\r\n})\r\nexport class AppComponent {\r\n  isLoggedIn$: Observable<boolean>;\r\n\r\n  constructor(private appStateService: AppStateService) {\r\n    this.isLoggedIn$ = this.appStateService.isLoggedIn;\r\n  }\r\n}\r\n","// angular core\r\nimport { NgModule, ErrorHandler } from '@angular/core';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\r\n\r\n// 3rd party\r\nimport { NgProgressModule } from '@ngx-progressbar/core';\r\nimport { NgProgressHttpModule } from '@ngx-progressbar/http';\r\nimport { CookieModule, NgxRequest, NgxResponce } from '@gorniv/ngx-universal';\r\nimport { ToastrModule } from 'ngx-toastr';\r\nimport { OrderCloudModule } from '@ordercloud/angular-sdk';\r\nimport { OcSDKConfig } from 'src/app/config/ordercloud-sdk.config';\r\nimport { NgxImageZoomModule } from 'ngx-image-zoom';\r\n\r\n// app modules\r\nimport { SharedModule } from 'src/app/shared';\r\nimport { LayoutModule } from 'src/app/layout/layout.module';\r\nimport { AuthModule } from 'src/app/auth/auth.module';\r\nimport { AppRoutingModule } from 'src/app/app-routing.module';\r\n\r\n// app component\r\nimport { AppComponent } from 'src/app/app.component';\r\n\r\n// static pages\r\nimport { SupportComponent } from './static-pages/support/support.component';\r\nimport { FaqComponent } from './static-pages/faq/faq.component';\r\n\r\n// interceptors\r\nimport {\r\n  AutoAppendTokenInterceptor,\r\n  RefreshTokenInterceptor,\r\n  CacheInterceptor,\r\n} from 'src/app/auth';\r\n\r\n// date picker config\r\nimport { NgbDateAdapter } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgbDateNativeAdapter } from 'src/app/config/date-picker.config';\r\nimport { TermsAndConditionsComponent } from './static-pages/terms-and-conditions/terms-and-conditions.component';\r\n\r\n// error handler config\r\nimport { AppErrorHandler } from './config/error-handling.config';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    SupportComponent,\r\n    FaqComponent,\r\n    TermsAndConditionsComponent,\r\n  ],\r\n  imports: [\r\n    // angular core modules\r\n    BrowserAnimationsModule,\r\n    BrowserModule.withServerTransition({ appId: 'serverApp' }),\r\n\r\n    // app modules\r\n    AppRoutingModule,\r\n    AuthModule,\r\n    LayoutModule,\r\n\r\n    /**\r\n     * third party modules\r\n     * only those that must be installed\r\n     * with forRoot (except shared) should be defined here, all else\r\n     * can live in shared\r\n     */\r\n    SharedModule,\r\n    CookieModule.forRoot(),\r\n    NgProgressModule,\r\n    NgProgressHttpModule,\r\n    OrderCloudModule.forRoot(OcSDKConfig),\r\n    ToastrModule.forRoot(),\r\n    NgxImageZoomModule.forRoot(),\r\n  ],\r\n  providers: [\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: AutoAppendTokenInterceptor,\r\n      multi: true,\r\n    },\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: RefreshTokenInterceptor,\r\n      multi: true,\r\n    },\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: CacheInterceptor,\r\n      multi: true,\r\n    },\r\n    { provide: NgbDateAdapter, useClass: NgbDateNativeAdapter },\r\n    { provide: ErrorHandler, useClass: AppErrorHandler },\r\n    {\r\n      provide: NgxRequest,\r\n      useValue: { cookie: '', headers: {} },\r\n    },\r\n    {\r\n      provide: NgxResponce,\r\n      useValue: { cookie: '', headers: {} },\r\n    },\r\n  ],\r\n  bootstrap: [AppComponent],\r\n})\r\nexport class AppModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { ServerModule } from '@angular/platform-server';\r\nimport { ModuleMapLoaderModule } from '@nguniversal/module-map-ngfactory-loader';\r\n\r\nimport { AppModule } from './app.module';\r\nimport { AppComponent } from './app.component';\r\n\r\n@NgModule({\r\n  imports: [AppModule, ServerModule, ModuleMapLoaderModule],\r\n  bootstrap: [AppComponent],\r\n})\r\nexport class AppServerModule {}\r\n","// core services\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\n// auth components\r\nimport { LoginComponent } from 'src/app/auth/containers/login/login.component';\r\nimport { ForgotPasswordComponent } from 'src/app/auth/containers/forgot-password/forgot-password.component';\r\nimport { RegisterComponent } from 'src/app/auth/containers/register/register.component';\r\nimport { ResetPasswordComponent } from 'src/app/auth/containers/reset-password/reset-password.component';\r\n\r\nconst routes: Routes = [\r\n  { path: 'login', component: LoginComponent },\r\n  { path: 'register', component: RegisterComponent },\r\n  { path: 'forgot-password', component: ForgotPasswordComponent },\r\n  { path: 'reset-password', component: ResetPasswordComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AuthRoutingModule {}\r\n","// core services\r\nimport { NgModule } from '@angular/core';\r\nimport { SharedModule } from 'src/app/shared';\r\n\r\n// components\r\nimport { LoginComponent } from 'src/app/auth/containers/login/login.component';\r\nimport { RegisterComponent } from 'src/app/auth/containers/register/register.component';\r\nimport { ForgotPasswordComponent } from 'src/app/auth/containers/forgot-password/forgot-password.component';\r\nimport { ResetPasswordComponent } from 'src/app/auth/containers/reset-password/reset-password.component';\r\n\r\n// routing\r\nimport { AuthRoutingModule } from 'src/app/auth/auth-routing.module';\r\n\r\n@NgModule({\r\n  imports: [SharedModule, AuthRoutingModule],\r\n  declarations: [\r\n    LoginComponent,\r\n    RegisterComponent,\r\n    ForgotPasswordComponent,\r\n    ResetPasswordComponent,\r\n  ],\r\n})\r\nexport class AuthModule {}\r\n","<div class=\"logged-out-page\">\r\n  <div class=\"text-center mt-3\">\r\n    <h1 class=\"display-4\">{{appConfig.appname}}</h1>\r\n  </div>\r\n  <div class=\"mx-auto \"\r\n       style=\"max-width:350px;\">\r\n    <h3 class=\"text-center text-muted mb-3\">Forgot Password</h3>\r\n    <form (ngSubmit)=\"onSubmit()\"\r\n          [formGroup]=\"resetEmailForm\"\r\n          name=\"ResetEmail\"\r\n          autocomplete=\"off\"\r\n          novalidate>\r\n      <div class=\"form-group\">\r\n        <label for=\"email\"\r\n               class=\"sr-only\">Email</label>\r\n        <input formControlName=\"email\"\r\n               id=\"email\"\r\n               type=\"text\"\r\n               class=\"form-control\"\r\n               placeholder=\"Email\"\r\n               autocapitalize=\"off\"\r\n               autofocus />\r\n      </div>\r\n      <button id=\"submitBtn\"\r\n              type=\"submit\"\r\n              class=\"btn btn-primary btn-block\">Send Email</button>\r\n    </form>\r\n    <button type=\"button\"\r\n            class=\"btn btn-link btn-block\"\r\n            routerLink=\"/login\">Return to Login</button>\r\n  </div>\r\n</div>","// angular\r\nimport { Component, OnInit, Inject } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\n\r\n// angular libs\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n// ordercloud\r\nimport { OcPasswordResetService } from '@ordercloud/angular-sdk';\r\nimport {\r\n  applicationConfiguration,\r\n  AppConfig,\r\n} from 'src/app/config/app.config';\r\n\r\n@Component({\r\n  selector: 'auth-forgot-password',\r\n  templateUrl: './forgot-password.component.html',\r\n  styleUrls: ['./forgot-password.component.scss'],\r\n})\r\nexport class ForgotPasswordComponent implements OnInit {\r\n  resetEmailForm: FormGroup;\r\n\r\n  constructor(\r\n    private ocPasswordResetService: OcPasswordResetService,\r\n    private router: Router,\r\n    private formBuilder: FormBuilder,\r\n    private toasterService: ToastrService,\r\n    @Inject(applicationConfiguration) public appConfig: AppConfig\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.resetEmailForm = this.formBuilder.group({ email: '' });\r\n  }\r\n\r\n  onSubmit() {\r\n    this.ocPasswordResetService\r\n      .SendVerificationCode({\r\n        Email: this.resetEmailForm.get('email').value,\r\n        ClientID: this.appConfig.clientID,\r\n        URL: window.location.origin,\r\n      })\r\n      .subscribe(\r\n        () => {\r\n          this.toasterService.success('Password Reset Email Sent!', 'Success');\r\n          this.router.navigateByUrl('/login');\r\n        },\r\n        (error) => {\r\n          throw error;\r\n        }\r\n      );\r\n  }\r\n}\r\n","<div class=\"text-center\">\r\n  <p *ngIf=\"showRegisterLink()\">Don't have an account? <button type=\"button\"\r\n            class=\"btn btn-link\"\r\n            routerLink=\"/register\">Sign Up</button></p>\r\n  <h1 class=\"display-4\">{{appConfig.appname}}</h1>\r\n</div>\r\n<div class=\"mx-auto mt-4\"\r\n     style=\"max-width:350px;\">\r\n  <h3 class=\"text-center headline-text\">Account Login</h3>\r\n  <form (ngSubmit)=\"onSubmit()\"\r\n        [formGroup]=\"form\"\r\n        name=\"LoginForm\"\r\n        autocomplete=\"off\"\r\n        novalidate>\r\n    <div class=\"form-group\">\r\n      <label for=\"username\">Username</label>\r\n      <input formControlName=\"username\"\r\n             id=\"username\"\r\n             type=\"text\"\r\n             class=\"form-control\"\r\n             placeholder=\"Username\"\r\n             autocapitalize=\"off\"\r\n             autofocus />\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"password\">Password</label>\r\n      <input formControlName=\"password\"\r\n             type=\"password\"\r\n             class=\"form-control\"\r\n             placeholder=\"Password\"\r\n             id=\"password\" />\r\n    </div>\r\n    <div class=\"form-group text-center\">\r\n      <div class=\"checkbox\">\r\n        <label for=\"rememberMeId\">\r\n          <input formControlName=\"rememberMe\"\r\n                 type=\"checkbox\"\r\n                 id=\"rememberMeId\">\r\n          Remember Me\r\n        </label>\r\n      </div>\r\n    </div>\r\n    <button id=\"submitBtn\"\r\n            type=\"submit\"\r\n            [disabled]=\"!form.valid\"\r\n            class=\"btn btn-primary btn-lg btn-block\">Submit</button>\r\n  </form>\r\n  <button type=\"button\"\r\n          class=\"btn btn-link btn-block text-center\"\r\n          routerLink=\"/forgot-password\">Reset Password</button>\r\n</div>","// angular\r\nimport { Component, OnInit, Inject } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\n\r\n// ordercloud\r\nimport { OcAuthService, OcTokenService } from '@ordercloud/angular-sdk';\r\nimport {\r\n  applicationConfiguration,\r\n  AppConfig,\r\n} from 'src/app/config/app.config';\r\nimport { AppAuthService } from 'src/app/auth/services/app-auth.service';\r\nimport { AppStateService } from 'src/app/shared';\r\n\r\n@Component({\r\n  selector: 'auth-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss'],\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  form: FormGroup;\r\n  isAnon: boolean;\r\n\r\n  constructor(\r\n    private ocAuthService: OcAuthService,\r\n    private appAuthService: AppAuthService,\r\n    private ocTokenService: OcTokenService,\r\n    private router: Router,\r\n    private formBuilder: FormBuilder,\r\n    private appStateService: AppStateService,\r\n    @Inject(applicationConfiguration) public appConfig: AppConfig\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.form = this.formBuilder.group({\r\n      username: '',\r\n      password: '',\r\n      rememberMe: false,\r\n    });\r\n    this.isAnon = this.appStateService.isAnonSubject.value;\r\n  }\r\n\r\n  onSubmit() {\r\n    return this.ocAuthService\r\n      .Login(\r\n        this.form.get('username').value,\r\n        this.form.get('password').value,\r\n        this.appConfig.clientID,\r\n        this.appConfig.scope\r\n      )\r\n      .subscribe((response) => {\r\n        const rememberMe = this.form.get('rememberMe').value;\r\n        if (rememberMe && response.refresh_token) {\r\n          /**\r\n           * set the token duration in the dashboard - https://developer.ordercloud.io/dashboard/settings\r\n           * refresh tokens are configured per clientID and initially set to 0\r\n           * a refresh token of 0 means no refresh token is returned in OAuth response\r\n           */\r\n          this.ocTokenService.SetRefresh(response.refresh_token);\r\n          this.appAuthService.setRememberStatus(true);\r\n        }\r\n        this.ocTokenService.SetAccess(response.access_token);\r\n        this.router.navigateByUrl('/home');\r\n      });\r\n  }\r\n\r\n  showRegisterLink(): boolean {\r\n    return this.isAnon && this.appConfig.anonymousShoppingEnabled;\r\n  }\r\n}\r\n","<div class=\"text-center mt-3\">\r\n  <p>Already have an account? <button type=\"button\"\r\n            class=\"btn btn-link\"\r\n            routerLink=\"/login\">Login</button></p>\r\n  <h1 class=\"display-4\">{{appConfig.appname}}</h1>\r\n</div>\r\n<div class=\"row\">\r\n  <div class=\"col-lg-6 mx-auto\"\r\n       style=\"max-width:400px\">\r\n    <h3 class=\"text-center headline-text mb-3\">Sign Up</h3>\r\n    <form (ngSubmit)=\"onSubmit()\"\r\n          novalidate\r\n          [formGroup]=\"form\"\r\n          name=\"RegisterForm\">\r\n      <div class=\"form-group\">\r\n        <label class=\"sr-only\"\r\n               for=\"Username\">Username</label>\r\n        <input type=\"text\"\r\n               formControlName=\"Username\"\r\n               class=\"form-control\"\r\n               id=\"Username\"\r\n               placeholder=\"Username\"\r\n               autofocus=\"true\"\r\n               autocomplete=\"off\" />\r\n        <span *ngIf=\"hasRequiredError('Username')\"\r\n              class=\"error-message\">Username is required</span>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label class=\"sr-only\"\r\n               for=\"FirstName\">First Name</label>\r\n        <input type=\"text\"\r\n               formControlName=\"FirstName\"\r\n               class=\"form-control\"\r\n               id=\"FirstName\"\r\n               placeholder=\"First Name\"\r\n               autocomplete=\"off\" />\r\n        <span *ngIf=\"hasRequiredError('FirstName')\"\r\n              class=\"error-message\">First Name is required</span>\r\n        <span *ngIf=\"hasPatternError('FirstName')\"\r\n              class=\"error-message\">Name can only contain characters Aa-Zz 0-9 - ' .</span>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label class=\"sr-only\"\r\n               for=\"LastName\">Last Name</label>\r\n        <input type=\"text\"\r\n               formControlName=\"LastName\"\r\n               class=\"form-control\"\r\n               id=\"LastName\"\r\n               placeholder=\"Last Name\"\r\n               autocomplete=\"off\" />\r\n        <span *ngIf=\"hasRequiredError('LastName')\"\r\n              class=\"error-message\">Last Name is required</span>\r\n        <span *ngIf=\"hasPatternError('LastName')\"\r\n              class=\"error-message\">Name can only contain characters Aa-Zz 0-9 - ' .</span>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label class=\"sr-only\"\r\n               for=\"Email\">Email</label>\r\n        <input type=\"email\"\r\n               formControlName=\"Email\"\r\n               class=\"form-control\"\r\n               id=\"Email\"\r\n               placeholder=\"Email\"\r\n               autocomplete=\"off\" />\r\n        <span *ngIf=\"hasEmailError()\"\r\n              class=\"error-message\">Please enter a valid email</span>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label class=\"sr-only\"\r\n               for=\"Phone\">Phone Number</label>\r\n        <input type=\"text\"\r\n               formControlName=\"Phone\"\r\n               class=\"form-control\"\r\n               id=\"Phone\"\r\n               placeholder=\"Phone Number\"\r\n               autocomplete=\"off\" />\r\n        <span *ngIf=\"hasPatternError('Phone')\"\r\n              class=\"error-message\">Phone can only contain 20 numbers or \"-\" chars (no spaces)</span>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label class=\"sr-only\"\r\n               for=\"Password\">Password</label>\r\n        <input type=\"password\"\r\n               formControlName=\"Password\"\r\n               class=\"form-control\"\r\n               id=\"Password\"\r\n               placeholder=\"Password\"\r\n               autocomplete=\"off\" />\r\n        <span *ngIf=\"hasRequiredError('Password')\"\r\n              class=\"error-message\">Password is required</span>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label class=\"sr-only\"\r\n               for=\"ConfirmPassword\">Confirm Password</label>\r\n        <input type=\"password\"\r\n               formControlName=\"ConfirmPassword\"\r\n               class=\"form-control\"\r\n               id=\"ConfirmPassword\"\r\n               placeholder=\"Confirm Password\"\r\n               autocomplete=\"off\" />\r\n        <span *ngIf=\"hasRequiredError('ConfirmPassword')\"\r\n              class=\"error-message\">Confirm is required</span>\r\n        <span *ngIf=\"passwordMismatchError()\"\r\n              class=\"error-message\">Passwords must match</span>\r\n      </div>\r\n      <button type=\"submit\"\r\n              class=\"btn btn-primary btn-lg btn-block mt-4\">Register\r\n      </button>\r\n    </form>\r\n    <button type=\"button\"\r\n            class=\"btn btn-link btn-block\"\r\n            routerLink=\"/forgot-password\">Forgot\r\n      Password\r\n    </button>\r\n  </div>\r\n</div>","import { Component, OnInit, Inject, OnDestroy } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { OcMeService, OcTokenService, MeUser } from '@ordercloud/angular-sdk';\r\nimport {\r\n  applicationConfiguration,\r\n  AppConfig,\r\n} from 'src/app/config/app.config';\r\nimport { AppFormErrorService } from 'src/app/shared/services/form-error/form-error.service';\r\nimport { AppMatchFieldsValidator } from 'src/app/shared/validators/match-fields/match-fields.validator';\r\nimport { RegexService } from 'src/app/shared/services/regex/regex.service';\r\n\r\n@Component({\r\n  selector: 'auth-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.scss'],\r\n})\r\nexport class RegisterComponent implements OnInit, OnDestroy {\r\n  form: FormGroup;\r\n  me: MeUser;\r\n  alive = true;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private formErrorService: AppFormErrorService,\r\n    private ocMeService: OcMeService,\r\n    private ocTokenService: OcTokenService,\r\n    private router: Router,\r\n    private toastrService: ToastrService,\r\n    private regexService: RegexService,\r\n    @Inject(applicationConfiguration) public appConfig: AppConfig\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.setForm();\r\n  }\r\n\r\n  private setForm() {\r\n    this.form = this.formBuilder.group(\r\n      {\r\n        Username: ['', Validators.required],\r\n        FirstName: [\r\n          '',\r\n          [\r\n            Validators.required,\r\n            Validators.pattern(this.regexService.HumanName),\r\n          ],\r\n        ],\r\n        LastName: [\r\n          '',\r\n          [\r\n            Validators.required,\r\n            Validators.pattern(this.regexService.HumanName),\r\n          ],\r\n        ],\r\n        Email: ['', [Validators.required, Validators.email]],\r\n        Phone: ['', Validators.pattern(this.regexService.Phone)],\r\n        Password: ['', [Validators.required, Validators.minLength(8)]],\r\n        ConfirmPassword: ['', [Validators.required, Validators.minLength(8)]],\r\n      },\r\n      {\r\n        validator: AppMatchFieldsValidator('Password', 'ConfirmPassword'),\r\n      }\r\n    );\r\n  }\r\n\r\n  onSubmit() {\r\n    if (this.form.status === 'INVALID') {\r\n      return this.formErrorService.displayFormErrors(this.form);\r\n    }\r\n\r\n    const me = <MeUser>this.form.value;\r\n    me.Active = true;\r\n\r\n    this.ocMeService\r\n      .Register(this.ocTokenService.GetAccess(), me)\r\n      .subscribe(() => {\r\n        this.toastrService.success('New User Created');\r\n        this.router.navigate(['/login']);\r\n      });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.alive = false;\r\n  }\r\n\r\n  // control display of error messages\r\n  public hasRequiredError = (controlName: string): boolean =>\r\n    this.formErrorService.hasRequiredError(controlName, this.form);\r\n  public hasEmailError = (): boolean =>\r\n    this.formErrorService.hasInvalidEmailError(this.form.get('Email'));\r\n  public hasPatternError = (controlName: string) =>\r\n    this.formErrorService.hasPatternError(controlName, this.form);\r\n  public passwordMismatchError = (): boolean =>\r\n    this.formErrorService.hasPasswordMismatchError(this.form);\r\n}\r\n","<div class=\"logged-out-page\">\r\n  <div class=\"text-center mt-3\">\r\n    <h1 class=\"display-4\">{{appConfig.appname}}</h1>\r\n  </div>\r\n  <div class=\"mx-auto \"\r\n       style=\"max-width:350px;\">\r\n    <h3 class=\"text-center text-muted mb-3\">New Password</h3>\r\n    <form (ngSubmit)=\"onSubmit()\"\r\n          [formGroup]=\"form\"\r\n          name=\"NewPassword\"\r\n          autocomplete=\"off\"\r\n          novalidate>\r\n      <div class=\"form-group\">\r\n        <label for=\"psswrd\"\r\n               class=\"sr-only\">Password</label>\r\n        <input formControlName=\"password\"\r\n               id=\"psswrd\"\r\n               type=\"password\"\r\n               class=\"form-control\"\r\n               placeholder=\"Password\"\r\n               autocapitalize=\"off\"\r\n               autofocus />\r\n        <span *ngIf=\"hasRequiredError('password')\"\r\n              class=\"error-message\">Password is required</span>\r\n        <span *ngIf=\"hasStrongPasswordError('password')\"\r\n              class=\"error-message\">Password must\r\n          be at least eight characters long and include at least one letter and one number. Password can also include special\r\n          characters.\r\n        </span>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"confirm\"\r\n               class=\"sr-only\">Confirm Password</label>\r\n        <input formControlName=\"passwordConfirm\"\r\n               id=\"confirm\"\r\n               type=\"password\"\r\n               class=\"form-control\"\r\n               placeholder=\"Confirm Password\"\r\n               autocapitalize=\"off\"\r\n               autofocus />\r\n        <span *ngIf=\"hasRequiredError('passwordConfirm')\"\r\n              class=\"error-message\">Confirm Password is required</span>\r\n        <span *ngIf=\"hasPasswordMismatchError()\"\r\n              class=\"error-message\">Passwords must match</span>\r\n      </div>\r\n      <button id=\"submitBtn\"\r\n              type=\"submit\"\r\n              class=\"btn btn-primary btn-block\">Set New Password</button>\r\n    </form>\r\n  </div>\r\n</div>","// angular\r\nimport { Component, OnInit, Inject } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\n\r\n// angular libs\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n// ordercloud\r\nimport {\r\n  AppMatchFieldsValidator,\r\n  ValidateStrongPassword,\r\n  AppFormErrorService,\r\n} from 'src/app/shared';\r\nimport {\r\n  applicationConfiguration,\r\n  AppConfig,\r\n} from 'src/app/config/app.config';\r\nimport { OcPasswordResetService, PasswordReset } from '@ordercloud/angular-sdk';\r\n\r\n@Component({\r\n  selector: 'auth-reset-password',\r\n  templateUrl: './reset-password.component.html',\r\n  styleUrls: ['./reset-password.component.scss'],\r\n})\r\nexport class ResetPasswordComponent implements OnInit {\r\n  form: FormGroup;\r\n  username: string;\r\n  resetCode: string;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n    private toasterService: ToastrService,\r\n    private formBuilder: FormBuilder,\r\n    private ocPasswordResetService: OcPasswordResetService,\r\n    private formErrorService: AppFormErrorService,\r\n    @Inject(applicationConfiguration) public appConfig: AppConfig\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    const urlParams = this.activatedRoute.snapshot.queryParams;\r\n    this.username = urlParams['user'];\r\n    this.resetCode = urlParams['code'];\r\n\r\n    this.form = this.formBuilder.group(\r\n      {\r\n        password: [\r\n          '',\r\n          [\r\n            Validators.required,\r\n            ValidateStrongPassword, // password must include one number, one letter and have min length of 8\r\n          ],\r\n        ],\r\n        passwordConfirm: ['', Validators.required],\r\n      },\r\n      { validator: AppMatchFieldsValidator('password', 'passwordConfirm') }\r\n    );\r\n  }\r\n\r\n  onSubmit() {\r\n    if (this.form.status === 'INVALID') {\r\n      return;\r\n    }\r\n\r\n    const config: PasswordReset = {\r\n      ClientID: this.appConfig.clientID,\r\n      Password: this.form.get('password').value,\r\n      Username: this.username,\r\n    };\r\n\r\n    this.ocPasswordResetService\r\n      .ResetPasswordByVerificationCode(this.resetCode, config)\r\n      .subscribe(() => {\r\n        this.toasterService.success('Password Reset', 'Success');\r\n        this.router.navigateByUrl('/login');\r\n      });\r\n  }\r\n\r\n  // control display of error messages\r\n  public hasRequiredError = (controlName: string): boolean =>\r\n    this.formErrorService.hasRequiredError(controlName, this.form);\r\n  public hasPasswordMismatchError = (): boolean =>\r\n    this.formErrorService.hasPasswordMismatchError(this.form);\r\n  public hasStrongPasswordError = (controlName: string): boolean =>\r\n    this.formErrorService.hasStrongPasswordError(controlName, this.form);\r\n}\r\n","// containers\r\nexport * from 'src/app/auth/containers/forgot-password/forgot-password.component';\r\nexport * from 'src/app/auth/containers/login/login.component';\r\nexport * from 'src/app/auth/containers/reset-password/reset-password.component';\r\n\r\n// interceptors\r\nexport * from 'src/app/auth/interceptors/refresh-token/refresh-token.interceptor';\r\nexport * from 'src/app/auth/interceptors/auto-append-token/auto-append-token.interceptor';\r\nexport * from 'src/app/auth/interceptors/cache/cache-interceptor';\r\n\r\n// services\r\nexport * from 'src/app/auth/services/app-auth.service';\r\n\r\n// modules\r\nexport * from 'src/app/auth/auth.module';\r\nexport * from 'src/app/auth/auth-routing.module';\r\n","import { Injectable, Inject } from '@angular/core';\r\nimport {\r\n  HttpRequest,\r\n  HttpHandler,\r\n  HttpEvent,\r\n  HttpInterceptor,\r\n} from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { OcTokenService } from '@ordercloud/angular-sdk';\r\nimport {\r\n  applicationConfiguration,\r\n  AppConfig,\r\n} from 'src/app/config/app.config';\r\n\r\n/**\r\n * automatically append token to the authorization header\r\n * required to interact with middleware layer\r\n */\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AutoAppendTokenInterceptor implements HttpInterceptor {\r\n  constructor(\r\n    private ocTokenService: OcTokenService,\r\n    @Inject(applicationConfiguration) private appConfig: AppConfig\r\n  ) {}\r\n  intercept(\r\n    request: HttpRequest<any>,\r\n    next: HttpHandler\r\n  ): Observable<HttpEvent<any>> {\r\n    if (request.url.includes(this.appConfig.middlewareUrl)) {\r\n      request = request.clone({\r\n        setHeaders: {\r\n          Authorization: `Bearer ${this.ocTokenService.GetAccess()}`,\r\n        },\r\n      });\r\n    }\r\n    return next.handle(request);\r\n  }\r\n}\r\n","import { Injectable, PLATFORM_ID, Inject } from '@angular/core';\r\nimport {\r\n  HttpRequest,\r\n  HttpHandler,\r\n  HttpEvent,\r\n  HttpInterceptor,\r\n} from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { isPlatformBrowser } from '@angular/common';\r\n\r\n/**\r\n * append headers to disable IE11's aggressive caching of GET requests\r\n * see here for more info on bug: https://medium.com/@tltjr/disabling-internet-explorer-caching-in-your-angular-5-application-3e148f4437ad\r\n *\r\n * we've augmented the suggested solution to check  first if the browser\r\n * is IE11 and to ensure the request is a 'GET' as those are the affected calls\r\n * we'd like to keep caching mechanisms for other browsers and request types because\r\n * some things should rightfully be cached\r\n */\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class CacheInterceptor implements HttpInterceptor {\r\n  constructor(@Inject(PLATFORM_ID) private platformId: Object) {}\r\n  intercept(\r\n    request: HttpRequest<any>,\r\n    next: HttpHandler\r\n  ): Observable<HttpEvent<any>> {\r\n    let hasIE11: boolean;\r\n    if (isPlatformBrowser(this.platformId)) {\r\n      hasIE11 = window.navigator.userAgent.includes('Trident/');\r\n    } else {\r\n      // best to not cache if we can't be sure\r\n      hasIE11 = true;\r\n    }\r\n    if (hasIE11 && request.method === 'GET') {\r\n      request = request.clone({\r\n        setHeaders: {\r\n          'Cache-Control': 'no-cache',\r\n          Pragma: 'no-cache',\r\n          Expires: 'Sat, 01 Jan 2000 00:00:00 GMT',\r\n        },\r\n      });\r\n    }\r\n    return next.handle(request);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  HttpRequest,\r\n  HttpHandler,\r\n  HttpEvent,\r\n  HttpInterceptor,\r\n  HttpErrorResponse,\r\n} from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError, filter, flatMap } from 'rxjs/operators';\r\nimport { AppAuthService } from 'src/app/auth/services/app-auth.service';\r\n\r\n/**\r\n * handle 401 unauthorized responses gracefully\r\n * by attempting to refresh token\r\n */\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class RefreshTokenInterceptor implements HttpInterceptor {\r\n  constructor(private appAuthService: AppAuthService) {}\r\n  intercept(\r\n    request: HttpRequest<any>,\r\n    next: HttpHandler\r\n  ): Observable<HttpEvent<any>> {\r\n    return next.handle(request).pipe(\r\n      catchError((error) => {\r\n        // rethrow any non auth errors\r\n        if (!this.isAuthError(error)) {\r\n          return throwError(error);\r\n        } else {\r\n          // if a refresh attempt failed recently then ignore (3 seconds)`\r\n          if (this.appAuthService.failedRefreshAttempt) {\r\n            return throwError(error);\r\n          }\r\n\r\n          // ensure there is no outstanding request already fetching token\r\n          // if there is then wait for the token to resolve\r\n          const refreshToken = this.appAuthService.refreshToken.getValue();\r\n          if (refreshToken || this.appAuthService.fetchingRefreshToken) {\r\n            return this.appAuthService.refreshToken.pipe(\r\n              filter((token) => token !== ''),\r\n              flatMap((token) => {\r\n                request = request.clone({\r\n                  setHeaders: { Authorization: `Bearer ${token}` },\r\n                });\r\n                return next.handle(request);\r\n              })\r\n            );\r\n          } else {\r\n            // attempt refresh for new token\r\n            return this.appAuthService.refresh().pipe(\r\n              flatMap((token) => {\r\n                request = request.clone({\r\n                  setHeaders: { Authorization: `Bearer ${token}` },\r\n                });\r\n                return next.handle(request);\r\n              })\r\n            );\r\n          }\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  isAuthError(error: any): boolean {\r\n    return (\r\n      error instanceof HttpErrorResponse &&\r\n      error.url.indexOf('ordercloud.io') > -1 &&\r\n      error.status === 401\r\n    );\r\n  }\r\n}\r\n","import { Injectable, Inject } from '@angular/core';\r\nimport { Observable, throwError, of, BehaviorSubject } from 'rxjs';\r\nimport { tap, catchError, finalize, map } from 'rxjs/operators';\r\nimport { Router } from '@angular/router';\r\n\r\n// 3rd party\r\nimport { OcTokenService, OcAuthService } from '@ordercloud/angular-sdk';\r\nimport { applicationConfiguration, AppConfig } from 'src/app/config/app.config';\r\nimport { CookieService } from '@gorniv/ngx-universal';\r\nimport { AppErrorHandler } from 'src/app/config/error-handling.config';\r\nimport { AppStateService } from 'src/app/shared/services/app-state/app-state.service';\r\nimport { BaseResolveService } from 'src/app/shared/services/base-resolve/base-resolve.service';\r\n\r\nexport const TokenRefreshAttemptNotPossible =\r\n  'Token refresh attempt not possible';\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AppAuthService {\r\n  private rememberMeCookieName = `${this.appConfig.appname\r\n    .replace(/ /g, '_')\r\n    .toLowerCase()}_rememberMe`;\r\n  fetchingRefreshToken = false;\r\n  failedRefreshAttempt = false;\r\n  refreshToken: BehaviorSubject<string>;\r\n\r\n  constructor(\r\n    private ocTokenService: OcTokenService,\r\n    private ocAuthService: OcAuthService,\r\n    private cookieService: CookieService,\r\n    private router: Router,\r\n    private appErrorHandler: AppErrorHandler,\r\n    private appStateService: AppStateService,\r\n    private baseResolveService: BaseResolveService,\r\n    @Inject(applicationConfiguration) private appConfig: AppConfig\r\n  ) {\r\n    this.refreshToken = new BehaviorSubject<string>('');\r\n  }\r\n\r\n  refresh(): Observable<void> {\r\n    this.fetchingRefreshToken = true;\r\n    return this.fetchRefreshToken().pipe(\r\n      tap((token) => {\r\n        this.appStateService.isLoggedIn.next(true);\r\n        this.ocTokenService.SetAccess(token);\r\n        this.refreshToken.next(token);\r\n      }),\r\n      catchError(() => {\r\n        // ignore new refresh attempts if a refresh\r\n        // attempt failed within the last 3 seconds\r\n        this.failedRefreshAttempt = true;\r\n        setTimeout(() => {\r\n          this.failedRefreshAttempt = false;\r\n        }, 3000);\r\n        this.logout();\r\n        return of(null);\r\n      }),\r\n      finalize(() => {\r\n        this.fetchingRefreshToken = false;\r\n      })\r\n    );\r\n  }\r\n\r\n  fetchToken(): Observable<string> {\r\n    const accessToken = this.ocTokenService.GetAccess();\r\n    if (accessToken) {\r\n      return of(accessToken);\r\n    }\r\n    return this.fetchRefreshToken();\r\n  }\r\n\r\n  fetchRefreshToken(): Observable<string> {\r\n    const refreshToken = this.ocTokenService.GetRefresh();\r\n    if (refreshToken) {\r\n      return this.ocAuthService\r\n        .RefreshToken(refreshToken, this.appConfig.clientID)\r\n        .pipe(\r\n          map((authResponse) => authResponse.access_token),\r\n          tap((token) => this.ocTokenService.SetAccess(token)),\r\n          catchError((error) => {\r\n            if (this.appConfig.anonymousShoppingEnabled) {\r\n              return this.authAnonymous();\r\n            } else {\r\n              throwError(error);\r\n            }\r\n          })\r\n        );\r\n    }\r\n\r\n    if (this.appConfig.anonymousShoppingEnabled) {\r\n      return this.authAnonymous();\r\n    }\r\n\r\n    return throwError(TokenRefreshAttemptNotPossible);\r\n  }\r\n\r\n  logout(): void {\r\n    this.ocTokenService.RemoveAccess();\r\n    this.appStateService.isLoggedIn.next(false);\r\n    if (this.appConfig.anonymousShoppingEnabled) {\r\n      this.router.navigate(['/home']);\r\n      this.baseResolveService.resetUser();\r\n    } else {\r\n      this.router.navigate(['/login']);\r\n    }\r\n  }\r\n\r\n  authAnonymous(): Observable<string> {\r\n    return this.ocAuthService\r\n      .Anonymous(this.appConfig.clientID, this.appConfig.scope)\r\n      .pipe(\r\n        map((authResponse) => authResponse.access_token),\r\n        tap((token) => this.ocTokenService.SetAccess(token)),\r\n        catchError((ex) => {\r\n          this.appErrorHandler.displayError(ex);\r\n          this.logout();\r\n          return of(null);\r\n        })\r\n      );\r\n  }\r\n\r\n  setRememberStatus(status: boolean): void {\r\n    this.cookieService.putObject(this.rememberMeCookieName, { status: status });\r\n  }\r\n\r\n  getRememberStatus(): boolean {\r\n    const rememberMe = <{ status: string }>(\r\n      this.cookieService.getObject(this.rememberMeCookieName)\r\n    );\r\n    return !!(rememberMe && rememberMe.status);\r\n  }\r\n}\r\n","// core services\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\n// checkout routes\r\nimport { CheckoutComponent } from 'src/app/checkout/containers/checkout/checkout.component';\r\nimport { CartComponent } from 'src/app/checkout/containers/cart/cart.component';\r\nimport { OrderConfirmationComponent } from 'src/app/checkout/containers/order-confirmation/order-confirmation.component';\r\nimport { OrderResolve } from 'src/app/order/order.resolve';\r\n\r\nconst routes: Routes = [\r\n  { path: 'checkout', component: CheckoutComponent },\r\n  { path: 'cart', component: CartComponent },\r\n  {\r\n    path: 'order-confirmation/:orderID',\r\n    component: OrderConfirmationComponent,\r\n    resolve: { orderResolve: OrderResolve },\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CheckoutRoutingModule {}\r\n","// core services\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n// checkout components\r\nimport { CartComponent } from 'src/app/checkout/containers/cart/cart.component';\r\nimport { CheckoutAddressComponent } from 'src/app/checkout/containers/checkout-address/checkout-address.component';\r\nimport { CheckoutComponent } from 'src/app/checkout/containers/checkout/checkout.component';\r\nimport { CheckoutSectionBaseComponent } from 'src/app/checkout/components/checkout-section-base/checkout-section-base.component';\r\nimport { OrderSummaryComponent } from 'src/app/checkout/components/order-summary/order-summary.component';\r\n\r\n// shared module\r\nimport { SharedModule } from 'src/app/shared';\r\n\r\n// checkout routing\r\nimport { CheckoutRoutingModule } from 'src/app/checkout/checkout-routing.module';\r\nimport { CheckoutPaymentComponent } from 'src/app/checkout/containers/checkout-payment/checkout-payment.component';\r\nimport { PaymentPurchaseOrderComponent } from 'src/app/checkout/components/payment-purchase-order/payment-purchase-order.component';\r\nimport { PaymentSpendingAccountComponent } from 'src/app/checkout/components/payment-spending-account/payment-spending-account.component';\r\nimport { OrderConfirmationComponent } from 'src/app/checkout/containers/order-confirmation/order-confirmation.component';\r\nimport { CheckoutConfirmComponent } from 'src/app/checkout/components/checkout-confirm/checkout-confirm.component';\r\nimport { PaymentBaseComponent } from './components/payment-base/payment-base.component';\r\n\r\n@NgModule({\r\n  imports: [SharedModule, CheckoutRoutingModule, FormsModule],\r\n  declarations: [\r\n    CartComponent,\r\n    CheckoutAddressComponent,\r\n    CheckoutComponent,\r\n    CheckoutSectionBaseComponent,\r\n    OrderSummaryComponent,\r\n    PaymentBaseComponent,\r\n    CheckoutPaymentComponent,\r\n    PaymentPurchaseOrderComponent,\r\n    PaymentSpendingAccountComponent,\r\n    OrderConfirmationComponent,\r\n    CheckoutConfirmComponent,\r\n  ],\r\n})\r\nexport class CheckoutModule {}\r\n","<div *ngIf=\"lineItems$ | async; let lineItems\">\r\n  <order-payment-list *ngIf=\"payments$ | async; let payments\"\r\n                      [payments]=\"payments\"></order-payment-list>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <shared-address-display *ngIf=\"lineItems.Items[0].ShippingAddress\"\r\n                              [address]=\"lineItems.Items[0].ShippingAddress\"\r\n                              addressTitle=\"Shipping Address\">\r\n      </shared-address-display>\r\n    </div>\r\n    <div class=\"col-6\">\r\n      <shared-address-display [address]=\"order.BillingAddress\"\r\n                              addressTitle=\"Billing Address\"\r\n                              *ngIf=\"order?.BillingAddress\">\r\n      </shared-address-display>\r\n    </div>\r\n  </div>\r\n  <shared-lineitem-list-wrapper>\r\n    <shared-line-item-card *ngFor=\"let li of lineItems.Items\"\r\n                           [lineitem]=\"li\"\r\n                           [productDetails]=\"li.Product\"\r\n                           readOnly=\"true\"></shared-line-item-card>\r\n  </shared-lineitem-list-wrapper>\r\n  <form *ngIf=\"!appConfig.anonymousShoppingEnabled\"\r\n        novalidate\r\n        [formGroup]=\"form\">\r\n    <textarea type=\"text\"\r\n              placeholder=\"Comments (optional)\"\r\n              formControlName=\"comments\"\r\n              class=\"form-control\">\r\n    </textarea>\r\n  </form>\r\n</div>\r\n<button class=\"btn btn-primary mt-4\"\r\n        [disabled]=\"isSubmittingOrder\"\r\n        (click)=\"saveCommentsAndSubmitOrder()\">Submit Order</button>","import { Component, OnInit, Inject, Input } from '@angular/core';\r\nimport { CheckoutSectionBaseComponent } from 'src/app/checkout/components/checkout-section-base/checkout-section-base.component';\r\nimport { AppStateService, CartService } from 'src/app/shared';\r\nimport {\r\n  Order,\r\n  ListPayment,\r\n  ListLineItem,\r\n  OcOrderService,\r\n} from '@ordercloud/angular-sdk';\r\nimport { Observable } from 'rxjs';\r\nimport { AppPaymentService } from 'src/app/shared/services/app-payment-service/app-payment.service';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport {\r\n  applicationConfiguration,\r\n  AppConfig,\r\n} from 'src/app/config/app.config';\r\n\r\n@Component({\r\n  selector: 'checkout-confirm',\r\n  templateUrl: './checkout-confirm.component.html',\r\n  styleUrls: ['./checkout-confirm.component.scss'],\r\n})\r\nexport class CheckoutConfirmComponent extends CheckoutSectionBaseComponent\r\n  implements OnInit {\r\n  form: FormGroup;\r\n  order: Order;\r\n  payments$: Observable<ListPayment>;\r\n  lineItems$: Observable<ListLineItem>;\r\n  @Input() isSubmittingOrder: boolean;\r\n\r\n  constructor(\r\n    private appStateService: AppStateService,\r\n    private appPaymentService: AppPaymentService,\r\n    private cartService: CartService,\r\n    private formBuilder: FormBuilder,\r\n    private ocOrderService: OcOrderService,\r\n    @Inject(applicationConfiguration) public appConfig: AppConfig\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (!this.appConfig.anonymousShoppingEnabled) {\r\n      this.form = this.formBuilder.group({ comments: '' });\r\n    }\r\n    this.order = this.appStateService.orderSubject.value;\r\n    this.payments$ = this.appPaymentService.getPayments(\r\n      'outgoing',\r\n      this.order.ID\r\n    );\r\n    this.lineItems$ = this.cartService.listAllItems(this.order.ID);\r\n  }\r\n\r\n  saveCommentsAndSubmitOrder() {\r\n    if (this.isSubmittingOrder) {\r\n      return;\r\n    }\r\n    this.isSubmittingOrder = true;\r\n    this.ocOrderService\r\n      .Patch('outgoing', this.order.ID, {\r\n        Comments: this.form.get('comments').value,\r\n      })\r\n      .subscribe((order) => {\r\n        this.appStateService.orderSubject.next(order);\r\n        this.continue.emit();\r\n      });\r\n  }\r\n}\r\n","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'checkout-section-base',\r\n  templateUrl: './checkout-section-base.component.html',\r\n  styleUrls: ['./checkout-section-base.component.scss'],\r\n})\r\nexport class CheckoutSectionBaseComponent implements OnInit {\r\n  @Output() continue = new EventEmitter();\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n\r\n  makeValid() {\r\n    this.continue.emit();\r\n  }\r\n}\r\n","<div class=\"card mb-1\">\r\n  <h5 class=\"card-header\">Order Summary</h5>\r\n  <div class=\"card-body\">\r\n    <h6 class=\"card-title\">{{order.LineItemCount}} Items in Your Cart</h6>\r\n    <div class=\"text-right\"><b class=\"float-left\">Subtotal</b><span class=\"sub-total\">{{order.Subtotal | currency}}</span></div>\r\n    <div class=\"text-right\"><b class=\"float-left\">Shipping</b><span class=\"shipping-cost\">{{ display('ShippingCost') }}</span></div>\r\n    <div class=\"text-right\"><b class=\"float-left\">Tax</b><span class=\"tax-cost\">{{ display('TaxCost') }}</span></div>\r\n    <hr>\r\n    <div class=\"text-right lead\"><b class=\"float-left\">Total</b><span class=\"order-total\">{{order.Total | currency}}</span></div>\r\n  </div>\r\n</div>","import { Component, Input } from '@angular/core';\r\nimport { Order } from '@ordercloud/angular-sdk';\r\nimport { CurrencyPipe } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'checkout-order-summary',\r\n  templateUrl: './order-summary.component.html',\r\n  styleUrls: ['./order-summary.component.scss'],\r\n})\r\nexport class OrderSummaryComponent {\r\n  @Input() order: Order;\r\n\r\n  constructor() {}\r\n\r\n  display(field) {\r\n    if (!(this.order.xp && this.order.xp.AddOnsCalculated)) {\r\n      return 'Calculated during checkout';\r\n    }\r\n\r\n    if (this.order[`${field}`] === 0) {\r\n      return 'Free';\r\n    }\r\n\r\n    return new CurrencyPipe('en-US').transform(this.order[`${field}`]);\r\n  }\r\n}\r\n","import { Component, Input, EventEmitter, Output } from '@angular/core';\r\nimport { Payment, Order, PartialPayment } from '@ordercloud/angular-sdk';\r\nimport { PaymentMethod } from 'src/app/shared/models/payment-method.enum';\r\nimport { FormGroup } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'checkout-payment-base',\r\n  template: '',\r\n  styleUrls: ['./payment-base.component.scss'],\r\n})\r\nexport class PaymentBaseComponent {\r\n  @Input() order: Order;\r\n  @Input() payment: Payment;\r\n  @Input() paymentMethod: PaymentMethod;\r\n  @Output() paymentCreated = new EventEmitter<Payment>();\r\n  @Output()\r\n  paymentPatched = new EventEmitter<{\r\n    paymentID: string;\r\n    payment: PartialPayment;\r\n  }>();\r\n  @Output() continue = new EventEmitter();\r\n  form: FormGroup;\r\n\r\n  constructor() {}\r\n\r\n  paymentValid() {\r\n    return !!this.payment && this.payment.Amount === this.order.Total;\r\n  }\r\n}\r\n","<form novalidate\r\n      [formGroup]=\"form\">\r\n  <input (change)=\"updatePONumber()\"\r\n         type=\"text\"\r\n         placeholder=\"PO Number (optional)\"\r\n         formControlName=\"PONumber\"\r\n         class=\"form-control\">\r\n</form>\r\n<button class=\"btn btn-primary mt-3\"\r\n        (click)=\"validateAndContinue()\">Save and Continue</button>","import { Component, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { PaymentBaseComponent } from 'src/app/checkout/components/payment-base/payment-base.component';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { get as _get } from 'lodash';\r\nimport { Payment } from '@ordercloud/angular-sdk';\r\n\r\n@Component({\r\n  selector: 'checkout-payment-purchase-order',\r\n  templateUrl: './payment-purchase-order.component.html',\r\n  styleUrls: ['./payment-purchase-order.component.scss'],\r\n})\r\nexport class PaymentPurchaseOrderComponent extends PaymentBaseComponent\r\n  implements OnChanges {\r\n  form: FormGroup = this.formBuilder.group({\r\n    PONumber: _get(this.payment, 'xp.PONumber'),\r\n  });\r\n  constructor(private formBuilder: FormBuilder) {\r\n    super();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes.payment) {\r\n      this.payment = changes.payment.currentValue;\r\n    }\r\n    if (changes.order) {\r\n      this.order = changes.order.currentValue;\r\n    }\r\n    if (changes.payment || changes.order) {\r\n      // set form\r\n      if (changes.payment.firstChange) {\r\n        this.form.controls['PONumber'].setValue(\r\n          _get(this.payment, 'xp.PONumber')\r\n        );\r\n      }\r\n\r\n      // validate payment\r\n      if (!this.paymentValid()) {\r\n        this.createNewPayment();\r\n      }\r\n    }\r\n  }\r\n\r\n  createNewPayment() {\r\n    const payment: Payment = {\r\n      Type: 'PurchaseOrder',\r\n      xp: {\r\n        // preserve PO number if it existed on previous payment\r\n        PONumber: _get(this.payment, 'xp.PONumber'),\r\n      },\r\n    };\r\n    this.paymentCreated.emit(payment);\r\n  }\r\n\r\n  updatePONumber() {\r\n    const PONumber = this.form.controls['PONumber'].value;\r\n    this.paymentPatched.emit({\r\n      paymentID: this.payment.ID,\r\n      payment: {\r\n        xp: {\r\n          PONumber,\r\n        },\r\n      },\r\n    });\r\n  }\r\n\r\n  validateAndContinue() {\r\n    if (this.paymentValid) {\r\n      this.continue.emit();\r\n    }\r\n  }\r\n}\r\n","<div *ngIf=\"spendingAccounts\">\r\n  <div *ngIf=\"selectedSpendingAccount\"\r\n       class=\"border p-2 m-2\">\r\n    <div><strong>{{ selectedSpendingAccount.Name }}</strong></div>\r\n    <div>Balance: <strong class=\"text-success\">{{ selectedSpendingAccount.Balance | currency }}</strong></div>\r\n  </div>\r\n  <shared-modal id=\"{{ modalID }}\"\r\n                modalTitle=\"Select Spending Account\">\r\n    <shared-generic-browse [items]=\"spendingAccounts.Items\"\r\n                           [meta]=\"spendingAccounts.Meta\"\r\n                           [numColumns]=\"1\"\r\n                           searchPlaceholder=\"accounts\"\r\n                           (requestOptionsUpdated)=\"updateRequestOptions($event)\">\r\n      <ng-template let-account=\"item\">\r\n        <div class=\"border p-2 m-2 w-100 row\">\r\n          <div class=\"col-8\">\r\n            <div><strong>{{ account.Name }}</strong></div>\r\n            <div>Balance: <strong class=\"text-success\">{{ account.Balance | currency }}</strong></div>\r\n          </div>\r\n          <div class=\"col-4\">\r\n            <a href=\"javascript:void(0)\"\r\n               class=\"float-right\"\r\n               (click)=\"accountSelected(account)\">Select</a>\r\n          </div>\r\n        </div>\r\n      </ng-template>\r\n    </shared-generic-browse>\r\n  </shared-modal>\r\n  <button class=\"btn btn-primary mt-3\"\r\n          (click)=\"validateAndContinue()\">Save and Continue</button>\r\n  <button class=\"btn btn-secondary mt-3 float-right\"\r\n          (click)=\"modalService.open(modalID)\">Change Account</button>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { PaymentBaseComponent } from 'src/app/checkout/components/payment-base/payment-base.component';\r\nimport { Observable } from 'rxjs';\r\nimport {\r\n  SpendingAccount,\r\n  ListSpendingAccount,\r\n  OcMeService,\r\n  Payment,\r\n} from '@ordercloud/angular-sdk';\r\nimport * as moment from 'moment';\r\nimport { ModalService } from 'src/app/shared';\r\n\r\n@Component({\r\n  selector: 'checkout-payment-spending-account',\r\n  templateUrl: './payment-spending-account.component.html',\r\n  styleUrls: ['./payment-spending-account.component.scss'],\r\n})\r\nexport class PaymentSpendingAccountComponent extends PaymentBaseComponent\r\n  implements OnInit {\r\n  spendingAccounts: ListSpendingAccount;\r\n  selectedSpendingAccount: SpendingAccount = null;\r\n  requestOptions: { page?: number; search?: string } = {\r\n    page: undefined,\r\n    search: undefined,\r\n  };\r\n  modalID = 'checkout-select-spending-account';\r\n  resultsPerPage = 6;\r\n\r\n  constructor(\r\n    private ocMeService: OcMeService,\r\n    public modalService: ModalService\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.listSpendingAccounts().subscribe((accounts) => {\r\n      this.spendingAccounts = accounts;\r\n      this.selectedSpendingAccount = this.getSavedSpendingAccount(accounts);\r\n      if (!this.selectedSpendingAccount) {\r\n        this.modalService.open(this.modalID);\r\n      }\r\n    });\r\n  }\r\n\r\n  listSpendingAccounts(): Observable<ListSpendingAccount> {\r\n    const now = moment().format('YYYY-MM-DD');\r\n    const filters = { StartDate: `<${now}|!*`, EndDate: `>${now}|!*` };\r\n    return this.ocMeService.ListSpendingAccounts({\r\n      filters,\r\n      ...this.requestOptions,\r\n      pageSize: this.resultsPerPage,\r\n    });\r\n  }\r\n\r\n  getSavedSpendingAccount(accounts: ListSpendingAccount): SpendingAccount {\r\n    if (this.payment && this.payment.SpendingAccountID) {\r\n      const saved = accounts.Items.filter(\r\n        (x) => x.ID === this.payment.SpendingAccountID\r\n      );\r\n      if (saved.length > 0) {\r\n        return saved[0];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  accountSelected(account: SpendingAccount): void {\r\n    this.modalService.close(this.modalID);\r\n    this.selectedSpendingAccount = account;\r\n    const payment: Payment = {\r\n      Type: 'SpendingAccount',\r\n      SpendingAccountID: account.ID,\r\n      Accepted: true,\r\n    };\r\n    this.paymentCreated.emit(payment);\r\n  }\r\n\r\n  validateAndContinue() {\r\n    if (!this.selectedSpendingAccount) {\r\n      throw Error('Please select a spending account');\r\n    }\r\n    if (this.selectedSpendingAccount.Balance < this.order.Total) {\r\n      throw Error('This spending account has insuficient funds');\r\n    }\r\n    if (!this.selectedSpendingAccount.AllowAsPaymentMethod) {\r\n      throw Error('This spending account is not an allowed payment method.');\r\n    }\r\n    this.continue.emit();\r\n  }\r\n\r\n  updateRequestOptions(options: { search?: string; page?: number }) {\r\n    Object.assign(this.requestOptions, options);\r\n    this.listSpendingAccounts().subscribe((x) => (this.spendingAccounts = x));\r\n  }\r\n}\r\n","<shared-page-title title=\"Shopping Cart\"></shared-page-title>\r\n<div class=\"container\">\r\n  <div *ngIf=\"(currentOrder$ | async) as order\">\r\n    <div class=\"my-3 d-flex justify-content-between\">\r\n      <button class=\"btn btn-outline-dark\"\r\n              [routerLink]=\"['/products']\">Continue Shopping</button>\r\n      <button class=\"btn btn-outline-danger\"\r\n              *ngIf=\"order.LineItemCount\"\r\n              (click)=\"cancelOrder()\">Cancel Order</button>\r\n    </div>\r\n    <div class=\"card bg-light p-3 flex-row justify-content-center\"\r\n         *ngIf=\"!order.LineItemCount\">\r\n      <p class=\"mb-0\">You do not have any items in your cart</p>\r\n    </div>\r\n    <div class=\"row flex-lg-row-reverse\"\r\n         *ngIf=\"order.LineItemCount\">\r\n      <div class=\"col-lg-4\">\r\n        <checkout-order-summary [order]=\"order\"></checkout-order-summary>\r\n        <button class=\"btn btn-primary btn-block mb-4 font-weight-bold\"\r\n                routerLink=\"/checkout\">CHECKOUT</button>\r\n      </div>\r\n      <div class=\"col-lg-8\"\r\n           *ngIf=\"productsSet\">\r\n        <shared-lineitem-list-wrapper>\r\n          <shared-line-item-card *ngFor=\"let li of lineItems.Items\"\r\n                                 [lineitem]=\"li\"\r\n                                 [readOnly]=\"false\"\r\n                                 [productDetails]=\"getProduct(li)\"\r\n                                 (deletedLineItem)=\"deleteLineItem($event)\"\r\n                                 (lineItemUpdated)=\"updateLineItem($event)\"></shared-line-item-card>\r\n        </shared-lineitem-list-wrapper>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport {\r\n  CartService,\r\n  BaseResolveService,\r\n  AppStateService,\r\n} from 'src/app/shared';\r\nimport {\r\n  Order,\r\n  LineItem,\r\n  OcOrderService,\r\n  ListLineItem,\r\n  OcMeService,\r\n  BuyerProduct,\r\n} from '@ordercloud/angular-sdk';\r\nimport { Observable, forkJoin } from 'rxjs';\r\nimport { takeWhile } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'checkout-cart',\r\n  templateUrl: './cart.component.html',\r\n  styleUrls: ['./cart.component.scss'],\r\n})\r\nexport class CartComponent implements OnInit, OnDestroy {\r\n  currentOrder$: Observable<Order>;\r\n  products: BuyerProduct[];\r\n  lineItems: ListLineItem;\r\n  productsSet = false;\r\n  alive = true;\r\n\r\n  constructor(\r\n    private appStateService: AppStateService,\r\n    private baseResolveService: BaseResolveService,\r\n    private cartService: CartService,\r\n    private ocOrderService: OcOrderService,\r\n    private ocMeService: OcMeService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.currentOrder$ = this.appStateService.orderSubject;\r\n    this.appStateService.lineItemSubject\r\n      .pipe(takeWhile(() => this.alive))\r\n      .subscribe((lis) => {\r\n        this.lineItems = lis;\r\n        if (!this.productsSet) {\r\n          const queue = [];\r\n          lis.Items.forEach((li) =>\r\n            queue.push(this.ocMeService.GetProduct(li.ProductID))\r\n          );\r\n          forkJoin(queue).subscribe((prods) => {\r\n            this.products = prods;\r\n            this.productsSet = true;\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  getProduct(li: LineItem): BuyerProduct {\r\n    return this.products.find((x) => x.ID === li.ProductID);\r\n  }\r\n\r\n  cancelOrder() {\r\n    this.ocOrderService\r\n      .Delete('outgoing', this.appStateService.orderSubject.value.ID)\r\n      .subscribe(() => {\r\n        this.baseResolveService.resetUser();\r\n      });\r\n  }\r\n\r\n  deleteLineItem(li: LineItem) {\r\n    return this.cartService.removeItem(li.ID).subscribe();\r\n  }\r\n\r\n  updateLineItem(li: LineItem) {\r\n    this.cartService.updateQuantity(li.ID, li.Quantity).subscribe();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.alive = false;\r\n  }\r\n}\r\n","<button class=\"btn btn-secondary mb-3\"\r\n        (click)=\"modalService.open(modalID)\"\r\n        *ngIf=\"!isAnon && existingAddresses && existingAddresses.Items.length > 0\">Select a saved address</button>\r\n<button *ngIf=\"addressType === 'Billing'\"\r\n        class=\"btn btn-secondary mb-3 ml-2\"\r\n        (click)=\"useShippingAsBilling()\">Use Shipping Address</button>\r\n<shared-address-form [existingAddress]=\"selectedAddress\"\r\n                     (formSubmitted)=\"saveAddress($event.address, $event.formDirty)\"\r\n                     btnText=\"Save and Continue\"></shared-address-form>\r\n<shared-modal id=\"{{ modalID }}\"\r\n              modalTitle=\"Select Address\">\r\n  <shared-generic-browse [items]=\"existingAddresses?.Items\"\r\n                         [meta]=\"existingAddresses?.Meta\"\r\n                         searchPlaceholder=\"addresses\"\r\n                         (requestOptionsUpdated)=\"updateRequestOptions($event)\">\r\n    <ng-template let-address=\"item\">\r\n      <shared-address-display [address]=\"address\">\r\n        <div actions>\r\n          <a href=\"javascript:void(0)\"\r\n             (click)=\"existingAddressSelected(address)\">Select</a>\r\n        </div>\r\n      </shared-address-display>\r\n    </ng-template>\r\n  </shared-generic-browse>\r\n</shared-modal>","import { Component, OnInit, Input, ViewChild } from '@angular/core';\r\nimport { CheckoutSectionBaseComponent } from 'src/app/checkout/components/checkout-section-base/checkout-section-base.component';\r\nimport { Observable } from 'rxjs';\r\nimport {\r\n  OcMeService,\r\n  ListBuyerAddress,\r\n  OcOrderService,\r\n  Order,\r\n  BuyerAddress,\r\n  ListLineItem,\r\n  Address,\r\n} from '@ordercloud/angular-sdk';\r\nimport { AppStateService, ModalService } from 'src/app/shared';\r\nimport { filter } from 'rxjs/operators';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { AddressFormComponent } from 'src/app/shared/components/address-form/address-form.component';\r\n\r\n@Component({\r\n  selector: 'checkout-address',\r\n  templateUrl: './checkout-address.component.html',\r\n  styleUrls: ['./checkout-address.component.scss'],\r\n})\r\nexport class CheckoutAddressComponent extends CheckoutSectionBaseComponent\r\n  implements OnInit {\r\n  @Input() isAnon: boolean;\r\n  @Input() addressType: 'Shipping' | 'Billing';\r\n  @ViewChild(AddressFormComponent, { static: false })\r\n  addressFormComponent: AddressFormComponent;\r\n  existingAddresses: ListBuyerAddress;\r\n  selectedAddress: BuyerAddress;\r\n  order: Order;\r\n  lineItems: ListLineItem;\r\n  resultsPerPage = 8;\r\n  requestOptions: { page?: number; search?: string } = {\r\n    page: undefined,\r\n    search: undefined,\r\n  };\r\n  modalID: string;\r\n  usingShippingAsBilling = false;\r\n\r\n  constructor(\r\n    private ocMeService: OcMeService,\r\n    private ocOrderService: OcOrderService,\r\n    private appStateService: AppStateService,\r\n    public modalService: ModalService,\r\n    private toastrService: ToastrService\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.modalID = `checkout-select-address-${this.addressType}`;\r\n    this.clearFiltersOnModalClose();\r\n    if (!this.isAnon) {\r\n      this.getSavedAddresses();\r\n    }\r\n\r\n    this.setSelectedAddress();\r\n  }\r\n\r\n  clearFiltersOnModalClose() {\r\n    this.modalService.onCloseSubject\r\n      .pipe(filter((id) => id === this.modalID))\r\n      .subscribe(() =>\r\n        this.updateRequestOptions({ page: undefined, search: undefined })\r\n      );\r\n  }\r\n\r\n  updateRequestOptions(options: { page?: number; search?: string }) {\r\n    this.requestOptions = options;\r\n    this.getSavedAddresses();\r\n  }\r\n\r\n  private getSavedAddresses() {\r\n    const filters = {};\r\n    filters[this.addressType] = true;\r\n    this.ocMeService\r\n      .ListAddresses({\r\n        filters,\r\n        ...this.requestOptions,\r\n        pageSize: this.resultsPerPage,\r\n      })\r\n      .subscribe((addressList) => (this.existingAddresses = addressList));\r\n  }\r\n\r\n  private setSelectedAddress() {\r\n    this.order = this.appStateService.orderSubject.value;\r\n    this.lineItems = this.appStateService.lineItemSubject.value;\r\n\r\n    this.selectedAddress =\r\n      this.addressType === 'Billing'\r\n        ? this.order.BillingAddress\r\n        : this.lineItems.Items[0].ShippingAddress; // shipping address is defined at the line item level\r\n  }\r\n\r\n  existingAddressSelected(address: BuyerAddress) {\r\n    this.selectedAddress = address;\r\n    this.modalService.close(this.modalID);\r\n  }\r\n\r\n  useShippingAsBilling() {\r\n    if (this.addressType === 'Shipping') {\r\n      return;\r\n    }\r\n\r\n    this.usingShippingAsBilling = true;\r\n    this.selectedAddress = this.lineItems.Items[0].ShippingAddress;\r\n  }\r\n\r\n  saveAddress(address: Address, formDirty: boolean) {\r\n    let request = this.setSavedAddress(address);\r\n    if (\r\n      this.isAnon ||\r\n      formDirty ||\r\n      (this.usingShippingAsBilling && !this.order.ShippingAddressID) ||\r\n      (!address.ID || address.ID === '') //If this is not a saved address. Fix for issue 287\r\n    ) {\r\n      request = this.setOneTimeAddress(address);\r\n    }\r\n    request.subscribe(\r\n      (order) => {\r\n        if (this.addressType === 'Shipping') {\r\n          this.lineItems.Items[0].ShippingAddress = address;\r\n          this.appStateService.lineItemSubject.next(this.lineItems);\r\n        }\r\n        this.order = order;\r\n        this.appStateService.orderSubject.next(this.order);\r\n        this.continue.emit();\r\n      },\r\n      (ex) => {\r\n        if (ex.error.Errors[0].ErrorCode === 'NotFound') {\r\n          this.toastrService.error(\r\n            'You no longer have access to this saved address. Please enter or select a different one.'\r\n          );\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  private setOneTimeAddress(address: BuyerAddress): Observable<Order> {\r\n    // If a saved address (with an ID) is changed by the user it is attached to an order as a one time address.\r\n    // However, order.ShippingAddressID (or BillingAddressID) still points to the unmodified address. The ID should be cleared.\r\n    address.ID = null;\r\n    return this.ocOrderService[`Set${this.addressType}Address`](\r\n      'outgoing',\r\n      this.order.ID,\r\n      address\r\n    );\r\n  }\r\n\r\n  private setSavedAddress(address): Observable<Order> {\r\n    const addressKey = `${this.addressType}AddressID`;\r\n    const partialOrder = {};\r\n    partialOrder[addressKey] = address.ID;\r\n    return this.ocOrderService.Patch('outgoing', this.order.ID, partialOrder);\r\n  }\r\n}\r\n","<div class=\"row\">\r\n  <div class=\"col-lg-8\">\r\n    <form novalidate\r\n          [formGroup]=\"form\">\r\n      <div class=\"form-group\">\r\n        <div class=\"input-group\">\r\n          <div class=\"input-group-prepend\">\r\n            <label class=\"input-group-text\"\r\n                   for=\"paymentMethodSelectId\">Payment Method:</label>\r\n          </div>\r\n          <select class=\"custom-select\"\r\n                  id=\"paymentMethodSelectId\"\r\n                  formControlName=\"selectedPaymentMethod\"\r\n                  (change)=\"selectPaymentMethod()\">\r\n                <option *ngFor=\"let method of availablePaymentMethods\" [ngValue]=\"method\">\r\n                  {{ method | paymentMethodDisplay }}\r\n                </option>\r\n            </select>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n<checkout-payment-purchase-order *ngIf=\"selectedPaymentMethod === 'PurchaseOrder'\"\r\n                                 [payment]=\"existingPayment\"\r\n                                 [order]=\"order\"\r\n                                 (paymentCreated)=\"createPayment($event)\"\r\n                                 (paymentPatched)=\"patchPayment($event)\"\r\n                                 (continue)=\"onContinueClicked()\">\r\n</checkout-payment-purchase-order>\r\n<checkout-payment-spending-account *ngIf=\"selectedPaymentMethod === 'SpendingAccount'\"\r\n                                   [payment]=\"existingPayment\"\r\n                                   [order]=\"order\"\r\n                                   (paymentCreated)=\"createPayment($event)\"\r\n                                   (paymentPatched)=\"patchPayment($event)\"\r\n                                   (continue)=\"onContinueClicked()\">></checkout-payment-spending-account>","import { Component, OnInit, Input, Inject } from '@angular/core';\r\nimport { CheckoutSectionBaseComponent } from 'src/app/checkout/components/checkout-section-base/checkout-section-base.component';\r\nimport {\r\n  OcPaymentService,\r\n  Payment,\r\n  PartialPayment,\r\n} from '@ordercloud/angular-sdk';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { AppStateService } from 'src/app/shared';\r\nimport {\r\n  applicationConfiguration,\r\n  AppConfig,\r\n} from 'src/app/config/app.config';\r\nimport { PaymentMethod } from 'src/app/shared/models/payment-method.enum';\r\nimport { flatMap, tap } from 'rxjs/operators';\r\nimport { forkJoin, Observable, of } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'checkout-payment',\r\n  templateUrl: './checkout-payment.component.html',\r\n  styleUrls: ['./checkout-payment.component.scss'],\r\n})\r\nexport class CheckoutPaymentComponent extends CheckoutSectionBaseComponent\r\n  implements OnInit {\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private appStateService: AppStateService,\r\n    private ocPaymentService: OcPaymentService,\r\n    @Inject(applicationConfiguration) private appConfig: AppConfig\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  @Input() isAnon: boolean;\r\n  readonly order = this.appStateService.orderSubject.value;\r\n  form: FormGroup;\r\n  availablePaymentMethods = this.appConfig.availablePaymentMethods;\r\n  selectedPaymentMethod: PaymentMethod;\r\n  existingPayment: Payment;\r\n\r\n  ngOnInit() {\r\n    this.form = this.formBuilder.group({\r\n      selectedPaymentMethod: [\r\n        { value: '', disabled: this.availablePaymentMethods.length === 1 },\r\n      ],\r\n    });\r\n    this.initializePaymentMethod();\r\n  }\r\n\r\n  initializePaymentMethod(): void {\r\n    if (this.availablePaymentMethods.length === 1) {\r\n      this.selectedPaymentMethod = this.availablePaymentMethods[0];\r\n    }\r\n    this.ocPaymentService\r\n      .List('outgoing', this.order.ID)\r\n      .subscribe((paymentList) => {\r\n        if (paymentList.Items && paymentList.Items.length > 0) {\r\n          this.existingPayment = paymentList.Items[0];\r\n        } else {\r\n          this.existingPayment = null;\r\n        }\r\n\r\n        if (this.existingPayment) {\r\n          this.selectPaymentMethod(this.existingPayment.Type as PaymentMethod);\r\n        } else {\r\n          this.selectPaymentMethod(this.availablePaymentMethods[0]);\r\n        }\r\n      });\r\n  }\r\n\r\n  selectPaymentMethod(method?: PaymentMethod): void {\r\n    if (method) {\r\n      this.form.controls['selectedPaymentMethod'].setValue(method);\r\n    }\r\n    this.selectedPaymentMethod = this.form.get('selectedPaymentMethod').value;\r\n    if (\r\n      this.selectedPaymentMethod !== PaymentMethod.SpendingAccount &&\r\n      this.existingPayment &&\r\n      this.existingPayment.SpendingAccountID\r\n    ) {\r\n      this.existingPayment = null;\r\n      this.deleteExistingPayments().subscribe();\r\n    }\r\n  }\r\n\r\n  onContinueClicked() {\r\n    this.continue.emit();\r\n  }\r\n\r\n  createPayment(payment: Payment) {\r\n    return this.deleteExistingPayments()\r\n      .pipe(\r\n        flatMap(() => {\r\n          return this.ocPaymentService\r\n            .Create('outgoing', this.order.ID, payment)\r\n            .pipe(\r\n              tap((paymentResult) => {\r\n                this.existingPayment = paymentResult;\r\n              })\r\n            );\r\n        })\r\n      )\r\n      .subscribe();\r\n  }\r\n\r\n  private deleteExistingPayments(): Observable<any[]> {\r\n    return this.ocPaymentService.List('outgoing', this.order.ID).pipe(\r\n      flatMap((paymentList) => {\r\n        if (!paymentList.Items.length) {\r\n          return of([]);\r\n        }\r\n        const requests = paymentList.Items.map((payment) =>\r\n          this.ocPaymentService.Delete('outgoing', this.order.ID, payment.ID)\r\n        );\r\n\r\n        return forkJoin(requests);\r\n      })\r\n    );\r\n  }\r\n\r\n  patchPayment({\r\n    paymentID,\r\n    payment,\r\n  }: {\r\n    paymentID: string;\r\n    payment: PartialPayment;\r\n  }) {\r\n    this.ocPaymentService\r\n      .Patch('outgoing', this.order.ID, paymentID, payment)\r\n      .subscribe((paymentResult) => {\r\n        this.existingPayment = paymentResult;\r\n      });\r\n  }\r\n}\r\n","<shared-page-title title=\"Checkout\"></shared-page-title>\r\n<div class=\"container\">\r\n  <div *ngIf=\"currentOrder$ | async; let order\">\r\n    <div class=\"row flex-lg-row-reverse\"\r\n         *ngIf=\"order.LineItemCount\">\r\n      <div class=\"col-lg-3\">\r\n        <checkout-order-summary [order]=\"order\"></checkout-order-summary>\r\n      </div>\r\n      <div class=\"col-lg-9\">\r\n        <ngb-accordion [closeOthers]=\"true\"\r\n                       (panelChange)=\"beforeChange($event)\"\r\n                       #acc=\"ngbAccordion\"\r\n                       [activeIds]=\"currentPanel\">\r\n          <ngb-panel *ngIf=\"isAnon\"\r\n                     id=\"login\">\r\n            <ng-template ngbPanelTitle>\r\n              <a class=\"link-text\"> Login </a>\r\n              <fa-icon class=\"float-right text-success\"\r\n                       *ngIf=\"getValidation('login')\"\r\n                       [icon]=\"faCheck\"></fa-icon>\r\n            </ng-template>\r\n            <ng-template ngbPanelContent>\r\n              <div class=\"row\">\r\n                <div class=\"col-4\">\r\n                  <button class=\"btn btn-block btn-primary\"\r\n                          routerLink=\"/login\">Login</button>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                  <button class=\"btn btn-block btn-primary\"\r\n                          routerLink=\"/register\">Create Account</button>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                  <button class=\"btn btn-block btn-primary\"\r\n                          (click)=\"toSection('shippingAddress')\">Checkout as Guest</button>\r\n                </div>\r\n              </div>\r\n            </ng-template>\r\n          </ngb-panel>\r\n          <ngb-panel id=\"shippingAddress\">\r\n            <ng-template ngbPanelTitle>\r\n              <a class=\"link-text\"> Shipping Address </a>\r\n              <fa-icon class=\"float-right text-success\"\r\n                       *ngIf=\"getValidation('shippingAddress')\"\r\n                       [icon]=\"faCheck\"></fa-icon>\r\n            </ng-template>\r\n            <ng-template ngbPanelContent>\r\n              <checkout-address [isAnon]=\"isAnon\"\r\n                                addressType=\"Shipping\"\r\n                                (continue)=\"toSection('billingAddress')\"></checkout-address>\r\n            </ng-template>\r\n          </ngb-panel>\r\n          <ngb-panel id=\"billingAddress\">\r\n            <ng-template ngbPanelTitle>\r\n              <a class=\"link-text\"> Billing Address </a>\r\n              <fa-icon class=\"float-right text-success\"\r\n                       *ngIf=\"getValidation('billingAddress')\"\r\n                       [icon]=\"faCheck\"></fa-icon>\r\n            </ng-template>\r\n            <ng-template ngbPanelContent>\r\n              <checkout-address [isAnon]=\"isAnon\"\r\n                                addressType=\"Billing\"\r\n                                (continue)=\"toSection('payment')\"></checkout-address>\r\n            </ng-template>\r\n          </ngb-panel>\r\n          <ngb-panel id=\"payment\">\r\n            <ng-template ngbPanelTitle>\r\n              <a class=\"link-text\"> Payment </a>\r\n              <fa-icon class=\"float-right text-success\"\r\n                       *ngIf=\"getValidation('payment')\"\r\n                       [icon]=\"faCheck\"></fa-icon>\r\n            </ng-template>\r\n            <ng-template ngbPanelContent>\r\n              <checkout-payment [isAnon]=\"isAnon\"\r\n                                (continue)=\"toSection('confirm')\"></checkout-payment>\r\n            </ng-template>\r\n          </ngb-panel>\r\n          <ngb-panel id=\"confirm\">\r\n            <ng-template ngbPanelTitle>\r\n              <a class=\"link-text\"> Confirm </a>\r\n            </ng-template>\r\n            <ng-template ngbPanelContent>\r\n              <checkout-confirm (continue)=\"submitOrder()\"\r\n                                [isSubmittingOrder]=\"isSubmittingOrder\"></checkout-confirm>\r\n            </ng-template>\r\n          </ngb-panel>\r\n        </ngb-accordion>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { Order, OcOrderService } from '@ordercloud/angular-sdk';\r\nimport { AppStateService, BaseResolveService } from 'src/app/shared';\r\nimport { faCheck } from '@fortawesome/free-solid-svg-icons';\r\nimport { NgbAccordion } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Router } from '@angular/router';\r\nimport { AppErrorHandler } from 'src/app/config/error-handling.config';\r\nimport { flatMap } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'checkout-checkout',\r\n  templateUrl: './checkout.component.html',\r\n  styleUrls: ['./checkout.component.scss'],\r\n})\r\nexport class CheckoutComponent implements OnInit {\r\n  @ViewChild('acc', { static: false }) public accordian: NgbAccordion;\r\n  currentOrder$: Observable<Order> = this.appStateService.orderSubject;\r\n  isAnon: boolean;\r\n  isSubmittingOrder = false;\r\n  currentPanel: string;\r\n  faCheck = faCheck;\r\n  sections: any = [\r\n    {\r\n      id: 'login',\r\n      valid: false,\r\n    },\r\n    {\r\n      id: 'shippingAddress',\r\n      valid: false,\r\n    },\r\n    {\r\n      id: 'billingAddress',\r\n      valid: false,\r\n    },\r\n    {\r\n      id: 'payment',\r\n      valid: false,\r\n    },\r\n    {\r\n      id: 'confirm',\r\n      valid: false,\r\n    },\r\n  ];\r\n\r\n  constructor(\r\n    private appStateService: AppStateService,\r\n    private ocOrderService: OcOrderService,\r\n    private router: Router,\r\n    private baseResolveService: BaseResolveService,\r\n    private appErrorHandler: AppErrorHandler\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.isAnon = this.appStateService.isAnonSubject.value;\r\n    this.currentPanel = this.isAnon ? 'login' : 'shippingAddress';\r\n    this.setValidation('login', !this.isAnon);\r\n  }\r\n\r\n  getValidation(id: string) {\r\n    return this.sections.find((x) => x.id === id).valid;\r\n  }\r\n\r\n  setValidation(id: string, value: boolean) {\r\n    this.sections.find((x) => x.id === id).valid = value;\r\n  }\r\n\r\n  toSection(id: string) {\r\n    const prevIdx = Math.max(\r\n      this.sections.findIndex((x) => x.id === id) - 1,\r\n      0\r\n    );\r\n    const prev = this.sections[prevIdx].id;\r\n    this.setValidation(prev, true);\r\n    this.accordian.toggle(id);\r\n  }\r\n\r\n  submitOrder() {\r\n    this.isSubmittingOrder = true;\r\n    const orderID = this.appStateService.orderSubject.value.ID;\r\n    this.ocOrderService\r\n      .Get('outgoing', orderID)\r\n      .pipe(\r\n        flatMap((order) => {\r\n          if (order.IsSubmitted) {\r\n            return throwError({ message: 'Order has already been submitted' });\r\n          }\r\n          return this.ocOrderService.Submit('outgoing', orderID);\r\n        })\r\n      )\r\n      .subscribe(\r\n        () => {\r\n          this.router.navigateByUrl(`order-confirmation/${orderID}`);\r\n          this.baseResolveService.resetUser();\r\n        },\r\n        (ex) => {\r\n          // order submit error occurred\r\n          this.isSubmittingOrder = false;\r\n          this.appErrorHandler.displayError(ex);\r\n        }\r\n      );\r\n  }\r\n\r\n  beforeChange($event) {\r\n    if (this.currentPanel === $event.panelId) {\r\n      return $event.preventDefault();\r\n    }\r\n\r\n    // Only allow a section to open if all previous sections are valid\r\n    for (const section of this.sections) {\r\n      if (section.id === $event.panelId) {\r\n        break;\r\n      }\r\n\r\n      if (!section.valid) {\r\n        return $event.preventDefault();\r\n      }\r\n    }\r\n    this.currentPanel = $event.panelId;\r\n  }\r\n}\r\n","<div class=\"container\"\r\n     *ngIf=\"lineItems$ | async; let lineItems\">\r\n  <div class=\"pb-2 mt-4 mb-2 border-bottom\">\r\n    <h2><strong>Order Submitted</strong></h2>\r\n    <h4 class=\"text-muted\">Thank you for your order. Check your order history to track next steps!</h4>\r\n  </div>\r\n  <div class=\"row my-5\"\r\n       *ngIf=\"order$ | async; let order\">\r\n    <div class=\"col-lg-6\">\r\n      <strong>Order ID</strong> <span class=\"float-right\">{{order.ID}}</span><br>\r\n      <strong>Date Submitted</strong> <span class=\"float-right\">{{order.DateSubmitted | date:'short'}}</span><br>\r\n      <strong>Subtotal</strong> <span class=\"float-right\">{{order.Subtotal | currency}}</span><br>\r\n      <strong>Tax</strong> <span class=\"float-right\">{{order.TaxCost | currency}}</span><br>\r\n      <strong>Shipping</strong> <span class=\"float-right\">{{order.ShippingCost | currency}}</span><br>\r\n      <div *ngFor=\"let promotion of (promotions$ | async)?.Items\">\r\n        <strong>{{promotion.Name}}</strong> <span class=\"float-right text-primary\">- {{promotion.Amount | currency}}</span>\r\n      </div>\r\n      <hr>\r\n      <div class=\"text-right lead\"><b class=\"float-left\">Total:</b><span class=\"order-total\">{{order.Total | currency}}</span></div>\r\n      <hr>\r\n      <order-payment-list *ngIf=\"payments$ | async; let payments\"\r\n                          [payments]=\"payments\"></order-payment-list>\r\n    </div>\r\n    <div class=\"col-lg-6\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-6\">\r\n          <shared-address-display [address]=\"lineItems.Items[0].ShippingAddress\"\r\n                                  addressTitle=\"Delivery Address\"></shared-address-display>\r\n        </div>\r\n        <div class=\"col-md-6\">\r\n          <shared-address-display [address]=\"order.BillingAddress\"\r\n                                  addressTitle=\"Billing Address\"></shared-address-display>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <shared-lineitem-list-wrapper>\r\n    <shared-line-item-card *ngFor=\"let li of lineItems.Items\"\r\n                           [lineitem]=\"li\"\r\n                           [productDetails]=\"li.Product\"\r\n                           [readOnly]=\"true\"></shared-line-item-card>\r\n  </shared-lineitem-list-wrapper>\r\n</div>","import { Component } from '@angular/core';\r\nimport { OrderDetailsComponent } from 'src/app/order/containers/order-detail/order-detail.component';\r\n\r\n@Component({\r\n  selector: 'checkout-order-confirmation',\r\n  templateUrl: './order-confirmation.component.html',\r\n  styleUrls: ['./order-confirmation.component.scss'],\r\n})\r\nexport class OrderConfirmationComponent extends OrderDetailsComponent {}\r\n","import { InjectionToken } from '@angular/core';\r\nimport { PaymentMethod } from 'src/app/shared/models/payment-method.enum';\r\nimport { environment } from '../../environments/environment';\r\n\r\nexport const ocAppConfig: AppConfig = {\r\n  appname: 'OrderCloud',\r\n  clientID: environment.clientID,\r\n  anonymousShoppingEnabled: false,\r\n  premiumSearchEnabled: false,\r\n  middlewareUrl: environment.middlewareUrl,\r\n  scope: [\r\n    'MeAddressAdmin',\r\n    'MeAdmin',\r\n    'MeCreditCardAdmin',\r\n    'MeXpAdmin',\r\n    'Shopper',\r\n    'BuyerReader',\r\n    'PasswordReset',\r\n  ],\r\n  availablePaymentMethods: [\r\n    PaymentMethod.PurchaseOrder,\r\n    PaymentMethod.SpendingAccount,\r\n  ],\r\n};\r\n\r\nexport const applicationConfiguration = new InjectionToken<AppConfig>(\r\n  'app.config',\r\n  { providedIn: 'root', factory: () => ocAppConfig }\r\n);\r\n\r\nexport interface AppConfig {\r\n  /**\r\n   * A short name for your app. It will be used as a\r\n   * cookie prefix as well as general display throughout the app.\r\n   */\r\n  appname: string;\r\n\r\n  /**\r\n   * The identifier for the seller, buyer network or buyer application that\r\n   * will be used for authentication. You can view client ids for apps\r\n   * you own or are a contributor to on the [dashboard](https://developer.ordercloud.io/dashboard)\r\n   */\r\n  clientID: string;\r\n\r\n  /**\r\n   * If set to true users can browse and submit orders without profiling themselves. This requires\r\n   * additional set up in the dashboard. Click here to\r\n   * [learn more](https://developer.ordercloud.io/documentation/platform-guides/authentication/anonymous-shopping)\r\n   */\r\n  anonymousShoppingEnabled: boolean;\r\n\r\n  /**\r\n   * base path to middleware\r\n   */\r\n  middlewareUrl: string;\r\n\r\n  /**\r\n   * An array of security roles that will be requested upon login.\r\n   * These roles allow access to specific endpoints in the OrderCloud.io API.\r\n   * To learn more about these roles and the security profiles that comprise them\r\n   * read [here](https://developer.ordercloud.io/documentation/platform-guides/authentication/security-profiles)\r\n   */\r\n  scope: string[];\r\n\r\n  /**\r\n   * this defines the types of payment methods a user can select\r\n   * from to complete payment on an order\r\n   */\r\n  availablePaymentMethods: PaymentMethod[];\r\n\r\n  /**\r\n   * API feature (in beta - coming soon). If set to true, takes advantage of the API's premium search which is a\r\n   * more powerful natural language search that also supports faceted navigation\r\n   * and is powered by Elastisearch. This feature will be available to for the public\r\n   * sometime in the fall as an additional-charge feature. Please contact one of our\r\n   * representatives if you are interested\r\n   * more info here: https://ordercloud-api.github.io/release-notes/ordercloud-api-v1.0.81.html\r\n   *\r\n   */\r\n  premiumSearchEnabled: boolean;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  NgbDateStruct,\r\n  NgbDateAdapter,\r\n  NgbDateParserFormatter,\r\n} from '@ng-bootstrap/ng-bootstrap';\r\n\r\n/**\r\n * this adapter allows us to use the native date object when\r\n * interacting with ngb datepicker instead of their ngbDateStruct\r\n * docs on adapter: https://ng-bootstrap.github.io/#/components/datepicker/examples#adapter\r\n */\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class NgbDateNativeAdapter extends NgbDateAdapter<Date> {\r\n  fromModel(date: Date): NgbDateStruct {\r\n    return date && date.getFullYear\r\n      ? {\r\n          year: date.getFullYear(),\r\n          month: date.getMonth() + 1,\r\n          day: date.getDate(),\r\n        }\r\n      : null;\r\n  }\r\n\r\n  toModel(date: NgbDateStruct): Date {\r\n    return date ? new Date(date.year, date.month - 1, date.day) : null;\r\n  }\r\n}\r\n\r\n/**\r\n * this formatter overrides the default yyyy-mm-dd format\r\n * provided by ng-bootstrap to a custom one of mm-dd-yyyy\r\n */\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class NgbDateCustomParserFormatter extends NgbDateParserFormatter {\r\n  parse(value: string): NgbDateStruct {\r\n    if (value) {\r\n      const dateParts = value.trim().split('-');\r\n      if (dateParts.length === 1 && isNumber(dateParts[0])) {\r\n        return { year: toInteger(dateParts[0]), month: null, day: null };\r\n      } else if (\r\n        dateParts.length === 2 &&\r\n        isNumber(dateParts[0]) &&\r\n        isNumber(dateParts[1])\r\n      ) {\r\n        return {\r\n          year: toInteger(dateParts[1]),\r\n          month: toInteger(dateParts[0]),\r\n          day: null,\r\n        };\r\n      } else if (\r\n        dateParts.length === 3 &&\r\n        isNumber(dateParts[0]) &&\r\n        isNumber(dateParts[1]) &&\r\n        isNumber(dateParts[2])\r\n      ) {\r\n        return {\r\n          year: toInteger(dateParts[2]),\r\n          month: toInteger(dateParts[0]),\r\n          day: toInteger(dateParts[1]),\r\n        };\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  format(date: NgbDateStruct): string {\r\n    let stringDate = '';\r\n    if (date) {\r\n      stringDate += `${padNumber(date.month)}-`;\r\n      stringDate += `${padNumber(date.day)}-`;\r\n      stringDate += date.year;\r\n    }\r\n    return stringDate;\r\n  }\r\n}\r\n\r\nfunction padNumber(value: number) {\r\n  if (isNumber(value)) {\r\n    return `0${value}`.slice(-2);\r\n  } else {\r\n    return '';\r\n  }\r\n}\r\n\r\nfunction isNumber(value: any): boolean {\r\n  return !isNaN(toInteger(value));\r\n}\r\n\r\nfunction toInteger(value: any): number {\r\n  return parseInt(`${value}`, 10);\r\n}\r\n","import { ErrorHandler, Inject, Injector, Injectable } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n/**\r\n * this error handler class extends angular's ErrorHandler\r\n * in order to automatically format ordercloud error messages\r\n * and display them in toastr\r\n */\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AppErrorHandler extends ErrorHandler {\r\n  constructor(@Inject(Injector) private readonly injector: Injector) {\r\n    super();\r\n  }\r\n\r\n  public handleError(ex: any): void {\r\n    this.displayError(ex);\r\n    super.handleError(ex);\r\n  }\r\n\r\n  /**\r\n   * use this to display error message\r\n   * but continue exection of code\r\n   */\r\n  public displayError(ex: any): void {\r\n    let message = '';\r\n    if (ex && ex.error && ex.error.Errors && ex.error.Errors.length) {\r\n      const e = ex.error.Errors[0];\r\n      if (e.Data && e.Data.WebhookName) {\r\n        // webhook error\r\n        message = e.Data.body;\r\n      } else if (e.ErrorCode === 'NotFound') {\r\n        message = `${e.Data.ObjectType} ${e.Data.ObjectID} not found.`;\r\n      } else {\r\n        message = e.Message;\r\n      }\r\n    } else if (ex && ex.error && ex.error['error_description']) {\r\n      message = ex.error['error_description'];\r\n    } else if (ex.error) {\r\n      message = ex.error;\r\n    } else if (ex.message) {\r\n      message = ex.message;\r\n    } else {\r\n      message = 'An error occurred';\r\n    }\r\n    if (typeof message === 'object') {\r\n      message = JSON.stringify(message);\r\n    }\r\n    if (\r\n      message === 'Token refresh attempt not possible' ||\r\n      message === 'Access token is invalid or expired.'\r\n    ) {\r\n      // display user friendly error\r\n      message = 'Your session has expired. Please log in.';\r\n    }\r\n    this.toastrService.error(message, 'Error', { onActivateTick: true });\r\n  }\r\n\r\n  /**\r\n   * Need to get ToastrService from injector rather than constructor injection to avoid cyclic dependency error\r\n   */\r\n  private get toastrService(): ToastrService {\r\n    return this.injector.get(ToastrService);\r\n  }\r\n}\r\n","import { ocAppConfig } from 'src/app/config/app.config';\r\nimport { Configuration } from '@ordercloud/angular-sdk';\r\n\r\nexport function OcSDKConfig() {\r\n  const apiurl = 'https://api.ordercloud.io';\r\n  const apiVersion = 'v1';\r\n  const authUrl = 'https://auth.ordercloud.io/oauth/token';\r\n\r\n  return new Configuration({\r\n    basePath: `${apiurl}/${apiVersion}`,\r\n    authPath: authUrl,\r\n    cookiePrefix: ocAppConfig.appname.replace(/ /g, '_').toLowerCase(),\r\n  });\r\n}\r\n","<div class=\"py-4 mt-2 bg-light text-center\">\r\n  <div class=\"col-sm-12 d-flex justify-content-around\">\r\n    <a routerLink=\"/terms-and-conditions\"\r\n       class=\"mr-1 text-muted\">\r\n      <fa-icon class=\"mr-1 d-md-none\"\r\n               [icon]=\"faFileAlt\"></fa-icon>\r\n      <small>Terms & Conditions</small>\r\n    </a>\r\n    <a class=\"text-muted\"\r\n       routerLink=\"/support\"\r\n       routerLinkActive=\"active\">\r\n      <fa-icon class=\"mr-1\"\r\n               [icon]=\"faPhone\"></fa-icon>\r\n      <small>Support</small>\r\n    </a>\r\n    <a class=\"text-muted\"\r\n       routerLink=\"/faq\"\r\n       routerLinkActive=\"active\">\r\n      <fa-icon class=\"mr-1 text-muted\"\r\n               [icon]=\"faQuestionCircle\"></fa-icon>\r\n      <small>FAQ</small>\r\n    </a>\r\n  </div>\r\n  <div class=\"p-0 mt-0 text-center text-muted col-sm-12\">\r\n    <small>Created by Four51, Inc.</small>\r\n  </div>\r\n</div>","import { Component } from '@angular/core';\r\nimport { faPhone, faQuestionCircle, faFileAlt } from '@fortawesome/free-solid-svg-icons';\r\n\r\n@Component({\r\n  selector: 'layout-footer',\r\n  templateUrl: './footer.component.html',\r\n  styleUrls: ['./footer.component.scss'],\r\n})\r\nexport class FooterComponent {\r\n  faPhone = faPhone;\r\n  faQuestionCircle = faQuestionCircle;\r\n  faFileAlt = faFileAlt;\r\n}\r\n","<!-- TOP NAV -->\r\n<nav class=\"navbar navbar-expand navbar-light bg-white\"\r\n     *ngIf=\"showHeader()\">\r\n  <div class=\"container\">\r\n\r\n    <a class=\"navbar-brand\"\r\n       routerLink=\"/home\">\r\n      <span class=\"d-none d-md-inline\">{{appConfig.appname}}</span>\r\n      <span class=\"d-md-none\">OCS</span>\r\n    </a>\r\n\r\n    <ul class=\"navbar-nav mr-auto\">\r\n\r\n      <li class=\"nav-item\"\r\n          routerLinkActive=\"active\">\r\n        <a class=\"nav-link\"\r\n           routerLink=\"/home\">\r\n          Home\r\n        </a>\r\n      </li>\r\n      <li class=\"nav-item\"\r\n          routerLinkActive=\"active\">\r\n        <a class=\"nav-link\"\r\n           routerLink=\"/products\">\r\n          Shop\r\n        </a>\r\n      </li>\r\n    </ul>\r\n    <div class=\"form-inline\"\r\n         *ngIf=\"(anonymous$ | async)\">\r\n      <a class=\"btn btn-sm btn-outline-dark\"\r\n         routerLink=\"/login\">Login</a>\r\n      <a class=\"btn btn-sm btn-primary d-none d-sm-block ml-2\"\r\n         routerLink=\"/register\">Register</a>\r\n    </div>\r\n    <ul class=\"navbar-nav\"\r\n        *ngIf=\"!(anonymous$ | async)\">\r\n      <li class=\"nav-item dropdown\"\r\n          ngbDropdown\r\n          placement=\"bottom-right\">\r\n        <div class=\"nav-link dropdown-toggle text-nowrap\"\r\n             id=\"account-dropdown\"\r\n             routerLinkActive=\"active\"\r\n             ngbDropdownToggle>\r\n          <fa-icon [icon]=\"faUserCircle\"></fa-icon>\r\n          <span class=\"d-none d-md-inline\">\r\n            Account\r\n          </span>\r\n        </div>\r\n        <div class=\"dropdown-menu\"\r\n             aria-labelledby=\"account-dropdown\"\r\n             ngbDropdownMenu>\r\n          <h6 class=\"dropdown-header\">Hi, {{ (user$ | async)?.FirstName }}!</h6>\r\n          <a class=\"dropdown-item\"\r\n             routerLinkActive=\"active\"\r\n             routerLink=\"/profile/details\">My Profile</a>\r\n          <a class=\"dropdown-item\"\r\n             routerLinkActive=\"active\"\r\n             routerLink=\"/profile/orders\">My Orders</a>\r\n          <a class=\"dropdown-item\"\r\n             routerLinkActive=\"active\"\r\n             routerLink=\"/profile/addresses\">Address Book</a>\r\n          <a class=\"dropdown-item\"\r\n             routerLinkActive=\"active\"\r\n             routerLink=\"/profile/payment-methods\">Payment Methods</a>\r\n          <div class=\"dropdown-divider\"></div>\r\n          <a class=\"dropdown-item\"\r\n             (click)=\"logout()\"\r\n             href=\"/login\">\r\n            <fa-icon [icon]=\"faSignOutAlt\"></fa-icon> Logout\r\n          </a>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n\r\n  </div>\r\n</nav>\r\n<nav class=\"navbar navbar-expand navbar-light bg-light\"\r\n     *ngIf=\"showHeader()\">\r\n  <div class=\"container\">\r\n    <shared-search class=\"mr-3 w-100\"\r\n                   placeholderText=\"Search Products...\"\r\n                   (searched)=\"searchProducts($event)\"></shared-search>\r\n    <ul class=\"navbar-nav\"\r\n        #cartIcon\r\n        (mouseleave)=\"closeMiniCart($event, popover)\">\r\n      <li class=\"nav-item\"\r\n          [ngbPopover]=\"CartHoverContent\"\r\n          #popover=\"ngbPopover\"\r\n          triggers=\"mouseenter:click\"\r\n          placement=\"bottom-right\"\r\n          popoverClass=\"mini-cart-popover\"\r\n          [autoClose]=\"'outside'\">\r\n        <ng-template #CartHoverContent>\r\n          <checkout-mini-cart [popover]=\"popover\"></checkout-mini-cart>\r\n        </ng-template>\r\n        <a class=\"nav-link text-nowrap\"\r\n           routerLink=\"/cart\"\r\n           routerLinkActive=\"active\"\r\n           ngbPopover=\"Item(s) Added to Cart\"\r\n           placement=\"bottom\"\r\n           triggers=\"manual\"\r\n           #addtocartPopover=\"ngbPopover\">\r\n          <span class=\"d-none d-lg-inline\">Cart </span>\r\n          <fa-layers class=\"fa-fw\">\r\n            <fa-icon [icon]=\"faShoppingCart\"></fa-icon>\r\n            <fa-layers-counter *ngIf=\"currentOrder && currentOrder.LineItemCount\"\r\n                               class=\"badge__counter--large\"\r\n                               [content]=\"currentOrder.LineItemCount\"></fa-layers-counter>\r\n          </fa-layers>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</nav>","import {\r\n  Component,\r\n  OnInit,\r\n  Inject,\r\n  ViewChild,\r\n  OnDestroy,\r\n  ElementRef,\r\n} from '@angular/core';\r\nimport {\r\n  applicationConfiguration,\r\n  AppConfig,\r\n} from 'src/app/config/app.config';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport {\r\n  faSearch,\r\n  faShoppingCart,\r\n  faPhone,\r\n  faQuestionCircle,\r\n  faUserCircle,\r\n  faSignOutAlt,\r\n  faHome,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { NgbPopover } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Observable } from 'rxjs';\r\nimport { AppStateService } from 'src/app/shared';\r\nimport { Order, MeUser, ListCategory } from '@ordercloud/angular-sdk';\r\nimport { takeWhile, tap, debounceTime, delay, filter } from 'rxjs/operators';\r\nimport { AddToCartEvent } from 'src/app/shared/models/add-to-cart-event.interface';\r\nimport { AppAuthService } from 'src/app/auth';\r\nimport { SearchComponent } from 'src/app/shared/components/search/search.component';\r\n\r\n@Component({\r\n  selector: 'layout-header',\r\n  templateUrl: './header.component.html',\r\n  styleUrls: ['./header.component.scss'],\r\n})\r\nexport class HeaderComponent implements OnInit, OnDestroy {\r\n  categories$: Observable<ListCategory>;\r\n  isCollapsed = true;\r\n  anonymous$: Observable<boolean> = this.appStateService.isAnonSubject;\r\n  user$: Observable<MeUser> = this.appStateService.userSubject;\r\n  currentOrder: Order;\r\n  alive = true;\r\n  addToCartQuantity: number;\r\n  @ViewChild('addtocartPopover', { static: false }) public popover: NgbPopover;\r\n  @ViewChild('cartIcon', { static: false }) cartIcon: ElementRef;\r\n  @ViewChild(SearchComponent, { static: false }) public search: SearchComponent;\r\n\r\n  faSearch = faSearch;\r\n  faShoppingCart = faShoppingCart;\r\n  faPhone = faPhone;\r\n  faQuestionCircle = faQuestionCircle;\r\n  faSignOutAlt = faSignOutAlt;\r\n  faUserCircle = faUserCircle;\r\n  faHome = faHome;\r\n\r\n  constructor(\r\n    private appStateService: AppStateService,\r\n    private appAuthService: AppAuthService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    @Inject(applicationConfiguration) public appConfig: AppConfig\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.appStateService.orderSubject\r\n      .pipe(takeWhile(() => this.alive))\r\n      .subscribe((order) => (this.currentOrder = order));\r\n\r\n    this.buildAddToCartListener();\r\n    this.clearSearchOnNavigate();\r\n  }\r\n\r\n  isMobile(): boolean {\r\n    return window.innerWidth < 768; // max width for bootstrap's sm breakpoint\r\n  }\r\n\r\n  buildAddToCartListener() {\r\n    this.appStateService.addToCartSubject\r\n      .pipe(\r\n        tap((event: AddToCartEvent) => {\r\n          this.popover.close();\r\n          this.popover.ngbPopover = `${event.quantity} Item(s) Added to Cart`;\r\n        }),\r\n        delay(300),\r\n        tap(() => {\r\n          this.popover.open();\r\n        }),\r\n        debounceTime(3000)\r\n      )\r\n      .subscribe(() => {\r\n        this.popover.close();\r\n      });\r\n  }\r\n\r\n  searchProducts(searchStr: string) {\r\n    this.router.navigate(['/products'], { queryParams: { search: searchStr } });\r\n  }\r\n\r\n  logout() {\r\n    this.appAuthService.logout();\r\n  }\r\n\r\n  clearSearchOnNavigate() {\r\n    this.activatedRoute.queryParams\r\n      .pipe(\r\n        filter((queryParams) => {\r\n          return typeof queryParams.search === 'undefined';\r\n        }),\r\n        takeWhile(() => this.alive)\r\n      )\r\n      .subscribe(() => {\r\n        if (this.search) {\r\n          this.search.clearWithoutEmit();\r\n        }\r\n      });\r\n  }\r\n\r\n  closeMiniCart(event: MouseEvent, popover: NgbPopover) {\r\n    const rect = this.cartIcon.nativeElement.getBoundingClientRect();\r\n    // do not close if leaving through the bottom\r\n    if (event.y < rect.top + rect.height) {\r\n      popover.close();\r\n    }\r\n  }\r\n\r\n  // TODO: we should move responsibility for 'showing' up to the parent component instead of hard-coding route-names.\r\n  showHeader() {\r\n    const hiddenRoutes = [\r\n      '/login',\r\n      '/register',\r\n      '/forgot-password',\r\n      '/reset-password',\r\n    ];\r\n    return !hiddenRoutes.some((el) => this.router.url.indexOf(el) > -1);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.alive = false;\r\n  }\r\n}\r\n","<div class=\"container\"\r\n     *ngIf=\"buyerOrg$ | async; let buyer\">\r\n\r\n  <!-- Announcements can be managed in the seller application  -->\r\n  <div *ngIf=\"buyer?.xp?.Announcement\"\r\n       class=\"alert alert-info my-3\"><b>\r\n      <fa-icon class=\"pr-3\"\r\n               [icon]=\"faBullhorn\"></fa-icon>\r\n    </b>{{ buyer?.xp?.Announcement }}</div>\r\n\r\n  <!-- Carousel slides can be managed in the seller application -->\r\n  <ngb-carousel *ngIf=\"buyer?.xp?.carouselSlides\">\r\n    <ng-template ngbSlide\r\n                 *ngFor=\"let slide of buyer.xp.carouselSlides\">\r\n      <img class=\"img-fluid\"\r\n           style=\"width:100%;\"\r\n           [src]=\"slide.URL\"\r\n           alt=\"Random first slide\">\r\n      <div class=\"carousel-caption\">\r\n        <h3>{{ slide.headerText }}</h3>\r\n        <p>{{ slide.bodyText }}</p>\r\n      </div>\r\n    </ng-template>\r\n  </ngb-carousel>\r\n\r\n  <!-- Featured products can be managed in the seller application -->\r\n  <div *ngIf=\"featuredProducts$ | async; let products\">\r\n    <product-carousel *ngIf=\"products.Items.length\"\r\n                      displayTitle=\"Featured Products\"\r\n                      [products]=\"products.Items\"></product-carousel>\r\n  </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { NgbCarouselConfig } from '@ng-bootstrap/ng-bootstrap';\r\nimport {\r\n  OcMeService,\r\n  ListBuyerProduct,\r\n  OcBuyerService,\r\n  Buyer,\r\n} from '@ordercloud/angular-sdk';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { faBullhorn } from '@fortawesome/free-solid-svg-icons';\r\n\r\n@Component({\r\n  selector: 'layout-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.scss'],\r\n})\r\nexport class HomeComponent implements OnInit {\r\n  featuredProducts$: Observable<ListBuyerProduct>;\r\n  buyerOrg$: Observable<Buyer>;\r\n  faBullhorn = faBullhorn;\r\n\r\n  constructor(\r\n    private config: NgbCarouselConfig,\r\n    private ocMeService: OcMeService,\r\n    private ocBuyerService: OcBuyerService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.config.interval = 5000;\r\n    this.config.wrap = true;\r\n    this.featuredProducts$ = this.ocMeService.ListProducts({\r\n      filters: <any>{ 'xp.Featured': true },\r\n    });\r\n    this.buyerOrg$ = this.GetBuyerOrg();\r\n  }\r\n\r\n  GetBuyerOrg(): Observable<Buyer> {\r\n    // In a buyer context, listing buyers will return only one buyer organization, your own.\r\n    return this.ocBuyerService.List().pipe(map((list) => list.Items[0]));\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { HeaderComponent } from 'src/app/layout/header/header.component';\r\nimport { MainComponent } from 'src/app/layout/main/main.component';\r\nimport { FooterComponent } from 'src/app/layout/footer/footer.component';\r\n\r\nimport { SharedModule } from 'src/app/shared';\r\nimport { HomeComponent } from 'src/app/layout/home/home.component';\r\n\r\n@NgModule({\r\n  imports: [RouterModule, SharedModule],\r\n  exports: [HeaderComponent, MainComponent, FooterComponent, HomeComponent],\r\n  declarations: [\r\n    HeaderComponent,\r\n    MainComponent,\r\n    FooterComponent,\r\n    HomeComponent,\r\n  ],\r\n})\r\nexport class LayoutModule {}\r\n","<router-outlet></router-outlet>","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'layout-main',\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.scss'],\r\n})\r\nexport class MainComponent {}\r\n","<form [formGroup]=\"form\"\r\n      name=\"DateFilterForm\"\r\n      novalidate>\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-6\">\r\n      <div class=\"form-group\">\r\n        <label for=\"dFrom\">From Date</label>\r\n        <div class=\"input-group\">\r\n          <input formControlName=\"fromDate\"\r\n                 class=\"form-control border-right-0\"\r\n                 placeholder=\"mm-dd-yyyy\"\r\n                 ngbDatepicker\r\n                 #dFrom=\"ngbDatepicker\"\r\n                 id=\"dFrom\">\r\n          <div class=\"input-group-append\">\r\n            <span *ngIf=\"form.value.fromDate\"\r\n                  (click)=\"clearFromDate()\"\r\n                  class=\"input-group-text bg-white icon-button--hover-reactive\">\r\n              <fa-icon [icon]=\"faTimes\"></fa-icon>\r\n            </span>\r\n            <button class=\"btn btn-outline-secondary\"\r\n                    (click)=\"dFrom.toggle()\"\r\n                    type=\"button\">\r\n              <fa-icon [icon]=\"faCalendar\"\r\n                       id=\"calendar-addon-from\"></fa-icon>\r\n            </button>\r\n          </div>\r\n          <span *ngIf=\"hasDateError('fromDate')\"\r\n                class=\"error-message\">Enter date of the form mm-dd-yyyy</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6\">\r\n      <div class=\"form-group\">\r\n        <label for=\"dTo\">To Date</label>\r\n        <div class=\"input-group\">\r\n          <input formControlName=\"toDate\"\r\n                 class=\"form-control border-right-0\"\r\n                 placeholder=\"mm-dd-yyyy\"\r\n                 ngbDatepicker\r\n                 minDate=\"today\"\r\n                 #dTo=\"ngbDatepicker\"\r\n                 id=\"dTo\">\r\n          <div class=\"input-group-append\">\r\n            <span *ngIf=\"form.value.toDate\"\r\n                  (click)=\"clearToDate()\"\r\n                  class=\"input-group-text bg-white icon-button--hover-reactive\">\r\n              <fa-icon [icon]=\"faTimes\"></fa-icon>\r\n            </span>\r\n            <button class=\"btn btn-outline-secondary\"\r\n                    (click)=\"dTo.toggle()\"\r\n                    type=\"button\">\r\n              <fa-icon [icon]=\"faCalendar\"\r\n                       id=\"calendar-addon-to\"></fa-icon>\r\n            </button>\r\n          </div>\r\n          <span *ngIf=\"hasDateError('toDate')\"\r\n                class=\"error-message\">Enter date of the form mm-dd-yyyy</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</form>","import {\r\n  Component,\r\n  OnInit,\r\n  OnDestroy,\r\n  Output,\r\n  EventEmitter,\r\n} from '@angular/core';\r\nimport { faCalendar, faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { DatePipe } from '@angular/common';\r\nimport { debounceTime, takeWhile } from 'rxjs/operators';\r\nimport { AppFormErrorService } from 'src/app/shared';\r\nimport { DateValidator } from 'src/app/shared/validators/date-input/date-input.validator';\r\n\r\n@Component({\r\n  selector: 'order-date-filter',\r\n  templateUrl: './date-filter.component.html',\r\n  styleUrls: ['./date-filter.component.scss'],\r\n})\r\nexport class DateFilterComponent implements OnInit, OnDestroy {\r\n  private alive = true;\r\n  faCalendar = faCalendar;\r\n  faTimes = faTimes;\r\n  form: FormGroup;\r\n  @Output() selectedDate = new EventEmitter<string[]>();\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private datePipe: DatePipe,\r\n    private formErrorService: AppFormErrorService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.form = this.formBuilder.group({\r\n      fromDate: [<Date>null, DateValidator()],\r\n      toDate: [<Date>null, DateValidator()],\r\n    });\r\n    this.onFormChanges();\r\n  }\r\n\r\n  private onFormChanges() {\r\n    this.form.valueChanges\r\n      .pipe(\r\n        debounceTime(500),\r\n        takeWhile(() => this.alive)\r\n      )\r\n      .subscribe(() => {\r\n        this.emitDate();\r\n      });\r\n  }\r\n\r\n  private emitDate() {\r\n    if (this.form.get('fromDate').invalid || this.form.get('toDate').invalid) {\r\n      return;\r\n    }\r\n    const format = (date) =>\r\n      this.datePipe.transform(date, 'shortDate').replace(/\\//g, '-');\r\n    const fromDate = <Date>this.form.get('fromDate').value;\r\n    const toDate = <Date>this.form.get('toDate').value;\r\n    const dateSubmitted: string[] = [];\r\n\r\n    if (fromDate) {\r\n      dateSubmitted.push(`>${format(fromDate)}`);\r\n    }\r\n    if (toDate) {\r\n      // Add one day so the filter will be inclusive of the date selected\r\n      toDate.setDate(toDate.getDate() + 1);\r\n      dateSubmitted.push(`<${format(toDate)}`);\r\n    }\r\n\r\n    this.selectedDate.emit(dateSubmitted);\r\n  }\r\n\r\n  clearToDate() {\r\n    this.form.patchValue({ toDate: null });\r\n    this.emitDate();\r\n  }\r\n\r\n  clearFromDate() {\r\n    this.form.patchValue({ fromDate: null });\r\n    this.emitDate();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.alive = false;\r\n  }\r\n\r\n  public hasDateError = (controlName: string) =>\r\n    this.formErrorService.hasDateError(controlName, this.form);\r\n}\r\n","<div class=\"table-responsive\"\r\n     *ngIf=\"orders.Items.length\">\r\n  <table class=\"table table-striped table-bordered table-hover bg-light\">\r\n    <caption class=\"sr-only\">List of Orders</caption>\r\n    <thead>\r\n      <tr>\r\n        <th *ngIf=\"columnNames.indexOf('Favorite') > -1\"></th>\r\n        <th (click)=\"updateSort('ID')\"\r\n            *ngIf=\"columnNames.indexOf('ID') > -1\">\r\n          <button class=\"btn btn-link font-weight-bold\">\r\n            ID\r\n            <fa-icon *ngIf=\"sortBy === 'ID' || sortBy === '!ID'\"\r\n                     [icon]=\"sortBy === 'ID' ? faCaretDown : faCaretUp\"></fa-icon>\r\n          </button>\r\n        </th>\r\n        <th (click)=\"updateSort('Status')\"\r\n            *ngIf=\"columnNames.indexOf('Status') > -1\">\r\n          <button class=\"btn btn-link font-weight-bold\">\r\n            Status\r\n            <fa-icon *ngIf=\"sortBy === 'Status' || sortBy === '!Status'\"\r\n                     [icon]=\"sortBy === 'Status' ? faCaretDown : faCaretUp\"></fa-icon>\r\n          </button>\r\n        </th>\r\n        <th (click)=\"updateSort('DateSubmitted')\"\r\n            *ngIf=\"columnNames.indexOf('DateSubmitted') > -1\">\r\n          <button class=\"btn btn-link font-weight-bold\">\r\n            Date Submitted\r\n            <fa-icon *ngIf=\"sortBy === 'DateSubmitted' || sortBy === '!DateSubmitted'\"\r\n                     [icon]=\"sortBy === 'DateSubmitted' ? faCaretDown : faCaretUp\"></fa-icon>\r\n          </button>\r\n        </th>\r\n        <th *ngIf=\"columnNames.indexOf('SubmittedBy') > -1\">\r\n          <button class=\"btn btn-link font-weight-bold\">\r\n            Submitted By\r\n          </button>\r\n        </th>\r\n        <th (click)=\"updateSort('Total')\"\r\n            *ngIf=\"columnNames.indexOf('Total') > -1\">\r\n          <button class=\"btn btn-link font-weight-bold\">\r\n            Total\r\n            <fa-icon *ngIf=\"sortBy === 'Total' || sortBy === '!Total'\"\r\n                     [icon]=\"sortBy === 'Total' ? faCaretDown : faCaretUp\"></fa-icon>\r\n          </button>\r\n        </th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let order of orders.Items\"\r\n          [routerLink]=\"[ order.ID ]\">\r\n        <td *ngIf=\"columnNames.indexOf('Favorite') > -1\"\r\n            (click)=\"$event.stopPropagation()\">\r\n          <shared-toggle-favorite [favorite]=\"favoriteOrderService.isFavorite(order)\"\r\n                                  (favoriteChanged)=\"favoriteOrderService.setFavoriteValue($event, order)\">\r\n          </shared-toggle-favorite>\r\n        </td>\r\n        <td *ngIf=\"columnNames.indexOf('ID')> -1\">{{order.ID}}</td>\r\n        <td *ngIf=\"columnNames.indexOf('Status') > -1\">\r\n          <order-status-icon [status]=\"order.Status\"></order-status-icon> {{order.Status}}\r\n        </td>\r\n        <td *ngIf=\"columnNames.indexOf('DateSubmitted') > -1\">{{order.DateSubmitted | date: 'short' || 'N/A'}}</td>\r\n        <td *ngIf=\"columnNames.indexOf('SubmittedBy') > -1\">{{order.FromUser.FirstName}} {{order.FromUser.LastName}}</td>\r\n        <td *ngIf=\"columnNames.indexOf('Total') > -1\">{{order.Total | currency}}</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n<div class=\"card bg-light p-3 flex-row justify-content-center\"\r\n     *ngIf=\"!orders.Items.length\">\r\n  <p class=\"mb-0\">No orders found</p>\r\n</div>\r\n<ngb-pagination *ngIf=\"orders.Meta.TotalPages > 1\"\r\n                maxSize=\"10\"\r\n                class=\"d-flex justify-content-center\"\r\n                [collectionSize]=\"orders.Meta.TotalCount\"\r\n                [pageSize]=\"orders.Meta.PageSize\"\r\n                [(page)]=\"orders.Meta.Page\"\r\n                (pageChange)=\"changePage($event)\"\r\n                [rotate]=\"true\"></ngb-pagination>","import { Component, Input, EventEmitter, Output, OnInit } from '@angular/core';\r\nimport { ListOrder } from '@ordercloud/angular-sdk';\r\nimport { OrderListColumn } from 'src/app/order/models/order-list-column';\r\nimport { faCaretDown, faCaretUp } from '@fortawesome/free-solid-svg-icons';\r\nimport { FavoriteOrdersService } from 'src/app/shared/services/favorites/favorites.service';\r\n\r\n@Component({\r\n  selector: 'order-list',\r\n  templateUrl: './order-list.component.html',\r\n  styleUrls: ['./order-list.component.scss'],\r\n})\r\nexport class OrderListComponent implements OnInit {\r\n  @Input() orders: ListOrder;\r\n  @Input() columns: OrderListColumn[];\r\n  @Input() sortBy: string;\r\n  faCaretDown = faCaretDown;\r\n  faCaretUp = faCaretUp;\r\n  @Output() updatedSort = new EventEmitter<string>();\r\n  @Output() changedPage = new EventEmitter<number>();\r\n\r\n  columnNames: string[] = [];\r\n\r\n  constructor(\r\n    public favoriteOrderService: FavoriteOrdersService // used in template\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.columnNames = Object.values(this.columns);\r\n  }\r\n\r\n  public updateSort(selectedSortBy) {\r\n    let sortBy;\r\n    switch (this.sortBy) {\r\n      case selectedSortBy:\r\n        sortBy = `!${selectedSortBy}`;\r\n        break;\r\n      case `!${selectedSortBy}`:\r\n        // setting to undefined so sdk ignores parameter\r\n        sortBy = undefined;\r\n        break;\r\n      default:\r\n        sortBy = selectedSortBy;\r\n    }\r\n    this.updatedSort.emit(sortBy);\r\n  }\r\n\r\n  public changePage(page: number): void {\r\n    this.changedPage.emit(page);\r\n  }\r\n}\r\n","<form [formGroup]=\"form\">\r\n  <div class=\"form-group\">\r\n    <label for=\"status\">Status</label>\r\n    <select id=\"status\"\r\n            (change)=\"selectStatus()\"\r\n            class=\"form-control\"\r\n            formControlName=\"status\">\r\n          <option value=\"!Unsubmitted\">All</option>\r\n          <option *ngFor=\"let status of statuses\" [ngValue]=\"status\">\r\n            {{status | orderStatusDisplay}}\r\n          </option>\r\n      </select>\r\n  </div>\r\n</form>","import { Component, OnInit, EventEmitter, Output } from '@angular/core';\r\nimport { OrderStatus } from 'src/app/order/models/order-status.model';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'order-status-filter',\r\n  templateUrl: './status-filter.component.html',\r\n  styleUrls: ['./status-filter.component.scss'],\r\n})\r\nexport class StatusFilterComponent implements OnInit {\r\n  form: FormGroup;\r\n  public statuses: OrderStatus[];\r\n  @Output() selectedStatus = new EventEmitter<OrderStatus>();\r\n\r\n  constructor(private formBuilder: FormBuilder) {}\r\n\r\n  ngOnInit(): void {\r\n    this.form = this.formBuilder.group({\r\n      status: `!${OrderStatus.Unsubmitted}`,\r\n    });\r\n    this.statuses = [\r\n      OrderStatus.Open,\r\n      OrderStatus.AwaitingApproval,\r\n      OrderStatus.Completed,\r\n      OrderStatus.Declined,\r\n    ];\r\n  }\r\n\r\n  public selectStatus(): void {\r\n    const status = this.form.get('status').value;\r\n    this.selectedStatus.emit(status);\r\n  }\r\n}\r\n","<fa-icon [ngClass]=\"{\r\n  'text-success': status === 'Completed',\r\n  'text-warning': status === 'AwaitingApproval',\r\n  'text-info': status === 'Open',\r\n  'text-danger': status === 'Declined'\r\n}\"\r\n         [icon]=\"statusIconMapping[status]\"></fa-icon>","import { Component, Input } from '@angular/core';\r\nimport { faCircle, faClock, faBan } from '@fortawesome/free-solid-svg-icons';\r\nimport { OrderStatus } from 'src/app/order/models/order-status.model';\r\n\r\n@Component({\r\n  selector: 'order-status-icon',\r\n  templateUrl: './status-icon.component.html',\r\n  styleUrls: ['./status-icon.component.scss'],\r\n})\r\nexport class StatusIconComponent {\r\n  @Input() status: OrderStatus;\r\n  faCircle = faCircle;\r\n  faClock = faClock;\r\n  faBan = faBan;\r\n  statusIconMapping = {\r\n    [OrderStatus.Completed]: this.faCircle,\r\n    [OrderStatus.AwaitingApproval]: this.faClock,\r\n    [OrderStatus.Open]: this.faCircle,\r\n    [OrderStatus.Declined]: this.faBan,\r\n  };\r\n}\r\n","<button class=\"btn btn-success ml-2\"\r\n        (click)=\"openModal(true)\">Approve</button>\r\n<button class=\"btn btn-danger ml-2\"\r\n        (click)=\"openModal(false)\">Decline</button>\r\n<shared-modal [id]=\"modalID\"\r\n              modalTitle=\"{{ approved ? 'Approve' : 'Decline' }} Order\">\r\n  <form novalidate\r\n        [formGroup]=\"form\">\r\n    <textarea type=\"text\"\r\n              placeholder=\"Comments (optional)\"\r\n              formControlName=\"comments\"\r\n              class=\"form-control\">\r\n          </textarea>\r\n  </form>\r\n  <button class=\"mt-3 w-100 btn\"\r\n          (click)=\"submitReview()\"\r\n          [ngClass]=\"{ 'btn-success': approved, 'btn-danger': !approved }\">{{ approved ? 'Approve' : 'Decline' }}</button>\r\n</shared-modal>","import { Component, OnInit, Input } from '@angular/core';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { ModalService } from 'src/app/shared';\r\nimport { OcOrderService } from '@ordercloud/angular-sdk';\r\nimport { Router } from '@angular/router';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n@Component({\r\n  selector: 'order-approval',\r\n  templateUrl: './order-approval.component.html',\r\n  styleUrls: ['./order-approval.component.scss'],\r\n})\r\nexport class OrderApprovalComponent implements OnInit {\r\n  approved: boolean;\r\n  form: FormGroup;\r\n  modalID = 'order-approval-comments';\r\n  @Input() orderID: string;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private modalService: ModalService,\r\n    private ocOrderService: OcOrderService,\r\n    private router: Router,\r\n    private toasterService: ToastrService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.form = this.formBuilder.group({ comments: '' });\r\n  }\r\n\r\n  openModal(approved: boolean) {\r\n    this.approved = approved;\r\n    this.modalService.open(this.modalID);\r\n  }\r\n\r\n  submitReview() {\r\n    const comments = this.form.value.comments;\r\n    const request = this.approved\r\n      ? this.ocOrderService.Approve('outgoing', this.orderID, {\r\n          Comments: comments,\r\n          AllowResubmit: false,\r\n        })\r\n      : this.ocOrderService.Decline('outgoing', this.orderID, {\r\n          Comments: comments,\r\n          AllowResubmit: false,\r\n        });\r\n\r\n    request.subscribe(() => {\r\n      this.toasterService.success(\r\n        `Order ${this.orderID} was ${this.approved ? 'Approved' : 'Declined'}`\r\n      );\r\n      this.modalService.close(this.modalID);\r\n      this.router.navigateByUrl('/profile/orders/approval');\r\n    });\r\n  }\r\n}\r\n","<div *ngIf=\"order$ | async; let order\">\r\n  <div *ngIf=\"lineItems$ | async; let lineItems\">\r\n    <div class=\"row mb-5\">\r\n      <div class=\"col-6\">\r\n        <shared-address-display *ngIf=\"lineItems.Items[0].ShippingAddress\"\r\n                                [address]=\"lineItems.Items[0].ShippingAddress\"\r\n                                addressTitle=\"Shipping Address\">\r\n        </shared-address-display>\r\n\r\n        <shared-address-display [address]=\"order.BillingAddress\"\r\n                                addressTitle=\"Billing Address\"\r\n                                *ngIf=\"order?.BillingAddress\">\r\n        </shared-address-display>\r\n      </div>\r\n      <div class=\"col-6\">\r\n        <div *ngIf=\"order.Comments\"\r\n             class=\"alert alert-secondary small\">\r\n          <strong>Comments: </strong> {{order.Comments}}\r\n        </div>\r\n        <strong>Subtotal</strong> <span class=\"float-right\">{{order.Subtotal | currency}}</span><br>\r\n        <strong>Shipping</strong> <span class=\"float-right\">{{order.ShippingCost | currency}}</span><br>\r\n        <strong>Tax</strong> <span class=\"float-right\">{{order.TaxCost | currency}}</span><br>\r\n        <div *ngIf=\"order.PromotionDiscount\">\r\n          <strong class=\"text-danger\">Promo Discount</strong> <span class=\"float-right text-danger\">-{{order.PromotionDiscount | currency}}</span>\r\n        </div>\r\n        <hr>\r\n        <div class=\"text-right lead\"><b class=\"float-left\">Total:</b><span class=\"order-total\">{{order.Total | currency}}</span></div>\r\n        <hr>\r\n        <order-payment-list *ngIf=\"payments$ | async; let payments\"\r\n                            [payments]=\"payments\"></order-payment-list>\r\n        <hr>\r\n        <ul>\r\n          <li *ngFor=\"let approval of (approvals$ | async)\">\r\n            {{ approval.Approver.FirstName }} {{ approval.Approver.LastName }} {{ approval.Status }} on {{ approval.DateCreated | date: 'short' }}\r\n            <div><small *ngIf=\"approval.Comments\">\"{{ approval.Comments }}\"</small></div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <shared-lineitem-list-wrapper>\r\n      <shared-line-item-card *ngFor=\"let li of lineItems?.Items\"\r\n                             [lineitem]=\"li\"\r\n                             [productDetails]=\"li.Product\"\r\n                             readOnly=\"true\"></shared-line-item-card>\r\n    </shared-lineitem-list-wrapper>\r\n  </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport {\r\n  Order,\r\n  ListLineItem,\r\n  ListPromotion,\r\n  OcOrderService,\r\n  ListPayment,\r\n  OrderApproval,\r\n} from '@ordercloud/angular-sdk';\r\nimport { ActivatedRoute, ParamMap } from '@angular/router';\r\nimport { AppPaymentService } from 'src/app/shared/services/app-payment-service/app-payment.service';\r\nimport { uniqBy as _uniqBy } from 'lodash';\r\n\r\n@Component({\r\n  selector: 'order-details',\r\n  templateUrl: './order-detail.component.html',\r\n  styleUrls: ['./order-detail.component.scss'],\r\n})\r\nexport class OrderDetailsComponent implements OnInit {\r\n  orderID: string;\r\n  order$: Observable<Order>;\r\n  lineItems$: Observable<ListLineItem>;\r\n  promotions$: Observable<ListPromotion>;\r\n  payments$: Observable<ListPayment>;\r\n  approvals$: Observable<OrderApproval[]>;\r\n\r\n  constructor(\r\n    protected activatedRoute: ActivatedRoute,\r\n    protected ocOrderService: OcOrderService,\r\n    protected appPaymentService: AppPaymentService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.order$ = this.activatedRoute.data.pipe(\r\n      map(({ orderResolve }) => orderResolve.order)\r\n    );\r\n    this.lineItems$ = this.activatedRoute.data.pipe(\r\n      map(({ orderResolve }) => orderResolve.lineItems)\r\n    );\r\n    this.activatedRoute.paramMap.subscribe((params: ParamMap) => {\r\n      this.orderID = params.get('orderID');\r\n      this.promotions$ = this.getPromotions();\r\n      this.payments$ = this.getPayments();\r\n      this.approvals$ = this.getApprovals();\r\n    });\r\n  }\r\n\r\n  protected getPromotions(): Observable<ListPromotion> {\r\n    return (this.promotions$ = this.ocOrderService.ListPromotions(\r\n      'outgoing',\r\n      this.orderID\r\n    ));\r\n  }\r\n\r\n  protected getPayments(): Observable<ListPayment> {\r\n    return this.appPaymentService.getPayments('outgoing', this.orderID);\r\n  }\r\n\r\n  protected getApprovals(): Observable<OrderApproval[]> {\r\n    return this.ocOrderService.ListApprovals('outgoing', this.orderID).pipe(\r\n      map((list) => {\r\n        list.Items = list.Items.filter((x) => x.Approver);\r\n        return _uniqBy(list.Items, (x) => x.Comments);\r\n      })\r\n    );\r\n  }\r\n}\r\n","<h1 class=\"page-heading border-bottom pb-3\">{{ approvalVersion ? 'Orders To Appprove' : 'My Orders' }}</h1>\r\n<shared-search placeholderText=\"Search Orders\"\r\n               (searched)=\"filterBySearch($event)\"></shared-search>\r\n<div class=\"row mt-3\">\r\n  <div class=\"col-md-2 col-sm-6\"\r\n       *ngIf=\"!approvalVersion\">\r\n    <div>Favorites</div>\r\n    <div class=\"mt-3 ml-3\">\r\n      <shared-toggle-favorite [favorite]=\"hasFavoriteOrdersFilter\"\r\n                              (favoriteChanged)=\"filterByFavorite($event)\"></shared-toggle-favorite>\r\n    </div>\r\n  </div>\r\n  <div class=\"col-md-2 col-sm-6\"\r\n       *ngIf=\"!approvalVersion\">\r\n    <order-status-filter (selectedStatus)=\"filterByStatus($event)\"></order-status-filter>\r\n  </div>\r\n  <div class=\"col\">\r\n    <order-date-filter (selectedDate)=\"filterByDate($event)\"></order-date-filter>\r\n  </div>\r\n</div>\r\n<order-list *ngIf=\"orders$ | async; let orders\"\r\n            [orders]=\"orders\"\r\n            [columns]=\"columns\"\r\n            [sortBy]=\"sortBy\"\r\n            (updatedSort)=\"sortOrders($event)\"\r\n            (changedPage)=\"changePage($event)\">\r\n</order-list>","import { Component, AfterViewInit, Input } from '@angular/core';\r\nimport { OrderStatus } from 'src/app/order/models/order-status.model';\r\nimport { OcMeService, ListOrder } from '@ordercloud/angular-sdk';\r\nimport { MeOrderListOptions } from 'src/app/order/models/me-order-list-options';\r\nimport { Observable } from 'rxjs';\r\nimport { Router, ActivatedRoute, ParamMap } from '@angular/router';\r\nimport { flatMap } from 'rxjs/operators';\r\nimport { FavoriteOrdersService } from 'src/app/shared/services/favorites/favorites.service';\r\n\r\n@Component({\r\n  selector: 'order-history',\r\n  templateUrl: './order-history.component.html',\r\n  styleUrls: ['./order-history.component.scss'],\r\n})\r\nexport class OrderHistoryComponent implements AfterViewInit {\r\n  alive = true;\r\n  columns: string[] = ['ID', 'Status', 'DateSubmitted', 'Total'];\r\n  orders$: Observable<ListOrder>;\r\n  hasFavoriteOrdersFilter = false;\r\n  sortBy: string;\r\n  @Input() approvalVersion: boolean;\r\n\r\n  constructor(\r\n    private ocMeService: OcMeService,\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n    private favoriteOrdersService: FavoriteOrdersService\r\n  ) {}\r\n\r\n  ngAfterViewInit(): void {\r\n    if (!this.approvalVersion) {\r\n      this.columns.push('Favorite');\r\n    }\r\n    this.orders$ = this.listOrders();\r\n  }\r\n\r\n  public sortOrders(sortBy: string): void {\r\n    this.addQueryParam({ sortBy });\r\n  }\r\n\r\n  public changePage(page: number): void {\r\n    this.addQueryParam({ page });\r\n  }\r\n\r\n  public filterBySearch(search: string): void {\r\n    this.addQueryParam({ search, page: undefined });\r\n  }\r\n\r\n  public filterByStatus(status: OrderStatus): void {\r\n    this.addQueryParam({ status });\r\n  }\r\n\r\n  public filterByDate(datesubmitted: string[]): void {\r\n    this.addQueryParam({ datesubmitted });\r\n  }\r\n\r\n  private addQueryParam(newParam: object): void {\r\n    const queryParams = {\r\n      ...this.activatedRoute.snapshot.queryParams,\r\n      ...newParam,\r\n    };\r\n    this.router.navigate([], { queryParams });\r\n  }\r\n\r\n  public filterByFavorite(favoriteOrders: boolean): void {\r\n    if (favoriteOrders) {\r\n      this.addQueryParam({ favoriteOrders: true });\r\n    } else {\r\n      // set to undefined so we dont pollute url with unnecessary query params\r\n      this.addQueryParam({ favoriteOrders: undefined });\r\n    }\r\n  }\r\n\r\n  protected listOrders(): Observable<ListOrder> {\r\n    return this.activatedRoute.queryParamMap.pipe(\r\n      flatMap((queryParamMap) => {\r\n        this.sortBy = queryParamMap.get('sortBy');\r\n        // we set param values to undefined so the sdk ignores them (dont show in headers)\r\n        const listOptions: MeOrderListOptions = {\r\n          sortBy: this.sortBy || undefined,\r\n          search: queryParamMap.get('search') || undefined,\r\n          page: parseInt(queryParamMap.get('page'), 10) || undefined,\r\n          filters: {\r\n            ID: this.buildFavoriteOrdersQuery(queryParamMap),\r\n            status:\r\n              queryParamMap.get('status') || `!${OrderStatus.Unsubmitted}`,\r\n            datesubmitted: queryParamMap.getAll('datesubmitted') || undefined,\r\n          },\r\n        };\r\n        return this.approvalVersion\r\n          ? this.ocMeService.ListApprovableOrders(listOptions)\r\n          : this.ocMeService.ListOrders(listOptions);\r\n      })\r\n    );\r\n  }\r\n\r\n  private buildFavoriteOrdersQuery(\r\n    queryParamMap: ParamMap\r\n  ): string | undefined {\r\n    this.hasFavoriteOrdersFilter =\r\n      queryParamMap.get('favoriteOrders') === 'true';\r\n    const favorites = this.favoriteOrdersService.getFavorites();\r\n    return this.hasFavoriteOrdersFilter && favorites && favorites.length\r\n      ? favorites.join('|')\r\n      : undefined;\r\n  }\r\n}\r\n","<button type=\"button\"\r\n        class=\"btn  btn-secondary\"\r\n        (click)=\"orderReorder()\">Reorder</button>\r\n<shared-modal id=\"Order-Reorder\"\r\n              modalTitle=\"Order Reorder\">\r\n  <div *ngIf=\"reorderResponse$ | async as reorderResponse\">\r\n    <div class=\"alert\"\r\n         [ngClass]=\"{'alert-danger': message.classType == 'danger',\r\n                  'alert-warning': message.classType == 'warning',\r\n                  'alert-success': message.classType == 'success'}\">\r\n      <p [innerHTML]='message.string'> </p>\r\n    </div>\r\n    <shared-lineitem-list-wrapper *ngIf=\"reorderResponse.InvalidLi.length\">\r\n      <shared-line-item-card *ngFor=\"let li of reorderResponse.InvalidLi\"\r\n                             [lineitem]=\"li\"\r\n                             [productDetails]=\"li.Product\"\r\n                             readOnly=\"true\">\r\n      </shared-line-item-card>\r\n    </shared-lineitem-list-wrapper>\r\n    <button type=\"button\"\r\n            class=\"btn btn-primary btn-lg btn-block\"\r\n            [disabled]=\"!reorderResponse.ValidLi.length || !orderID\"\r\n            (click)=\"addToCart()\">Add to Cart</button>\r\n  </div>\r\n</shared-modal>","import { Component, OnInit, Input, OnDestroy } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { takeWhile, tap } from 'rxjs/operators';\r\n\r\nimport { forEach as _forEach } from 'lodash';\r\n\r\nimport {\r\n  ModalService,\r\n  CartService,\r\n  AppReorderService,\r\n} from 'src/app/shared';\r\nimport { OrderReorderResponse } from 'src/app/shared/services/reorder/reorder.interface';\r\n\r\n@Component({\r\n  selector: 'order-reorder',\r\n  templateUrl: './order-reorder.component.html',\r\n  styleUrls: ['./order-reorder.component.scss'],\r\n})\r\nexport class OrderReorderComponent implements OnInit, OnDestroy {\r\n  @Input() orderID: string;\r\n  reorderResponse$: Observable<OrderReorderResponse>;\r\n  modalID = 'Order-Reorder';\r\n  alive = true;\r\n  message = { string: null, classType: null };\r\n\r\n  constructor(\r\n    private appReorderService: AppReorderService,\r\n    private modalService: ModalService,\r\n    private cartService: CartService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    if (this.orderID) {\r\n      this.reorderResponse$ = this.appReorderService.order(this.orderID).pipe(\r\n        tap((response) => {\r\n          this.updateMessage(response);\r\n        })\r\n      );\r\n    } else {\r\n      throw new Error('Needs Order ID');\r\n    }\r\n  }\r\n\r\n  updateMessage(response: OrderReorderResponse): void {\r\n    if (response.InvalidLi.length && !response.ValidLi.length) {\r\n      this.message.string = `None of the line items on this order are available for reorder.`;\r\n      this.message.classType = 'danger';\r\n      return;\r\n    }\r\n    if (response.InvalidLi.length && response.ValidLi.length) {\r\n      this.message.string = `<strong>Warning</strong> The following line items are not available for reorder, clicking add to cart will <strong>only</strong> add valid line items.`;\r\n      this.message.classType = 'warning';\r\n      return;\r\n    }\r\n    this.message.string = `All line items are valid to reorder`;\r\n    this.message.classType = 'success';\r\n  }\r\n\r\n  orderReorder() {\r\n    this.modalService.open(this.modalID);\r\n  }\r\n\r\n  addToCart() {\r\n    this.reorderResponse$\r\n      .pipe(takeWhile(() => this.alive))\r\n      .subscribe((reorderResponse) => {\r\n        _forEach(reorderResponse.ValidLi, (li) => {\r\n          if (!li) return;\r\n          this.cartService.addToCart(li.Product.ID, li.Quantity).subscribe();\r\n        });\r\n        this.modalService.close(this.modalID);\r\n      });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.alive = false;\r\n  }\r\n}\r\n","<div *ngIf=\"shipments\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-5\">\r\n      <ul class=\"nav flex-column nav-pills\">\r\n        <li *ngFor=\"let shipment of shipments.Items; let i = index\"\r\n            class=\"nav-item\">\r\n          <button class=\"btn btn-link btn-block nav-link text-left\"\r\n                  (click)=\"selectShipment(shipment)\"\r\n                  [ngClass]=\"{active: selectedShipment.ID === shipment.ID}\">Shipment {{shipmentCount[selectedShipment.ID]}}</button>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"col-lg-7\">\r\n      <div *ngIf=\"selectedShipment\">\r\n        <header>\r\n          <h3>Shipment {{shipmentCount[selectedShipment.ID]}}</h3>\r\n        </header>\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <ul class=\"oc-list-items\">\r\n              <li>\r\n                <b>Shipper:</b> {{selectedShipment.Shipper}}\r\n              </li>\r\n              <li *ngIf=\"!(selectedShipment.Shipper | shipperTrackingSupported)\">\r\n                <b>Tracking Number:</b> {{selectedShipment.TrackingNumber || 'N/A'}}\r\n              </li>\r\n              <li *ngIf=\"(selectedShipment.Shipper | shipperTrackingSupported)\">\r\n                <a href=\"{{selectedShipment.TrackingNumber | shipperTracking:selectedShipment.Shipper}}\"\r\n                   target=\"_blank\">{{selectedShipment.TrackingNumber}}</a>\r\n              </li>\r\n              <li>\r\n                <b>Date Shipped:</b> {{selectedShipment.DateShipped | date: 'short'}}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div class=\"table-responsive\"\r\n             *ngIf=\"shipmentItems$ | async; let shipmentItems\">\r\n          <table class=\"table\">\r\n            <caption class=\"sr-only\">List of line items in this shipment</caption>\r\n            <thead>\r\n              <tr>\r\n                <th>Qty Shipped</th>\r\n                <th>Product</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr *ngFor=\"let item of shipmentItems.Items\">\r\n                <td>{{item.QuantityShipped + ' of ' + item.LineItem.Quantity}}</td>\r\n                <td>{{item.LineItem.Product.Name}} <small class=\"text-muted\">{{item.LineItem.Product.ID}}</small></td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"card bg-light p-3 flex-row justify-content-center\"\r\n     *ngIf=\"!shipments?.Items.length\">\r\n  <p class=\"mb-0\">There are currently no shipments for this order</p>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport {\r\n  OcMeService,\r\n  ListShipment,\r\n  Shipment,\r\n  ListShipmentItem,\r\n  ListLineItem,\r\n} from '@ordercloud/angular-sdk';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Observable, combineLatest } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { find as _find, Dictionary } from 'lodash';\r\n\r\n@Component({\r\n  selector: 'order-shipments',\r\n  templateUrl: './order-shipments.component.html',\r\n  styleUrls: ['./order-shipments.component.scss'],\r\n})\r\nexport class OrderShipmentsComponent implements OnInit {\r\n  selectedShipment: Shipment;\r\n  shipments: ListShipment;\r\n  shipmentItems$: Observable<ListShipmentItem>;\r\n  lineItems: ListLineItem;\r\n  shipmentCount: Dictionary<number> = {};\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private ocMeService: OcMeService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    combineLatest(this.activatedRoute.parent.data, this.activatedRoute.data)\r\n      .pipe(\r\n        map((results) => [\r\n          results[0].orderResolve.lineItems,\r\n          results[1].shipmentsResolve,\r\n        ])\r\n      )\r\n      .subscribe(([lineItems, shipments]) => {\r\n        this.lineItems = lineItems;\r\n        this.setShipmentCount(shipments);\r\n        if (shipments.Items.length) {\r\n          this.selectShipment(shipments.Items[0]);\r\n        }\r\n      });\r\n  }\r\n\r\n  private setShipmentCount(shipments: ListShipment): ListShipment {\r\n    shipments.Items.forEach((shipment, index) => {\r\n      this.shipmentCount[shipment.ID] = index + 1;\r\n    });\r\n    return shipments;\r\n  }\r\n\r\n  public selectShipment(shipment: Shipment): void {\r\n    this.selectedShipment = { ...shipment };\r\n    this.shipmentItems$ = this.ocMeService\r\n      .ListShipmentItems(shipment.ID)\r\n      .pipe(map((shipmentItems) => this.setLineItem(shipmentItems)));\r\n  }\r\n\r\n  private setLineItem(shipmentItems: ListShipmentItem) {\r\n    shipmentItems.Items.map((item) => {\r\n      const lineItem = _find(\r\n        this.lineItems.Items,\r\n        (li) => li.ID === item.LineItemID\r\n      );\r\n      item['LineItem'] = lineItem;\r\n    });\r\n    return shipmentItems;\r\n  }\r\n}\r\n","<div class=\"container\"\r\n     *ngIf=\"order$ | async; let order\">\r\n  <nav class=\"breadcrumb\"\r\n       aria-label=\"breadcrumb\">\r\n    <a class=\"breadcrumb-item link-text\"\r\n       [routerLink]=\"['..']\">All Orders</a>\r\n    <a class=\"breadcrumb-item link-text\"\r\n       aria-current=\"page\">{{order.ID}}</a>\r\n  </nav>\r\n  <div class=\"pb-2 mt-4 mb-2\">\r\n    <h2> <span class=\"text-muted\">Order #:</span> {{order.ID}}</h2>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-6\">\r\n      <div>Status:\r\n        <order-status-icon [status]=\"order.Status\"></order-status-icon> {{order.Status}}\r\n      </div>\r\n      <small class=\"float-left\">Submitted on {{order.DateSubmitted | date: 'short'}}</small>\r\n    </div>\r\n    <div class=\"col-md-6\">\r\n      <button *ngIf=\"!approvalVersion\"\r\n              class=\"btn btn-outline-secondary float-right\"\r\n              (click)=\"favorite()\">Favorite\r\n        <shared-toggle-favorite title=\"Favorite\"\r\n                                (click)=\"$event.stopPropagation()\"\r\n                                [favorite]=\"favoriteOrdersService.isFavorite(order)\"\r\n                                (favoriteChanged)=\"favoriteOrdersService.setFavoriteValue($event, order)\">\r\n        </shared-toggle-favorite>\r\n      </button>\r\n      <order-reorder *ngIf=\"!approvalVersion\"\r\n                     class=\"float-right pb-2 mr-2 mb-2\"\r\n                     [orderID]='order.ID'></order-reorder>\r\n      <order-approval *ngIf=\"approvalVersion\"\r\n                      class=\"float-right\"\r\n                      [orderID]='order.ID'></order-approval>\r\n\r\n    </div>\r\n  </div>\r\n  <ul class=\"nav nav-tabs mb-3\">\r\n    <li class=\"nav-item\">\r\n      <button class=\"btn btn-link nav-link\"\r\n              [routerLink]=\"['/profile', 'orders', order.ID]\">\r\n        <fa-icon [icon]=\"faCube\"></fa-icon>\r\n        Details\r\n      </button>\r\n    </li>\r\n    <li class=\"nav-item\">\r\n      <button class=\"btn btn-link nav-link\"\r\n              [routerLink]=\"['/profile', 'orders', order.ID, 'shipments']\">\r\n        <fa-icon [icon]=\"faTruck\"></fa-icon>\r\n        Shipments\r\n      </button>\r\n    </li>\r\n  </ul>\r\n</div>\r\n<router-outlet></router-outlet>","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { faCube, faTruck } from '@fortawesome/free-solid-svg-icons';\r\nimport { Order } from '@ordercloud/angular-sdk';\r\nimport { FavoriteOrdersService } from 'src/app/shared/services/favorites/favorites.service';\r\nimport { ToggleFavoriteComponent } from 'src/app/shared/components/toggle-favorite/toggle-favorite.component';\r\n\r\n@Component({\r\n  selector: 'order-order',\r\n  templateUrl: './order.component.html',\r\n  styleUrls: ['./order.component.scss'],\r\n})\r\nexport class OrderComponent implements OnInit {\r\n  faCube = faCube;\r\n  faTruck = faTruck;\r\n  approvalVersion: boolean;\r\n  order$: Observable<Order>;\r\n  @ViewChild(ToggleFavoriteComponent, { static: false })\r\n  toggleFavorite: ToggleFavoriteComponent;\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    public favoriteOrdersService: FavoriteOrdersService // used in template\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.approvalVersion = this.router.url.includes('/approval');\r\n    this.order$ = this.activatedRoute.data.pipe(\r\n      map(({ orderResolve }) => orderResolve.order)\r\n    );\r\n  }\r\n\r\n  favorite() {\r\n    this.toggleFavorite.favorite = !this.toggleFavorite.favorite;\r\n    this.toggleFavorite.favoriteChanged.emit(this.toggleFavorite.favorite);\r\n  }\r\n}\r\n","export enum OrderStatus {\r\n  Unsubmitted = 'Unsubmitted',\r\n  AwaitingApproval = 'AwaitingApproval',\r\n  Declined = 'Declined',\r\n  Open = 'Open',\r\n  Completed = 'Completed',\r\n  Canceled = 'Canceled',\r\n}\r\n\r\nexport const OrderStatusMap = {\r\n  [OrderStatus.Unsubmitted]: 'Unsubmitted',\r\n  [OrderStatus.AwaitingApproval]: 'Awaiting Approval',\r\n  [OrderStatus.Declined]: 'Declined',\r\n  [OrderStatus.Open]: 'Open',\r\n  [OrderStatus.Completed]: 'Completed',\r\n  [OrderStatus.Canceled]: 'Canceled',\r\n};\r\n","<order-history [approvalVersion]=\"false\"></order-history>","<order-history [approvalVersion]=\"true\"></order-history>","import { NgModule, Component } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { OrderDetailsComponent } from 'src/app/order/containers/order-detail/order-detail.component';\r\nimport { OrderComponent } from 'src/app/order/containers/order/order.component';\r\nimport { OrderShipmentsComponent } from 'src/app/order/containers/order-shipments/order-shipments.component';\r\nimport { ShipmentsResolve } from 'src/app/order/shipments.resolve';\r\nimport { OrderResolve } from 'src/app/order/order.resolve';\r\n\r\n@Component({\r\n  template: '<order-history [approvalVersion]=\"false\"></order-history>',\r\n})\r\nexport class MyOrdersComponent {}\r\n\r\n@Component({\r\n  template: '<order-history [approvalVersion]=\"true\"></order-history>',\r\n})\r\nexport class OrdersToApproveComponent {}\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: MyOrdersComponent },\r\n  { path: 'approval', component: OrdersToApproveComponent },\r\n  {\r\n    path: ':orderID',\r\n    component: OrderComponent,\r\n    resolve: { orderResolve: OrderResolve },\r\n    children: [\r\n      { path: '', component: OrderDetailsComponent },\r\n      {\r\n        path: 'shipments',\r\n        component: OrderShipmentsComponent,\r\n        resolve: { shipmentsResolve: ShipmentsResolve },\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: 'approval/:orderID',\r\n    component: OrderComponent,\r\n    resolve: { orderResolve: OrderResolve },\r\n    children: [\r\n      { path: '', component: OrderDetailsComponent },\r\n      {\r\n        path: 'shipments',\r\n        component: OrderShipmentsComponent,\r\n        resolve: { shipmentsResolve: ShipmentsResolve },\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class OrderRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { SharedModule } from 'src/app/shared';\r\nimport { DatePipe } from '@angular/common';\r\n\r\nimport {\r\n  OrderRoutingModule,\r\n  MyOrdersComponent,\r\n  OrdersToApproveComponent,\r\n} from 'src/app/order/order-routing.module';\r\nimport { OrderHistoryComponent } from 'src/app/order/containers/order-history/order-history.component';\r\nimport { StatusFilterComponent } from 'src/app/order/components/status-filter/status-filter.component';\r\nimport { DateFilterComponent } from 'src/app/order/components/date-filter/date-filter.component';\r\nimport { OrderListComponent } from 'src/app/order/components/order-list/order-list.component';\r\nimport { OrderDetailsComponent } from 'src/app/order/containers/order-detail/order-detail.component';\r\nimport { StatusIconComponent } from 'src/app/order/components/status-icon/status-icon.component';\r\nimport { OrderComponent } from 'src/app/order/containers/order/order.component';\r\nimport { OrderShipmentsComponent } from 'src/app/order/containers/order-shipments/order-shipments.component';\r\nimport { OrderReorderComponent } from 'src/app/order/containers/order-reorder/order-reorder.component';\r\nimport { OrderApprovalComponent } from 'src/app/order/containers/order-approval/order-approval.component';\r\n\r\n@NgModule({\r\n  imports: [SharedModule, OrderRoutingModule],\r\n  declarations: [\r\n    OrderHistoryComponent,\r\n    StatusFilterComponent,\r\n    DateFilterComponent,\r\n    OrderListComponent,\r\n    OrderDetailsComponent,\r\n    StatusIconComponent,\r\n    OrderComponent,\r\n    OrderShipmentsComponent,\r\n    OrderReorderComponent,\r\n    MyOrdersComponent,\r\n    OrdersToApproveComponent,\r\n    OrderApprovalComponent,\r\n  ],\r\n  providers: [\r\n    DatePipe, // allows us to use in class as injectable (date filter component)\r\n  ],\r\n})\r\nexport class OrderModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { OcOrderService } from '@ordercloud/angular-sdk';\r\nimport { forkJoin } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { CartService } from 'src/app/shared';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class OrderResolve implements Resolve<any> {\r\n  constructor(\r\n    private ocOrderService: OcOrderService,\r\n    private cartService: CartService\r\n  ) {}\r\n\r\n  resolve(route: ActivatedRouteSnapshot) {\r\n    const orderID = route.paramMap.get('orderID');\r\n    return forkJoin([\r\n      this.ocOrderService.Get('outgoing', orderID),\r\n      this.cartService.listAllItems(orderID),\r\n    ]).pipe(map((results) => ({ order: results[0], lineItems: results[1] })));\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { ListShipment, OcMeService } from '@ordercloud/angular-sdk';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ShipmentsResolve implements Resolve<ListShipment> {\r\n  constructor(private ocMeService: OcMeService) {}\r\n\r\n  resolve(route: ActivatedRouteSnapshot) {\r\n    const orderID = route.parent.paramMap.get('orderID');\r\n    return this.ocMeService.ListShipments({ orderID: orderID });\r\n  }\r\n}\r\n","<div class=\"bg-light\">\r\n  <div #imageWrapper>\r\n    <ngx-image-zoom class=\"img-fluid mx-auto d-block pt-2 px-2\"\r\n                    appFallbackImage\r\n                    [thumbImage]=\"imgUrls && imgUrls[selectedIndex] ? imgUrls[selectedIndex] : 'http://placehold.it/500x500'\"\r\n                    [fullImage]=\"imgUrls && imgUrls[selectedIndex] ? imgUrls[selectedIndex] : []\"\r\n                    [zoomMode]=\"'hover'\"\r\n                    [enableScrollZoom]=\"true\"\r\n                    [enableLens]=\"true\"\r\n                    [lensWidth]=\"250\"\r\n                    [lensHeight]=\"250\"\r\n                    [circularLens]=\"true\"\r\n                    [magnification]=\"2\"></ngx-image-zoom>\r\n  </div>\r\n  <div>\r\n    <div class=\"gallery-container row\"\r\n         *ngIf=\"imgUrls.length > 1\">\r\n      <div class=\"col carousel-arrow\"\r\n           (click)=\"backward()\">\r\n        <fa-icon [icon]=\"faAngleLeft\"></fa-icon>\r\n      </div>\r\n      <div class=\"col gallery-item\"\r\n           [ngClass]=\"{'active' : isSelected(url) }\"\r\n           *ngFor=\"let url of  getGallery()\"\r\n           (click)=\"select(url)\">\r\n        <img [src]=\"url\">\r\n      </div>\r\n      <div class=\"col carousel-arrow\"\r\n           (click)=\"forward()\">\r\n        <fa-icon [icon]=\"faAngleRight\"></fa-icon>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>","import { takeWhile } from 'rxjs/operators';\r\nimport {\r\n  Component,\r\n  Input,\r\n  OnInit,\r\n  OnDestroy,\r\n  PLATFORM_ID,\r\n  Inject,\r\n} from '@angular/core';\r\nimport { faAngleLeft, faAngleRight } from '@fortawesome/free-solid-svg-icons';\r\nimport { fromEvent } from 'rxjs';\r\nimport { isPlatformBrowser } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'product-additional-image-gallery',\r\n  templateUrl: './additional-image-gallery.component.html',\r\n  styleUrls: ['./additional-image-gallery.component.scss'],\r\n})\r\nexport class AdditionalImageGalleryComponent implements OnInit, OnDestroy {\r\n  // gallerySize can be changed and the component logic + behavior will all work. However, the UI may look wonky.\r\n  private readonly gallerySize = 5;\r\n  private alive = true;\r\n\r\n  @Input() imgUrls: string[];\r\n  selectedIndex = 0;\r\n  startIndex = 0;\r\n  endIndex = this.gallerySize - 1;\r\n  faAngleLeft = faAngleLeft;\r\n  faAngleRight = faAngleRight;\r\n  isResponsiveView: boolean;\r\n\r\n  constructor(@Inject(PLATFORM_ID) private platformId: Object) {\r\n    this.onResize();\r\n  }\r\n  ngOnInit() {\r\n    this.imgUrls = this.imgUrls || [];\r\n    if (isPlatformBrowser(this.platformId)) {\r\n      fromEvent(window, 'resize')\r\n        .pipe(\r\n          // only subscribe to event while directive\r\n          // is alive to prevent memory leak\r\n          takeWhile(() => this.alive)\r\n        )\r\n        .subscribe(() => {\r\n          this.onResize();\r\n        });\r\n    }\r\n  }\r\n\r\n  onResize() {\r\n    if (isPlatformBrowser(this.platformId)) {\r\n      this.isResponsiveView = window.innerWidth > 900;\r\n    } else {\r\n      this.isResponsiveView = true;\r\n    }\r\n  }\r\n\r\n  select(url: string): void {\r\n    this.selectedIndex = this.imgUrls.indexOf(url);\r\n  }\r\n\r\n  isSelected(url: string): boolean {\r\n    return this.imgUrls.indexOf(url) === this.selectedIndex;\r\n  }\r\n\r\n  getGallery(): string[] {\r\n    return this.imgUrls.slice(this.startIndex, this.endIndex + 1);\r\n  }\r\n\r\n  forward() {\r\n    this.selectedIndex++;\r\n    if (this.selectedIndex > Math.min(this.endIndex, this.imgUrls.length - 1)) {\r\n      // move images over one\r\n      this.startIndex++;\r\n      this.endIndex++;\r\n      if (this.selectedIndex === this.imgUrls.length) {\r\n        // cycle to the beginning\r\n        [this.selectedIndex, this.startIndex, this.endIndex] = [\r\n          0,\r\n          0,\r\n          this.gallerySize - 1,\r\n        ];\r\n      }\r\n    }\r\n  }\r\n\r\n  backward() {\r\n    this.selectedIndex--;\r\n    if (this.selectedIndex < this.startIndex) {\r\n      // move images over one\r\n      this.startIndex--;\r\n      this.endIndex--;\r\n      if (this.selectedIndex === -1) {\r\n        // cycle to the end\r\n        this.selectedIndex = this.imgUrls.length - 1;\r\n        this.endIndex = this.imgUrls.length - 1;\r\n        this.startIndex = Math.max(this.imgUrls.length - this.gallerySize, 0);\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.alive = false;\r\n  }\r\n}\r\n","<div class=\"card mb-4\">\r\n  <div class=\"card-header p-3\">\r\n    <h5 class=\"card-title mb-0\">\r\n      <strong>Categories</strong>\r\n    </h5>\r\n  </div>\r\n  <!-- For more info about tree component see https://angular2-tree.readme.io/docs/getting-started -->\r\n  <!-- TODO: figure out angular-tree-component for SSR -->\r\n  <!-- <tree-root [nodes]=\"categoryTree\"\r\n             [options]=\"options\"\r\n             class=\"list-group p-3\">\r\n    <ng-template #treeNodeWrapperTemplate\r\n                 let-node\r\n                 let-index=\"index\">\r\n      <div class=\"node-wrapper\"\r\n           [style.padding-left]=\"node.getNodePadding()\">\r\n        <tree-node-expander [node]=\"node\"></tree-node-expander>\r\n        <div class=\"node-content-wrapper\"\r\n             [class.node-content-wrapper-active]=\"node.isActive\"\r\n             [class.node-content-wrapper-focused]=\"node.isFocused\"\r\n             (click)=\"node.mouseAction('click', $event)\"\r\n             (dblclick)=\"node.mouseAction('dblClick', $event)\"\r\n             (contextmenu)=\"node.mouseAction('contextMenu', $event)\"\r\n             (treeDrop)=\"node.onDrop($event)\"\r\n             [treeAllowDrop]=\"node.allowDrop\"\r\n             [treeDrag]=\"node\"\r\n             [treeDragEnabled]=\"node.allowDrag()\">\r\n          <tree-node-content [class]='node.getClass()'\r\n                             [node]=\"node\"\r\n                             [index]=\"index\"></tree-node-content>\r\n        </div>\r\n      </div>\r\n    </ng-template>\r\n  </tree-root> -->\r\n</div>","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { ListCategory, Category } from '@ordercloud/angular-sdk';\r\n// import { ITreeOptions } from 'angular-tree-component'; // TODO: figure out angular-tree-component for SSR\r\nimport { CategoryTreeNode } from 'src/app/product/models/category-tree-node.class';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'product-category-nav',\r\n  templateUrl: './category-nav.component.html',\r\n  styleUrls: ['./category-nav.component.scss'],\r\n})\r\nexport class CategoryNavComponent implements OnInit {\r\n  @Input() categories: ListCategory;\r\n  @Output() selection = new EventEmitter<CategoryTreeNode>();\r\n  categoryTree: CategoryTreeNode[];\r\n  private activeCategoryID: string;\r\n  // TODO: figure out angular-tree-component for SSR\r\n  // options: ITreeOptions = {\r\n  //   nodeClass: (node: CategoryTreeNode) => {\r\n  //     return this.activeCategoryID === node.id ? 'font-weight-bold' : null;\r\n  //   },\r\n  //   actionMapping: {\r\n  //     mouse: {\r\n  //       click: (_tree, _node, _$event) => {\r\n  //         this.selection.emit(_node.id);\r\n  //       },\r\n  //     },\r\n  //   },\r\n  //   animateExpand: true,\r\n  // };\r\n\r\n  constructor(private activatedRoute: ActivatedRoute) {}\r\n\r\n  ngOnInit() {\r\n    this.categoryTree = this.buildCategoryTree(this.categories.Items);\r\n    this.activatedRoute.queryParams.subscribe((queryParams) => {\r\n      this.activeCategoryID = queryParams.category;\r\n    });\r\n  }\r\n\r\n  buildCategoryTree(ocCategories: Category[]): CategoryTreeNode[] {\r\n    const orderedIDs = ocCategories.map((x) => x.ID);\r\n    // key is ID, value is Node\r\n    const nodeDict = ocCategories.reduce((acc, x) => {\r\n      const node = new CategoryTreeNode();\r\n      node.id = x.ID;\r\n      node.name = x.Name;\r\n      node.category = x;\r\n      node.children = [];\r\n      acc[x.ID] = node;\r\n      return acc;\r\n    }, {});\r\n\r\n    orderedIDs.forEach((id) => {\r\n      if (\r\n        !nodeDict[id].category.ParentID ||\r\n        !nodeDict[nodeDict[id].category.ParentID]\r\n      ) {\r\n        // category is not a child node\r\n        return;\r\n      }\r\n\r\n      nodeDict[nodeDict[id].category.ParentID].children.push(nodeDict[id]);\r\n      nodeDict[id].parent = nodeDict[nodeDict[id].category.ParentID];\r\n    });\r\n\r\n    // Return all top-level nodes in order\r\n    return orderedIDs.map((x) => nodeDict[x]).filter((x) => !x.parent);\r\n  }\r\n}\r\n","<div class=\"component-background p-3\">\r\n  <!-- <products-price-filter (selectedFacet)=\"selectFacetList($event)\"></products-price-filter> -->\r\n  <div *ngFor=\"let facet of facetList\">\r\n    <product-facet-list [facet]=\"facet\"\r\n                        (selectedFacet)=\"facetListSelected.emit($event)\"></product-facet-list>\r\n  </div>\r\n</div>","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  OnDestroy,\r\n  EventEmitter,\r\n} from '@angular/core';\r\nimport { ListFacet } from '@ordercloud/angular-sdk';\r\nimport { ActivatedRoute, Params } from '@angular/router';\r\nimport { keys as _keys, intersection as _intersection } from 'lodash';\r\nimport { takeWhile } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'product-facet-filter',\r\n  templateUrl: './facet-filter.component.html',\r\n  styleUrls: ['./facet-filter.component.scss'],\r\n})\r\nexport class FacetFilterComponent implements OnInit, OnDestroy {\r\n  @Input() facetList: ListFacet[];\r\n  @Output() facetListSelected = new EventEmitter<Params>();\r\n  activeFacets: string[] = [];\r\n  queryParams;\r\n  alive = true;\r\n\r\n  constructor(private activatedRoute: ActivatedRoute) {}\r\n\r\n  ngOnInit() {\r\n    this.onQueryParamChange();\r\n  }\r\n\r\n  private onQueryParamChange() {\r\n    this.activatedRoute.queryParams\r\n      .pipe(takeWhile(() => this.alive))\r\n      .subscribe((queryParams) => {\r\n        this.queryParams = queryParams;\r\n        this.activeFacets = this.findActiveFacets(queryParams);\r\n      });\r\n  }\r\n\r\n  private findActiveFacets(queryParams: Params): string[] {\r\n    // find names of facets that are being used to filter products\r\n    const facetNames = this.facetList.map((f) => f.Name);\r\n    const queryParamNames = _keys(queryParams);\r\n    return _intersection(queryParamNames, facetNames);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.alive = false;\r\n  }\r\n}\r\n","<div *ngIf=\"facet.Name !== 'Price'\">\r\n\r\n  <!-- Facet Name -->\r\n  <h6 class=\"text-muted\"\r\n      (click)=\"toggleFacets()\">\r\n    <fa-icon class=\"text-muted\"\r\n             [icon]=\"isCollapsed ?  faPlusSquare : faMinusSquare\"\r\n             pull=\"right\"></fa-icon>\r\n    {{ facet.Name }}\r\n  </h6>\r\n\r\n  <!-- Facet Values -->\r\n  <form [formGroup]=\"form\"\r\n        id=\"facetValues\"\r\n        [ngbCollapse]=\"isCollapsed\">\r\n    <div formArrayName=\"facetValues\"\r\n         class=\"custom-control custom-checkbox\"\r\n         *ngFor=\"let value of facet.Values | slice: 0: visibleFacetLength; let i = index\">\r\n      <input (click)=\"selectFacet(facet.Name, value.Value, i)\"\r\n             type=\"checkbox\"\r\n             class=\"custom-control-input\"\r\n             formControlName=\"{{i}}\"\r\n             id=\"{{facet.Name}}facetCheckbox{{i}}\">\r\n      <label for=\"{{facet.Name}}facetCheckbox{{i}}\"\r\n             class=\"custom-control-label\">{{value.Value}}<small class=\"text-secondary font-weight-bold badge badge-pill badge-light\">({{value.Count}})</small></label>\r\n    </div>\r\n    <a *ngIf=\"visibleFacetLength < facet.Values.length\"\r\n       (click)=\"showMore()\"\r\n       class=\"pl-4 text-primary\"><small>Show More</small> </a>\r\n    <hr>\r\n  </form>\r\n</div>","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { FormGroup, FormBuilder, FormArray, FormControl } from '@angular/forms';\r\nimport { ListFacet } from '@ordercloud/angular-sdk';\r\nimport { ActivatedRoute, Params } from '@angular/router';\r\nimport { each as _each } from 'lodash';\r\nimport { faPlusSquare, faMinusSquare } from '@fortawesome/free-solid-svg-icons';\r\n\r\n@Component({\r\n  selector: 'product-facet-list',\r\n  templateUrl: './facet-list.component.html',\r\n  styleUrls: ['./facet-list.component.scss'],\r\n})\r\nexport class FacetListComponent implements OnInit {\r\n  @Input() facet: ListFacet;\r\n  @Output() selectedFacet = new EventEmitter<Params>();\r\n  form: FormGroup;\r\n  visibleFacetLength = 5;\r\n  isCollapsed = false;\r\n  queryParams;\r\n  faPlusSquare = faPlusSquare;\r\n  faMinusSquare = faMinusSquare;\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private formBuilder: FormBuilder\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.setForm();\r\n  }\r\n\r\n  private setForm() {\r\n    this.makeBlankForm();\r\n    this.setValuesOnForm();\r\n  }\r\n\r\n  private makeBlankForm() {\r\n    // initialize a blank form with all values set to false\r\n    this.form = this.formBuilder.group({\r\n      facetValues: this.formBuilder.array([]),\r\n    });\r\n    for (let index = 0; index < this.facet.Values.length; index++) {\r\n      (<FormArray>this.form.get('facetValues')).push(new FormControl(false));\r\n    }\r\n  }\r\n\r\n  private setValuesOnForm() {\r\n    // populate checkbox if the relevant facet is in query params\r\n    this.activatedRoute.queryParams.subscribe((queryParams) => {\r\n      this.queryParams = queryParams;\r\n      _each(queryParams, (queryParamVal, queryParamName) => {\r\n        if (queryParamName === this.facet.Name) {\r\n          this.facet.Values.forEach((facet, index) => {\r\n            const facetValuesInQueryparams = queryParamVal.split('|');\r\n            if (facetValuesInQueryparams.includes(facet.Value)) {\r\n              (<FormArray>this.form.get('facetValues'))\r\n                .at(index)\r\n                .setValue(true);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  toggleFacets() {\r\n    this.isCollapsed = !this.isCollapsed;\r\n    if (this.isCollapsed) {\r\n      this.visibleFacetLength = 5;\r\n    }\r\n  }\r\n\r\n  showMore() {\r\n    this.visibleFacetLength = this.facet.Values.length;\r\n  }\r\n\r\n  selectFacet(facetName: string, facetValue: string, index: number) {\r\n    // get selected value\r\n    const facetCheckbox = (<FormArray>this.form.get('facetValues')).at(index);\r\n    const isSelected = !facetCheckbox.value;\r\n\r\n    // build up query parameters to emit\r\n    const queryParams = { ...this.queryParams };\r\n    const facetQueryParams = {};\r\n    const facetFilterExists = !!queryParams[facetName];\r\n\r\n    if (facetFilterExists) {\r\n      if (isSelected) {\r\n        // different values of the same facet are OR'd together (by convention)\r\n        facetQueryParams[facetName] = `${queryParams[facetName]}|${facetValue}`;\r\n      } else {\r\n        const facetValues = queryParams[facetName].split('|');\r\n        if (facetValues.length > 1) {\r\n          // remove the relevant facet from filter\r\n          facetQueryParams[facetName] = facetValues\r\n            .filter((fV) => fV !== facetValue)\r\n            .join('|');\r\n        } else {\r\n          // setting to undefined so sdk ignores parameter\r\n          facetQueryParams[facetName] = undefined;\r\n        }\r\n      }\r\n    } else {\r\n      // facet filter did not exist previously\r\n      if (isSelected) {\r\n        // set facet value\r\n        facetQueryParams[facetName] = facetValue;\r\n      }\r\n    }\r\n\r\n    this.selectedFacet.emit(facetQueryParams);\r\n  }\r\n}\r\n","<form class=\"d-flex\"\r\n      [formGroup]=\"form\">\r\n  <label class=\"pt-1 pr-1 d-none d-md-block\">Sort By</label>\r\n  <div class=\"form-group flex-grow-1 flex-md-grow-0\">\r\n    <label class=\"d-md-none mb-2\">Sort By</label>\r\n    <select class=\"form-control \"\r\n            formControlName=\"strategy\"\r\n            (change)=\"sortStrategyChanged()\">\r\n      <option [ngValue]=\"null\"\r\n              disabled>None</option>\r\n      <option *ngFor=\"let option of options\"\r\n              [ngValue]=\"option.value\">\r\n        {{ option.label }}\r\n      </option>\r\n    </select>\r\n  </div>\r\n\r\n</form>","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  Inject,\r\n} from '@angular/core';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { ProductSortStrategy } from 'src/app/product/models/product-sort-strategy.enum';\r\nimport { each as _each } from 'lodash';\r\nimport {\r\n  applicationConfiguration,\r\n  AppConfig,\r\n} from 'src/app/config/app.config';\r\n\r\n@Component({\r\n  selector: 'product-sort-filter',\r\n  templateUrl: './sort-filter.component.html',\r\n  styleUrls: ['./sort-filter.component.scss'],\r\n})\r\nexport class SortFilterComponent implements OnInit {\r\n  form: FormGroup;\r\n  options: { label: string; value: string }[];\r\n  @Input() sortStrategy?: string;\r\n  @Output() sortStrategyChange = new EventEmitter<ProductSortStrategy>();\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    @Inject(applicationConfiguration) private appConfig: AppConfig\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.options = this.getOptions();\r\n    this.setForm();\r\n  }\r\n\r\n  private getOptions(): { label: string; value: string }[] {\r\n    let options = [];\r\n    _each(ProductSortStrategy, (strategyName, strategyVal) => {\r\n      options = [...options, { label: strategyName, value: strategyVal }];\r\n    });\r\n    if (this.appConfig.premiumSearchEnabled) {\r\n      // sorting by price is mocked by storing price on xp and\r\n      // sorting by xp.Price\r\n      // uncomment the below lines if your product model has xp.Price defined\r\n      // options = [\r\n      //   ...options,\r\n      //   { label: 'Price: High to Low', value: '!xp.Price' },\r\n      // ];\r\n      // options = [\r\n      //   ...options,\r\n      //   { label: 'Price: Low to High', value: 'xp.Price' },\r\n      // ];\r\n    }\r\n    return options;\r\n  }\r\n\r\n  private setForm() {\r\n    this.form = this.formBuilder.group({\r\n      strategy: this.options.find((x) => x.value === this.sortStrategy),\r\n    });\r\n  }\r\n\r\n  public sortStrategyChanged() {\r\n    const sortStrategy = this.form.get('strategy').value;\r\n    this.sortStrategyChange.emit(sortStrategy);\r\n  }\r\n}\r\n","<form [formGroup]=\"specForm\">\r\n  <div *ngFor=\"let spec of specs\"\r\n       class=\"my-1\">\r\n    <div class=\"mr-2\">\r\n      <b>{{spec.Name}}<span *ngIf=\"spec.Required\">* :</span></b>\r\n    </div>\r\n    <select class=\"custom-select\"\r\n            [formControlName]=\"spec.ID\"\r\n            (change)=\"onChange()\">\r\n      <option *ngIf=\"!spec.Required\"\r\n              value=\"null\"></option>\r\n      <option *ngFor=\"let option of spec.Options\"\r\n              [ngValue]=\"option.ID\">\r\n        {{ option.Value }}\r\n      </option>\r\n    </select>\r\n  </div>\r\n</form>","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { BuyerSpec } from '@ordercloud/angular-sdk';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport {\r\n  find as _find,\r\n  keys as _keys,\r\n  pickBy as _pickBy,\r\n  identity as _identity,\r\n} from 'lodash';\r\nimport { FullSpecOption } from 'src/app/product/containers/product-details/product-details.component';\r\n\r\n@Component({\r\n  selector: 'product-spec-form',\r\n  templateUrl: './spec-form.component.html',\r\n  styleUrls: ['./spec-form.component.scss'],\r\n})\r\nexport class SpecFormComponent implements OnInit {\r\n  @Input() specs: BuyerSpec[];\r\n  @Output() formUpdated = new EventEmitter<FullSpecOption[]>();\r\n  specForm: FormGroup;\r\n  constructor(private formBuilder: FormBuilder) {}\r\n\r\n  ngOnInit() {\r\n    const formObj = {};\r\n    this.specs.forEach((spec) => {\r\n      const value: any = [this.getDefaultOption(spec)];\r\n      if (spec.Required) value.push(Validators.required);\r\n      formObj[spec.ID] = value;\r\n    });\r\n    this.specForm = this.formBuilder.group(formObj);\r\n    this.onChange();\r\n  }\r\n\r\n  getDefaultOption(spec: BuyerSpec) {\r\n    return spec.DefaultOptionID || (spec.Required ? spec.Options[0].ID : null);\r\n  }\r\n\r\n  onChange() {\r\n    const specIDs = _keys(_pickBy(this.specForm.value, _identity));\r\n    const selections: FullSpecOption[] = specIDs.map((specID) => {\r\n      const spec = this.specs.find((s) => s.ID === specID);\r\n      const optionID = this.specForm.value[specID];\r\n      const option: any = spec.Options.find((o) => o.ID === optionID);\r\n      option.SpecID = specID;\r\n      return option;\r\n    });\r\n    this.formUpdated.emit(selections);\r\n  }\r\n}\r\n","<div class=\"container mt-4\"\r\n     *ngIf=\"!product\">\r\n  <shared-no-results message=\"This product is no longer available\"\r\n                     actionText=\"shop available products\"\r\n                     (action)=\"routeToProductList()\"></shared-no-results>\r\n</div>\r\n<div class=\"container mt-4\"\r\n     *ngIf=\"product\">\r\n  <div class=\"row mb-5\">\r\n    <div class=\"col-md-6\">\r\n      <div class=\"position-relative d-block\">\r\n        <product-additional-image-gallery [imgUrls]=\"product?.xp?.imageURLs\"></product-additional-image-gallery>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-6 bg-light\">\r\n      <h1 class=\"h1 my-0\">{{ product.Name }}</h1>\r\n      <div class=\"d-flex mt-2\">\r\n        <div class=\"mt-2 text-muted\">ID: {{ product.ID }}</div>\r\n        <div class=\"mt-2 ml-3\">\r\n          <shared-toggle-favorite title=\"Favorite\"\r\n                                  (click)=\"$event.stopPropagation()\"\r\n                                  [favorite]=\"favoriteProductService.isFavorite(product)\"\r\n                                  (favoriteChanged)=\"favoriteProductService.setFavoriteValue($event, product)\">\r\n          </shared-toggle-favorite>\r\n        </div>\r\n        <div class=\"ml-auto\"\r\n             *ngIf=\"isOrderable()\">\r\n          <shared-quantity-input class=\"d-inline-block\"\r\n                                 style=\"max-width: 100px\"\r\n                                 [product]=\"product\"\r\n                                 (addedToCart)=\"addToCart($event)\">\r\n          </shared-quantity-input>\r\n          <button [disabled]=\"missingRequiredSpec()\"\r\n                  class=\"btn btn-primary ml-2\"\r\n                  type=\"submit\"\r\n                  (click)=\"quantityInputComponent.addToCart($event)\">Add to Cart\r\n            <span class=\"badge badge-light ml-2\">{{ getTotalPrice() | currency }}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <hr>\r\n      <p class=\"mt-4\"\r\n         [innerHTML]=\"product.Description || 'This product has no description.'\"></p>\r\n      <product-spec-form *ngIf=\"isOrderable() && specs.length > 0\"\r\n                         [specs]=\"specs\"\r\n                         (formUpdated)=\"specsUpdated($event)\"></product-spec-form>\r\n      <div *ngIf=\"!isOrderable()\"\r\n           class=\"alert alert-info\">\r\n        This is a view-only product and cannot be ordered\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"relatedProducts$ | async; let relatedProducts\">\r\n    <product-carousel *ngIf=\"relatedProducts.length > 0\"\r\n                      displayTitle=\"Related Products\"\r\n                      [products]=\"relatedProducts\">\r\n    </product-carousel>\r\n  </div>\r\n</div>","import {\r\n  Component,\r\n  OnInit,\r\n  ViewChild,\r\n  ChangeDetectorRef,\r\n  AfterViewChecked,\r\n} from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Observable, forkJoin, of } from 'rxjs';\r\nimport { CartService, AppStateService } from 'src/app/shared';\r\nimport {\r\n  BuyerProduct,\r\n  OcMeService,\r\n  BuyerSpec,\r\n  LineItemSpec,\r\n  SpecOption,\r\n} from '@ordercloud/angular-sdk';\r\nimport { QuantityInputComponent } from 'src/app/shared/components/quantity-input/quantity-input.component';\r\nimport { AddToCartEvent } from 'src/app/shared/models/add-to-cart-event.interface';\r\nimport { minBy as _minBy } from 'lodash';\r\nimport { FavoriteProductsService } from 'src/app/shared/services/favorites/favorites.service';\r\nimport { find as _find, difference as _difference } from 'lodash';\r\nimport { SpecFormComponent } from 'src/app/product/components/spec-form/spec-form.component';\r\n@Component({\r\n  selector: 'product-details',\r\n  templateUrl: './product-details.component.html',\r\n  styleUrls: ['./product-details.component.scss'],\r\n})\r\nexport class ProductDetailsComponent implements OnInit, AfterViewChecked {\r\n  @ViewChild(QuantityInputComponent, { static: false })\r\n  quantityInputComponent: QuantityInputComponent;\r\n  @ViewChild(SpecFormComponent, { static: false })\r\n  specFormComponent: SpecFormComponent;\r\n  quantityInputReady = false;\r\n  specs: BuyerSpec[] = [];\r\n  specSelections: FullSpecOption[] = [];\r\n  product: BuyerProduct;\r\n  relatedProducts$: Observable<BuyerProduct[]>;\r\n  imageUrls: string[] = [];\r\n\r\n  constructor(\r\n    private ocMeService: OcMeService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private cartService: CartService,\r\n    private appStateService: AppStateService,\r\n    private changeDetectorRef: ChangeDetectorRef,\r\n    public favoriteProductService: FavoriteProductsService, // used in template\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.activatedRoute.params.subscribe(async (params) => {\r\n      await this.getProductData(params.productID);\r\n    });\r\n  }\r\n\r\n  routeToProductList(): void {\r\n    this.router.navigate(['/products']);\r\n  }\r\n\r\n  async getProductData(productID: string): Promise<void> {\r\n    if (!productID) return;\r\n    this.product = await this.ocMeService.GetProduct(productID).toPromise();\r\n    this.specs = await this.listSpecs(productID);\r\n    this.relatedProducts$ = this.getRelatedProducts(this.product);\r\n  }\r\n\r\n  async listSpecs(productID: string): Promise<BuyerSpec[]> {\r\n    const specs = await this.ocMeService.ListSpecs(productID).toPromise();\r\n    const details = specs.Items.map((spec) => {\r\n      return this.ocMeService.GetSpec(productID, spec.ID).toPromise();\r\n    });\r\n    return await Promise.all(details);\r\n  }\r\n\r\n  getRelatedProducts(product: BuyerProduct): Observable<BuyerProduct[]> {\r\n    if (!product.xp || !product.xp.RelatedProducts) {\r\n      return of([]);\r\n    }\r\n\r\n    const requests = product.xp.RelatedProducts.map((prodID) =>\r\n      this.ocMeService.GetProduct(prodID)\r\n    );\r\n\r\n    return forkJoin(requests);\r\n  }\r\n\r\n  addToCart(event: AddToCartEvent): void {\r\n    const specs: LineItemSpec[] = this.specSelections.map((o) => ({\r\n      SpecID: o.SpecID,\r\n      OptionID: o.ID,\r\n      Value: o.Value,\r\n    }));\r\n    this.cartService\r\n      .addToCart(event.product.ID, event.quantity, specs)\r\n      .subscribe(() => this.appStateService.addToCartSubject.next(event));\r\n  }\r\n\r\n  isOrderable(): boolean {\r\n    // products without a price schedule are view-only.\r\n    return !!this.product.PriceSchedule;\r\n  }\r\n\r\n  hasPrice(): boolean {\r\n    // free products dont need to display a price.\r\n    return (\r\n      this.product.PriceSchedule &&\r\n      this.product.PriceSchedule.PriceBreaks.length &&\r\n      this.product.PriceSchedule.PriceBreaks[0].Price > 0\r\n    );\r\n  }\r\n\r\n  getTotalPrice(): number {\r\n    // In OC, the price per item can depend on the quantity ordered. This info is stored on the PriceSchedule as a list of PriceBreaks.\r\n    // Find the PriceBreak with the highest Quantity less than the quantity ordered. The price on that price break\r\n    // is the cost per item.\r\n    if (!this.quantityInputComponent || !this.quantityInputComponent.form) {\r\n      return null;\r\n    }\r\n    if (!this.hasPrice()) {\r\n      return 0;\r\n    }\r\n    const quantity = this.quantityInputComponent.form.value.quantity;\r\n    const priceBreaks = this.product.PriceSchedule.PriceBreaks;\r\n    const startingBreak = _minBy(priceBreaks, 'Quantity');\r\n\r\n    const selectedBreak = priceBreaks.reduce((current, candidate) => {\r\n      return candidate.Quantity > current.Quantity &&\r\n        candidate.Quantity <= quantity\r\n        ? candidate\r\n        : current;\r\n    }, startingBreak);\r\n    const markup = this.totalSpecMarkup(selectedBreak.Price, quantity);\r\n\r\n    return (selectedBreak.Price + markup) * quantity;\r\n  }\r\n\r\n  totalSpecMarkup(unitPrice: number, quantity: number): number {\r\n    const markups = this.specSelections.map((s) =>\r\n      this.singleSpecMarkup(unitPrice, quantity, s)\r\n    );\r\n    return markups.reduce((x, acc) => x + acc, 0); //sum\r\n  }\r\n\r\n  specsUpdated(event: FullSpecOption[]) {\r\n    this.specSelections = event;\r\n  }\r\n\r\n  missingRequiredSpec(): boolean {\r\n    if (this.specs.length === 0) return false;\r\n    if (this.specFormComponent === undefined) return true;\r\n    return this.specFormComponent.specForm.invalid;\r\n  }\r\n\r\n  singleSpecMarkup(\r\n    unitPrice: number,\r\n    quantity: number,\r\n    spec: FullSpecOption\r\n  ): number {\r\n    switch (spec.PriceMarkupType) {\r\n      case 'NoMarkup':\r\n        return 0;\r\n      case 'AmountPerQuantity':\r\n        return spec.PriceMarkup;\r\n      case 'AmountTotal':\r\n        return spec.PriceMarkup / quantity;\r\n      case 'Percentage':\r\n        return spec.PriceMarkup * unitPrice * 0.01;\r\n    }\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    // This manually triggers angular's change detection cycle and avoids the imfamous\r\n    // \"Expression has changed after it was checked\" error.\r\n    // If you remove the @ViewChild(QuantityInputComponent) this will be unecessary.\r\n    this.changeDetectorRef.detectChanges();\r\n  }\r\n}\r\n\r\nexport interface FullSpecOption extends SpecOption {\r\n  SpecID: string;\r\n}\r\n","<section class=\"container mt-2\"\r\n         *ngIf=\"productList$ | async; let productList\">\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <nav class=\"breadcrumb\"\r\n           aria-label=\"breadcrumb\">\r\n        <a class=\"breadcrumb-item link-text\"\r\n           [routerLink]=\"['/products']\">All Products</a>\r\n        <a *ngFor=\"let cat of categoryCrumbs\"\r\n           class=\"breadcrumb-item link-text\"\r\n           [queryParams]=\"{ category: cat.ID }\"\r\n           [routerLink]=\"['/products']\">{{\r\n          cat.Name }}</a>\r\n      </nav>\r\n    </div>\r\n  </div>\r\n  <!-- Mobile section for selecting a category and filtering on favorites -->\r\n  <div class=\"d-md-none mb-2\">\r\n    <button class=\"btn btn-block btn-default btn-outline-dark mb-2\"\r\n            *ngIf=\"categories?.Items?.length\"\r\n            (click)=\"openCategoryModal()\">Select Category</button>\r\n    <div class=\"col-xs-6\">\r\n      <div (click)=\"refineByFavorites()\">\r\n        <label>Refine By</label>\r\n        <button class=\"btn btn-block btn-default btn-outline-dark mb-2\"\r\n                for=\"favorite\">\r\n          <shared-toggle-favorite [favorite]=\"hasFavoriteProductsFilter\"></shared-toggle-favorite> My Favorites\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-4 col-lg-3 d-md-block d-sm-none d-none\">\r\n      <div class=\"card mb-4\">\r\n        <div class=\"card-header p-3\">\r\n          <h5 class=\"card-title mb-0\">\r\n            <strong>Refine By</strong>\r\n          </h5>\r\n        </div>\r\n        <div class=\"p-3\">\r\n          <button *ngIf=\"hasQueryParams\"\r\n                  class=\"btn btn-block btn-default mb-4\"\r\n                  type=\"button\"\r\n                  (click)=\"clearAllFilters()\">Clear All Filters</button>\r\n          <!-- enable price filtering by uncommenting this line, see PriceFilterComponent for more details -->\r\n          <!-- <product-price-filter (priceFilterChange)=\"changePrice($event)\"></product-price-filter> -->\r\n          <product-facet-filter *ngIf=\"productList.Meta?.Facets?.length\"\r\n                                [facetList]=\"productList.Meta.Facets\"\r\n                                (facetListSelected)=\"changeFacets($event)\"></product-facet-filter>\r\n          <div (click)=\"refineByFavorites()\">\r\n            <shared-toggle-favorite [favorite]=\"hasFavoriteProductsFilter\"></shared-toggle-favorite>\r\n            <label class=\"ml-2\"\r\n                   for=\"favorite\"> My Favorites</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <product-category-nav *ngIf=\"categories?.Items?.length\"\r\n                            [categories]=\"categories\"\r\n                            (selection)=\"changeCategory($event)\"></product-category-nav>\r\n    </div>\r\n    <div class=\"col-lg-9 col-md-8 \">\r\n      <div class=\"row flex-wrap-reverse\">\r\n        <div class=\"col-12 col-md-auto mr-auto \">\r\n          <div class=\"m-0 mt-1 text-center\">\r\n            <span *ngIf=\"productList.Meta.TotalPages > 1\">\r\n              {{ ((productList.Meta.Page - 1) * productList.Meta.PageSize) + 1 }} - {{productList.Meta.Page * productList.Meta.PageSize}}\r\n              of\r\n            </span>{{productList.Meta.TotalCount}} results\r\n          </div>\r\n        </div>\r\n        <div class=\"col-12 d-md-none mb-2\">\r\n          <button *ngIf=\"hasQueryParams\"\r\n                  class=\"btn btn-block btn-default btn-outline-dark mb-2\"\r\n                  type=\"button\"\r\n                  (click)=\"clearAllFilters()\">Clear All Filters</button>\r\n        </div>\r\n        <div class=\"col-12 col-md-auto \">\r\n          <product-sort-filter [sortStrategy]=\"activatedRoute.snapshot.queryParams.sortBy\"\r\n                               (sortStrategyChange)=\"changeSortStrategy($event)\"></product-sort-filter>\r\n        </div>\r\n      </div>\r\n      <div class=\"card\"\r\n           *ngIf=\"productList.Items.length === 0\">\r\n        <shared-no-results message=\"No products found.\"\r\n                           [actionText]=\"hasQueryParams ? 'clear search criteria' : 'go back to the home page'\"\r\n                           (action)=\"hasQueryParams ? clearAllFilters() : routeHome()\"></shared-no-results>\r\n      </div>\r\n      <div *ngIf=\"productList.Items.length > 0\">\r\n        <div class=\"product-list-grid row align-items-stretch\">\r\n          <product-product-card *ngFor=\"let product of productList.Items\"\r\n                                class=\"col-sm-6 col-md-4 col-xl-3 d-flex\"\r\n                                [product]=\"product\"\r\n                                [favorite]=\"favoriteProductsService.isFavorite(product)\"\r\n                                (setFavorite)=\"favoriteProductsService.setFavoriteValue($event, product)\"\r\n                                (addedToCart)=\"addToCart($event)\">\r\n          </product-product-card>\r\n        </div>\r\n        <ngb-pagination *ngIf=\"productList.Meta.TotalPages > 1\"\r\n                        maxSize=\"10\"\r\n                        class=\"d-flex justify-content-center\"\r\n                        [collectionSize]=\"productList.Meta.TotalCount\"\r\n                        [pageSize]=\"productList.Meta.PageSize\"\r\n                        [(page)]=\"productList.Meta.Page\"\r\n                        (pageChange)=\"changePage($event)\"\r\n                        [rotate]=\"true\"></ngb-pagination>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <shared-modal id=\"{{ createModalID }}\"\r\n                modalTitle=\"Select Category\">\r\n    <product-category-nav *ngIf=\"categories?.Items?.length\"\r\n                          [categories]=\"categories\"\r\n                          (selection)=\"changeCategory($event)\"></product-category-nav>\r\n  </shared-modal>\r\n</section>","import { Component, OnInit, PLATFORM_ID, Inject } from '@angular/core';\r\nimport { Router, ActivatedRoute, NavigationEnd, Params } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { flatMap, tap } from 'rxjs/operators';\r\nimport {\r\n  ListBuyerProduct,\r\n  OcMeService,\r\n  Category,\r\n  ListCategory,\r\n  ListFacet,\r\n  ListLineItem,\r\n} from '@ordercloud/angular-sdk';\r\nimport { CartService, AppStateService, ModalService } from 'src/app/shared';\r\nimport { AddToCartEvent } from 'src/app/shared/models/add-to-cart-event.interface';\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport { FavoriteProductsService } from 'src/app/shared/services/favorites/favorites.service';\r\nimport { ProductSortStrategy } from 'src/app/product/models/product-sort-strategy.enum';\r\nimport { isEmpty as _isEmpty, each as _each } from 'lodash';\r\nimport { isPlatformBrowser } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'product-list',\r\n  templateUrl: './product-list.component.html',\r\n  styleUrls: ['./product-list.component.scss'],\r\n})\r\nexport class ProductListComponent implements OnInit {\r\n  productList$: Observable<ListBuyerProduct>;\r\n  categories: ListCategory;\r\n  categoryCrumbs: Category[] = [];\r\n  searchTerm = null;\r\n  hasQueryParams = false;\r\n  hasFavoriteProductsFilter = false;\r\n  closeIcon = faTimes;\r\n  isModalOpen = false;\r\n  createModalID = 'selectCategory';\r\n  facets: ListFacet[];\r\n  lineItems: ListLineItem;\r\n\r\n  constructor(\r\n    public activatedRoute: ActivatedRoute,\r\n    private ocMeService: OcMeService,\r\n    private router: Router,\r\n    private cartService: CartService,\r\n    public favoriteProductsService: FavoriteProductsService,\r\n    private appStateService: AppStateService,\r\n    private modalService: ModalService,\r\n    @Inject(PLATFORM_ID) private platformId: Object\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.productList$ = this.getProductData();\r\n    this.getCategories();\r\n    this.configureRouter();\r\n    this.appStateService.lineItemSubject.subscribe(\r\n      (lineItems) => (this.lineItems = lineItems)\r\n    );\r\n  }\r\n\r\n  getProductData(): Observable<ListBuyerProduct> {\r\n    return this.activatedRoute.queryParams.pipe(\r\n      tap((queryParams) => {\r\n        this.hasQueryParams = !_isEmpty(queryParams);\r\n        this.hasFavoriteProductsFilter =\r\n          queryParams.favoriteProducts === 'true';\r\n        this.categoryCrumbs = this.buildBreadCrumbs(queryParams.category);\r\n        this.searchTerm = queryParams.search || null;\r\n      }),\r\n      flatMap((queryParams) => {\r\n        return this.ocMeService\r\n          .ListProducts({\r\n            categoryID: queryParams.category,\r\n            page: queryParams.page,\r\n            search: queryParams.search,\r\n            sortBy: queryParams.sortBy,\r\n            filters: {\r\n              ...this.buildFacetFilters(queryParams),\r\n              ...this.buildFavoritesFilter(queryParams),\r\n              ...this.buildPriceFilter(queryParams),\r\n            },\r\n          })\r\n          .pipe(tap((productList) => (this.facets = productList.Meta.Facets)));\r\n      })\r\n    );\r\n  }\r\n\r\n  private buildFacetFilters(queryParams: Params): Params {\r\n    if (!this.facets) {\r\n      // either premium search is not enabled for this client\r\n      // or ProductFacets have not been defined\r\n      return {};\r\n    }\r\n    const result = {};\r\n    _each(queryParams, (queryParamVal, queryParamName) => {\r\n      const facetDefinition = this.facets.find(\r\n        (facet) => facet.Name === queryParamName\r\n      );\r\n      if (facetDefinition) {\r\n        result[`xp.${facetDefinition.XpPath}`] = queryParamVal;\r\n      }\r\n    });\r\n    return result;\r\n  }\r\n\r\n  private buildFavoritesFilter(queryParams: Params): Params {\r\n    const filter = {};\r\n    const favorites = this.favoriteProductsService.getFavorites();\r\n    filter['ID'] =\r\n      queryParams.favoriteProducts === 'true' && favorites\r\n        ? favorites.join('|')\r\n        : undefined;\r\n    return filter;\r\n  }\r\n\r\n  private buildPriceFilter(queryParams: Params): Params {\r\n    const filter = {};\r\n    if (queryParams.minPrice && !queryParams.maxPrice) {\r\n      filter['xp.Price'] = `>=${queryParams.minPrice}`;\r\n    }\r\n    if (queryParams.maxPrice && !queryParams.minPrice) {\r\n      filter['xp.Price'] = `<=${queryParams.maxPrice}`;\r\n    }\r\n    if (queryParams.minPrice && queryParams.maxPrice) {\r\n      filter['xp.Price'] = [\r\n        `>=${queryParams.minPrice}`,\r\n        `<=${queryParams.maxPrice}`,\r\n      ];\r\n    }\r\n    return filter;\r\n  }\r\n\r\n  getCategories(): void {\r\n    this.ocMeService\r\n      .ListCategories({ depth: 'all' })\r\n      .subscribe((categories) => {\r\n        this.categories = categories;\r\n        const categoryID = this.activatedRoute.snapshot.queryParams.category;\r\n        this.categoryCrumbs = this.buildBreadCrumbs(categoryID);\r\n      });\r\n  }\r\n\r\n  routeHome() {\r\n    this.router.navigate(['/home']);\r\n  }\r\n\r\n  clearAllFilters() {\r\n    this.router.navigate([]);\r\n  }\r\n\r\n  changePage(page: number): void {\r\n    this.addQueryParam({ page });\r\n  }\r\n\r\n  changeCategory(category: string): void {\r\n    this.addQueryParam({ category });\r\n    if (this.isModalOpen) {\r\n      this.closeCategoryModal();\r\n    }\r\n  }\r\n\r\n  changeFacets(facetQueryParams: Params): void {\r\n    this.addQueryParam(facetQueryParams);\r\n  }\r\n\r\n  changePrice(priceQueryParams: Params): void {\r\n    this.addQueryParam(priceQueryParams);\r\n  }\r\n\r\n  changeSortStrategy(sortBy: ProductSortStrategy): void {\r\n    this.addQueryParam({ sortBy });\r\n  }\r\n\r\n  refineByFavorites() {\r\n    const queryParams = this.activatedRoute.snapshot.queryParams;\r\n    if (queryParams.favoriteProducts === 'true') {\r\n      // favorite products was previously set to true so toggle off\r\n      // set to undefined so we dont pollute url with unnecessary query params\r\n      this.addQueryParam({ favoriteProducts: undefined });\r\n    } else {\r\n      this.addQueryParam({ favoriteProducts: true });\r\n    }\r\n  }\r\n\r\n  private addQueryParam(newParam: object): void {\r\n    const queryParams = {\r\n      ...this.activatedRoute.snapshot.queryParams,\r\n      ...newParam,\r\n    };\r\n    this.router.navigate([], { queryParams });\r\n  }\r\n\r\n  buildBreadCrumbs(catID: string): Category[] {\r\n    const crumbs = [];\r\n\r\n    if (!catID || !this.categories || this.categories.Items.length < 1) {\r\n      return crumbs;\r\n    }\r\n\r\n    const recursiveBuild = (id) => {\r\n      const cat = this.categories.Items.find((c) => c.ID === id);\r\n      if (!cat) {\r\n        return crumbs;\r\n      }\r\n      crumbs.unshift(cat);\r\n      if (!cat.ParentID) {\r\n        return crumbs;\r\n      }\r\n\r\n      return recursiveBuild(cat.ParentID);\r\n    };\r\n\r\n    return recursiveBuild(catID);\r\n  }\r\n\r\n  addToCart(event: AddToCartEvent) {\r\n    this.cartService\r\n      .addToCart(event.product.ID, event.quantity)\r\n      .subscribe(() => this.appStateService.addToCartSubject.next(event));\r\n  }\r\n\r\n  openCategoryModal() {\r\n    this.modalService.open('selectCategory');\r\n    this.isModalOpen = true;\r\n  }\r\n  closeCategoryModal() {\r\n    this.isModalOpen = false;\r\n    this.modalService.close('selectCategory');\r\n  }\r\n\r\n  configureRouter() {\r\n    /**\r\n     *\r\n     * override angular's default routing behavior so that\r\n     * going to the same route with different query params are\r\n     * detected as a state change. This fixes bug where >2 query\r\n     * params of the same type aren't recognized\r\n     *\r\n     */\r\n    this.router.events.subscribe((evt) => {\r\n      if (evt instanceof NavigationEnd) {\r\n        this.router.navigated = false;\r\n        if (isPlatformBrowser(this.platformId)) {\r\n          window.scrollTo(0, 0);\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { Category } from '@ordercloud/angular-sdk';\r\n\r\n// CategoryTreeNode structures category data to be consumed by the 3rd party lib TreeComponent\r\nexport class CategoryTreeNode {\r\n  parent: CategoryTreeNode;\r\n  category: Category;\r\n  // id, name, and children are required by TreeComponent\r\n  id: string;\r\n  name: string;\r\n  children: CategoryTreeNode[];\r\n}\r\n","export enum ProductSortStrategy {\r\n  'ID' = 'ID: A to Z',\r\n  '!ID' = 'ID: Z to A',\r\n  'Name' = 'Name: A to Z',\r\n  '!Name' = 'Name: Z to A',\r\n}\r\n","// core services\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\n// product components\r\nimport { ProductListComponent } from 'src/app/product/containers/product-list/product-list.component';\r\nimport { ProductDetailsComponent } from 'src/app/product/containers/product-details/product-details.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: ProductListComponent },\r\n  { path: ':productID', component: ProductDetailsComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ProductsRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { SharedModule } from 'src/app/shared';\r\n// import { TreeModule } from 'angular-tree-component'; // TODO: figure out angular-tree-component for SSR\r\nimport { ProductsRoutingModule } from 'src/app/product/product-routing.module';\r\nimport { ProductListComponent } from 'src/app/product/containers/product-list/product-list.component';\r\nimport { ProductDetailsComponent } from 'src/app/product/containers/product-details/product-details.component';\r\nimport { AdditionalImageGalleryComponent } from 'src/app/product/components/additional-image-gallery/additional-image-gallery.component';\r\nimport { PriceFilterComponent } from 'src/app/product/components/price-filter/price-filter.component';\r\nimport { CategoryNavComponent } from 'src/app/product/components/category-nav/category-nav.component';\r\nimport { SortFilterComponent } from 'src/app/product/components/sort-filter/sort-filter.component';\r\nimport { FacetFilterComponent } from 'src/app/product/components/facet-filter/facet-filter.component';\r\nimport { FacetListComponent } from 'src/app/product/components/facet-list/facet-list.component';\r\nimport { NgxImageZoomModule } from 'ngx-image-zoom';\r\nimport { SpecFormComponent } from './components/spec-form/spec-form.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    ProductsRoutingModule,\r\n    // TreeModule, // TODO: figure out angular-tree-component for SSR\r\n    NgxImageZoomModule,\r\n  ],\r\n  declarations: [\r\n    ProductListComponent,\r\n    ProductDetailsComponent,\r\n    AdditionalImageGalleryComponent,\r\n    PriceFilterComponent,\r\n    CategoryNavComponent,\r\n    SortFilterComponent,\r\n    FacetFilterComponent,\r\n    FacetListComponent,\r\n    SpecFormComponent,\r\n  ],\r\n})\r\nexport class ProductsModule {}\r\n","<form (ngSubmit)=\"updatePassword()\"\r\n      novalidate\r\n      [formGroup]=\"form\"\r\n      name=\"form\">\r\n  <div class=\"modal-body\">\r\n    <div class=\"form-group\">\r\n      <label for=\"currentPassword\"\r\n             class=\"sr-only\">Current Password</label>\r\n      <input formControlName=\"currentPassword\"\r\n             id=\"currentPassword\"\r\n             class=\"form-control\"\r\n             type=\"password\"\r\n             placeholder=\"Current Password\"\r\n             autocomplete=\"off\" />\r\n      <span *ngIf=\"hasRequiredError('currentPassword')\"\r\n            class=\"error-message\">Current Password is required</span>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"newPassword\"\r\n             class=\"sr-only\">New Password</label>\r\n      <input formControlName=\"newPassword\"\r\n             id=\"newPassword\"\r\n             class=\"form-control\"\r\n             type=\"password\"\r\n             placeholder=\"New Password\"\r\n             autocomplete=\"off\" />\r\n      <span *ngIf=\"hasRequiredError('newPassword')\"\r\n            class=\"error-message\">New Password is required</span>\r\n      <span *ngIf=\"hasStrongPasswordError('newPassword')\"\r\n            class=\"error-message\">Password must\r\n        be at least eight characters long and include at least one letter and one number. Password can also include special\r\n        characters.\r\n      </span>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"confirmNewPassword\"\r\n             class=\"sr-only\">Confirm New Password</label>\r\n      <input formControlName=\"confirmNewPassword\"\r\n             id=\"confirmNewPassword\"\r\n             class=\"form-control\"\r\n             type=\"password\"\r\n             placeholder=\"Confirm New Password\"\r\n             autocomplete=\"off\" />\r\n      <span *ngIf=\"hasRequiredError('confirmNewPassword')\"\r\n            class=\"error-message\">Confirm New Password is required</span>\r\n      <span *ngIf=\"hasPasswordMismatchError()\"\r\n            class=\"error-message\">Passwords must match</span>\r\n    </div>\r\n  </div>\r\n  <button type=\"submit\"\r\n          class=\"btn btn-primary btn-block\">Save</button>\r\n</form>","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { AppMatchFieldsValidator } from 'src/app/shared/validators/match-fields/match-fields.validator';\r\nimport { AppFormErrorService } from 'src/app/shared/services/form-error/form-error.service';\r\nimport { MeUser } from '@ordercloud/angular-sdk';\r\nimport { ValidateStrongPassword } from 'src/app/shared/validators/strong-password/strong-password.validator';\r\n\r\n@Component({\r\n  selector: 'profile-change-password-form',\r\n  templateUrl: './change-password-form.component.html',\r\n  styleUrls: ['./change-password-form.component.scss'],\r\n})\r\nexport class ChangePasswordFormComponent implements OnInit {\r\n  form: FormGroup;\r\n  me: MeUser;\r\n  faTimes = faTimes;\r\n  @Output()\r\n  changePassword = new EventEmitter<{\r\n    currentPassword: string;\r\n    newPassword: string;\r\n  }>();\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private formErrorService: AppFormErrorService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.setForm();\r\n  }\r\n\r\n  setForm() {\r\n    this.form = this.formBuilder.group(\r\n      {\r\n        currentPassword: ['', Validators.required],\r\n        newPassword: [\r\n          '',\r\n          [\r\n            Validators.required,\r\n            ValidateStrongPassword, // password must include one number, one letter and have min length of 8\r\n          ],\r\n        ],\r\n        confirmNewPassword: [''],\r\n      },\r\n      {\r\n        validator: AppMatchFieldsValidator('newPassword', 'confirmNewPassword'),\r\n      }\r\n    );\r\n  }\r\n\r\n  updatePassword() {\r\n    if (this.form.status === 'INVALID') {\r\n      return this.formErrorService.displayFormErrors(this.form);\r\n    }\r\n    const { currentPassword, newPassword } = this.form.value;\r\n    this.changePassword.emit({ currentPassword, newPassword });\r\n    this.form.reset();\r\n  }\r\n\r\n  // control display of error messages\r\n  public hasRequiredError = (controlName: string): boolean =>\r\n    this.formErrorService.hasRequiredError(controlName, this.form);\r\n  public hasPasswordMismatchError = (): boolean =>\r\n    this.formErrorService.hasPasswordMismatchError(this.form);\r\n  public hasStrongPasswordError = (controlName: string): boolean =>\r\n    this.formErrorService.hasStrongPasswordError(controlName, this.form);\r\n}\r\n","<h1 class=\"page-heading border-bottom pb-3\">Addresses</h1>\r\n<div class=\"mb-3 justify-content-end no-gutters float-right\">\r\n  <button (click)=\"showAddAddress()\"\r\n          class=\"btn btn-primary\">\r\n    <fa-icon [icon]=\"faPlus\"></fa-icon> Add an Address\r\n  </button>\r\n</div>\r\n<shared-generic-browse [items]=\"addresses?.Items\"\r\n                       [meta]=\"addresses?.Meta\"\r\n                       searchPlaceholder=\"addresses\"\r\n                       (requestOptionsUpdated)=\"updateRequestOptions($event)\">\r\n  <ng-template let-address=\"item\">\r\n    <shared-address-display [address]=\"address\">\r\n      <div actions\r\n           *ngIf=\"address.Editable\">\r\n        <fa-icon class=\"text-danger ml-3 icon-button--hover-reactive\"\r\n                 (click)=\"showAreYouSure(address)\"\r\n                 [icon]=\"faTrashAlt\"></fa-icon>\r\n        <fa-icon class=\"text-primary ml-3 icon-button--hover-reactive\"\r\n                 (click)=\"showEditAddress(address)\"\r\n                 [icon]=\"faEdit\"></fa-icon>\r\n      </div>\r\n    </shared-address-display>\r\n  </ng-template>\r\n</shared-generic-browse>\r\n<shared-modal id=\"{{ addAddressModalID }}\"\r\n              modalTitle=\"{{ currentAddress ? 'Edit' : 'Add'}} Address\">\r\n  <shared-address-form (formSubmitted)=\"addressFormSubmitted($event.address)\"\r\n                       [existingAddress]=\"currentAddress\"\r\n                       [btnText]=\"currentAddress ? 'Save Changes' : 'Create Address'\"\r\n                       ResetOnModalClose></shared-address-form>\r\n</shared-modal>\r\n<shared-modal id=\"{{ areYouSureModalID }}\"\r\n              modalTitle=\"Delete this Address?\">\r\n  <shared-address-display *ngIf=\"currentAddress\"\r\n                          [address]=\"currentAddress\"></shared-address-display>\r\n  <button class=\"btn btn-primary\"\r\n          (click)=\"deleteAddress(currentAddress)\">Delete</button>\r\n  <button class=\"btn float-right\"\r\n          (click)=\"closeAreYouSure()\">Cancel</button>\r\n</shared-modal>","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { faPlus, faArrowLeft } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport {\r\n  OcMeService,\r\n  ListBuyerAddress,\r\n  BuyerAddress,\r\n} from '@ordercloud/angular-sdk';\r\nimport { faTrashAlt, faEdit } from '@fortawesome/free-regular-svg-icons';\r\nimport { ModalService } from 'src/app/shared';\r\n\r\n@Component({\r\n  selector: 'profile-address-list',\r\n  templateUrl: './address-list.component.html',\r\n  styleUrls: ['./address-list.component.scss'],\r\n})\r\nexport class AddressListComponent implements OnInit {\r\n  faPlus = faPlus;\r\n  faArrowLeft = faArrowLeft;\r\n  faTrashAlt = faTrashAlt;\r\n  faEdit = faEdit;\r\n  addresses: ListBuyerAddress;\r\n  currentAddress: BuyerAddress;\r\n  requestOptions: { page?: number; search?: string } = {\r\n    page: undefined,\r\n    search: undefined,\r\n  };\r\n  resultsPerPage = 8;\r\n  addAddressModalID = 'add-profile-address';\r\n  areYouSureModalID = 'are-you-sure-address';\r\n\r\n  constructor(\r\n    private ocMeService: OcMeService,\r\n    private modalService: ModalService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.reloadAddresses();\r\n  }\r\n\r\n  public showAddAddress() {\r\n    this.currentAddress = null;\r\n    this.modalService.open(this.addAddressModalID);\r\n  }\r\n\r\n  public showEditAddress(address: BuyerAddress) {\r\n    this.currentAddress = address;\r\n    this.modalService.open(this.addAddressModalID);\r\n  }\r\n\r\n  public showAreYouSure(address: BuyerAddress) {\r\n    this.currentAddress = address;\r\n    this.modalService.open(this.areYouSureModalID);\r\n  }\r\n\r\n  public closeAreYouSure() {\r\n    this.currentAddress = null;\r\n    this.modalService.close(this.areYouSureModalID);\r\n  }\r\n\r\n  protected refresh() {\r\n    this.currentAddress = null;\r\n    this.reloadAddresses();\r\n  }\r\n\r\n  public addressFormSubmitted(address: BuyerAddress) {\r\n    this.modalService.close(this.addAddressModalID);\r\n    if (this.currentAddress) {\r\n      this.updateAddress(address);\r\n    } else {\r\n      this.addAddress(address);\r\n    }\r\n  }\r\n\r\n  private addAddress(address: BuyerAddress) {\r\n    address.Shipping = true;\r\n    address.Billing = true;\r\n    this.ocMeService.CreateAddress(address).subscribe(\r\n      () => {\r\n        this.refresh();\r\n      },\r\n      (error) => {\r\n        throw error;\r\n      }\r\n    );\r\n  }\r\n\r\n  private updateAddress(address: BuyerAddress) {\r\n    address.ID = this.currentAddress.ID;\r\n    this.ocMeService.PatchAddress(address.ID, address).subscribe(\r\n      () => {\r\n        this.refresh();\r\n      },\r\n      (error) => {\r\n        throw error;\r\n      }\r\n    );\r\n  }\r\n\r\n  public deleteAddress(address: BuyerAddress) {\r\n    this.ocMeService.DeleteAddress(address.ID).subscribe(\r\n      () => {\r\n        this.closeAreYouSure();\r\n        this.reloadAddresses();\r\n      },\r\n      (error) => {\r\n        throw error;\r\n      }\r\n    );\r\n  }\r\n\r\n  public updateRequestOptions(newOptions: { page?: number; search?: string }) {\r\n    this.requestOptions = Object.assign(this.requestOptions, newOptions);\r\n    this.reloadAddresses();\r\n  }\r\n\r\n  private reloadAddresses() {\r\n    this.ocMeService\r\n      .ListAddresses({ ...this.requestOptions, pageSize: this.resultsPerPage })\r\n      .subscribe((res) => (this.addresses = res));\r\n  }\r\n}\r\n","<h1 class=\"page-heading border-bottom pb-3\">Account Details</h1>\r\n<div class=\"row\">\r\n  <div class=\"col-lg-6\">\r\n    <form (ngSubmit)=\"onSubmit()\"\r\n          novalidate\r\n          [formGroup]=\"form\"\r\n          name=\"RegisterForm\">\r\n      <div class=\"form-group\">\r\n        <label for=\"Username\">Username</label>\r\n        <input type=\"text\"\r\n               formControlName=\"Username\"\r\n               class=\"form-control\"\r\n               id=\"Username\"\r\n               placeholder=\"Username\"\r\n               autofocus=\"true\"\r\n               autocomplete=\"off\" />\r\n        <span *ngIf=\"hasRequiredError('Username')\"\r\n              class=\"error-message\">Username is required</span>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"FirstName\">First Name</label>\r\n        <input type=\"text\"\r\n               formControlName=\"FirstName\"\r\n               class=\"form-control\"\r\n               id=\"FirstName\"\r\n               placeholder=\"First Name\"\r\n               autocomplete=\"off\" />\r\n        <span *ngIf=\"hasRequiredError('FirstName')\"\r\n              class=\"error-message\">First Name is required</span>\r\n        <span *ngIf=\"hasPatternError('FirstName')\"\r\n              class=\"error-message\">Name can only contain characters Aa-Zz 0-9 - ' .</span>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"LastName\">Last Name</label>\r\n        <input type=\"text\"\r\n               formControlName=\"LastName\"\r\n               class=\"form-control\"\r\n               id=\"LastName\"\r\n               placeholder=\"Last Name\"\r\n               autocomplete=\"off\" />\r\n        <span *ngIf=\"hasRequiredError('LastName')\"\r\n              class=\"error-message\">Last Name is required</span>\r\n        <span *ngIf=\"hasPatternError('LastName')\"\r\n              class=\"error-message\">Name can only contain characters Aa-Zz 0-9 - ' .</span>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"Email\">Email</label>\r\n        <input type=\"email\"\r\n               formControlName=\"Email\"\r\n               class=\"form-control\"\r\n               id=\"Email\"\r\n               placeholder=\"Email\"\r\n               autocomplete=\"off\" />\r\n        <span *ngIf=\"hasEmailError()\"\r\n              class=\"error-message\">Please enter a valid email</span>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"Phone\">Phone Number</label>\r\n        <input type=\"text\"\r\n               formControlName=\"Phone\"\r\n               class=\"form-control\"\r\n               id=\"Phone\"\r\n               placeholder=\"Phone Number\"\r\n               autocomplete=\"off\" />\r\n        <span *ngIf=\"hasPatternError('Phone')\"\r\n              class=\"error-message\">Phone can only contain 20 numbers or \"-\" chars (no spaces)</span>\r\n      </div>\r\n      <button type=\"button\"\r\n              class=\"btn btn-outline-primary btn-block\"\r\n              (click)=\"modalService.open('changePasswordModalId')\">Change Password\r\n      </button>\r\n      <button type=\"submit\"\r\n              class=\"btn btn-primary btn-lg btn-block mt-4\">Save Changes\r\n      </button>\r\n    </form>\r\n  </div>\r\n</div>\r\n\r\n<!--  Change Password Modal Content -->\r\n<shared-modal [id]=\"changePasswordModalId\"\r\n              modalTitle=\"Change Password\">\r\n  <profile-change-password-form (changePassword)=\"onChangePassword($event)\"></profile-change-password-form>\r\n</shared-modal>","import { Component, OnInit, Inject, OnDestroy } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { OcMeService, MeUser, OcAuthService } from '@ordercloud/angular-sdk';\r\nimport { flatMap } from 'rxjs/operators';\r\nimport {\r\n  applicationConfiguration,\r\n  AppConfig,\r\n} from 'src/app/config/app.config';\r\nimport { AppStateService } from 'src/app/shared/services/app-state/app-state.service';\r\nimport { AppFormErrorService } from 'src/app/shared/services/form-error/form-error.service';\r\nimport { ModalService } from 'src/app/shared/services/modal/modal.service';\r\nimport { RegexService } from 'src/app/shared/services/regex/regex.service';\r\n\r\n@Component({\r\n  selector: 'profile-meupdate',\r\n  templateUrl: './me-update.component.html',\r\n  styleUrls: ['./me-update.component.scss'],\r\n})\r\nexport class MeUpdateComponent implements OnInit, OnDestroy {\r\n  form: FormGroup;\r\n  me: MeUser;\r\n  alive = true;\r\n  changePasswordModalId = 'forgotPasswordModal';\r\n\r\n  constructor(\r\n    private appStateService: AppStateService,\r\n    private formBuilder: FormBuilder,\r\n    private formErrorService: AppFormErrorService,\r\n    public modalService: ModalService,\r\n    private ocAuthService: OcAuthService,\r\n    private ocMeService: OcMeService,\r\n    private toastrService: ToastrService,\r\n    private regexService: RegexService,\r\n    @Inject(applicationConfiguration) protected appConfig: AppConfig\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.setForm();\r\n    this.getMeData();\r\n  }\r\n\r\n  private setForm() {\r\n    this.form = this.formBuilder.group({\r\n      Username: ['', Validators.required],\r\n      FirstName: [\r\n        '',\r\n        [Validators.required, Validators.pattern(this.regexService.HumanName)],\r\n      ],\r\n      LastName: [\r\n        '',\r\n        [Validators.required, Validators.pattern(this.regexService.HumanName)],\r\n      ],\r\n      Email: ['', [Validators.required, Validators.email]],\r\n      Phone: ['', Validators.pattern(this.regexService.Phone)],\r\n    });\r\n  }\r\n\r\n  onChangePassword({ currentPassword, newPassword }) {\r\n    return this.ocAuthService\r\n      .Login(\r\n        this.me.Username,\r\n        currentPassword,\r\n        this.appConfig.clientID,\r\n        this.appConfig.scope\r\n      )\r\n      .pipe(\r\n        flatMap(() =>\r\n          this.ocMeService.ResetPasswordByToken({\r\n            NewPassword: newPassword,\r\n          })\r\n        )\r\n      )\r\n      .subscribe(() => {\r\n        this.toastrService.success('Account Info Updated', 'Success');\r\n        this.modalService.close(this.changePasswordModalId);\r\n      });\r\n  }\r\n\r\n  onSubmit() {\r\n    if (this.form.status === 'INVALID') {\r\n      return this.formErrorService.displayFormErrors(this.form);\r\n    }\r\n\r\n    const me = <MeUser>this.form.value;\r\n    me.Active = true;\r\n\r\n    this.ocMeService.Patch(me).subscribe((res) => {\r\n      this.appStateService.userSubject.next(res);\r\n      this.toastrService.success('Account Info Updated');\r\n    });\r\n  }\r\n\r\n  private getMeData() {\r\n    this.ocMeService.Get().subscribe((me) => {\r\n      this.me = me;\r\n      this.form.setValue({\r\n        Username: me.Username,\r\n        FirstName: me.FirstName,\r\n        LastName: me.LastName,\r\n        Phone: me.Phone,\r\n        Email: me.Email,\r\n      });\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.alive = false;\r\n  }\r\n\r\n  // control display of error messages\r\n  public hasRequiredError = (controlName: string): boolean =>\r\n    this.formErrorService.hasRequiredError(controlName, this.form);\r\n  public hasEmailError = (): boolean =>\r\n    this.formErrorService.hasInvalidEmailError(this.form.get('Email'));\r\n  public hasPatternError = (controlName: string) =>\r\n    this.formErrorService.hasPatternError(controlName, this.form);\r\n  public passwordMismatchError = (): boolean =>\r\n    this.formErrorService.hasPasswordMismatchError(this.form);\r\n}\r\n","<h1 class=\"page-heading border-bottom pb-3\">Payment Methods</h1>\r\n<div class=\"row mt-3\">\r\n  <h2 class=\"col-6 h3 text-secondary\">Personal Credit Cards</h2>\r\n  <div class=\"col-6\">\r\n    <button (click)=\"showAdd()\"\r\n            *ngIf=\"!showCardForm\"\r\n            class=\"btn btn-primary float-right\"><fa-icon [icon]=\"faPlus\"></fa-icon> Add a Card</button>\r\n  </div>\r\n</div>\r\n<div class=\"row mt-3\">\r\n  <shared-credit-card-display [card]=\"card\"\r\n                              class=\"col-12 my-2\"\r\n                              *ngFor=\"let card of (cards$ | async)?.Items\">\r\n    <div actions>\r\n      <fa-icon (click)=\"deleteCard(card.ID)\"\r\n               title=\"Delete\"\r\n               class=\"text-danger icon-button--hover-reactive\"\r\n               [icon]=\"faTrashAlt\"></fa-icon>\r\n    </div>\r\n  </shared-credit-card-display>\r\n</div>\r\n<div class=\"row\">\r\n  <div class=\"col-12\">\r\n    <shared-credit-card-form *ngIf=\"showCardForm\"\r\n                             submitText=\"Add\"\r\n                             (formSubmitted)=\"addCard($event)\"></shared-credit-card-form>\r\n  </div>\r\n</div>\r\n<div class=\"row mt-3\">\r\n  <h2 class=\"col-6 h3 text-secondary\">Assigned Spending Accounts</h2>\r\n  <div class=\"col-6\">\r\n    <!-- Insert buttons here -->\r\n  </div>\r\n  <div class=\"col-12 mt-3\"\r\n       *ngFor=\"let account of (accounts$ | async)?.Items\">\r\n    <div class=\"border border-radius shadow-sm p-4\">\r\n      <div><strong>{{ account.Name }}</strong></div>\r\n      <div>Balance: <b class=\"text-success\">{{ account.Balance | currency }}</b></div>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport {\r\n  OcMeService,\r\n  ListBuyerCreditCard,\r\n  BuyerCreditCard,\r\n  ListSpendingAccount,\r\n} from '@ordercloud/angular-sdk';\r\nimport { Observable } from 'rxjs';\r\nimport { faPlus, faArrowLeft } from '@fortawesome/free-solid-svg-icons';\r\nimport { AuthorizeNetService, CreateCardDetails } from 'src/app/shared';\r\nimport { faTrashAlt } from '@fortawesome/free-regular-svg-icons';\r\n\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'profile-payment-list',\r\n  templateUrl: './payment-list.component.html',\r\n  styleUrls: ['./payment-list.component.scss'],\r\n})\r\nexport class PaymentListComponent implements OnInit {\r\n  alive = true;\r\n  showCardForm = false;\r\n  faPlus = faPlus;\r\n  faArrowLeft = faArrowLeft;\r\n  faTrashAlt = faTrashAlt;\r\n\r\n  cards$: Observable<ListBuyerCreditCard>;\r\n  accounts$: Observable<ListSpendingAccount>;\r\n  currentCard: BuyerCreditCard = null;\r\n\r\n  constructor(\r\n    private ocMeService: OcMeService,\r\n    private authorizeNetSerivce: AuthorizeNetService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.getCards();\r\n    this.getAccounts();\r\n  }\r\n\r\n  getCards() {\r\n    this.cards$ = this.ocMeService.ListCreditCards();\r\n  }\r\n\r\n  getAccounts() {\r\n    const now = moment().format('YYYY-MM-DD');\r\n    const dateFilter = { StartDate: `>${now}|!*`, EndDate: `<${now}|!*` };\r\n    this.accounts$ = this.ocMeService.ListSpendingAccounts({\r\n      filters: dateFilter,\r\n    });\r\n  }\r\n\r\n  showEdit(card: BuyerCreditCard) {\r\n    this.showCardForm = true;\r\n    this.currentCard = card;\r\n  }\r\n\r\n  showAdd() {\r\n    this.showCardForm = true;\r\n    this.currentCard = null;\r\n  }\r\n\r\n  addCard(card: CreateCardDetails) {\r\n    this.authorizeNetSerivce.CreateCreditCard(card).subscribe(\r\n      () => {\r\n        this.showCardForm = false;\r\n        this.getCards();\r\n      },\r\n      (error) => {\r\n        throw error;\r\n      }\r\n    );\r\n  }\r\n\r\n  deleteCard(cardId: string) {\r\n    this.authorizeNetSerivce.DeleteCreditCard(cardId).subscribe(\r\n      () => {\r\n        this.getCards();\r\n      },\r\n      (error) => {\r\n        throw error;\r\n      }\r\n    );\r\n  }\r\n}\r\n","<div class=\"container mt-3\">\r\n  <div class=\"row\">\r\n    <div class=\"row d-md-none flex-grow-1 mx-1\">\r\n      <div class=\"col-sm-12\">\r\n        <div ngbDropdown>\r\n          <button class=\"btn btn-block btn-default btn-outline-dark mb-2\"\r\n                  id=\"dropdownBasic1\"\r\n                  ngbDropdownToggle>Account Selections</button>\r\n          <div ngbDropdownMenu\r\n               aria-labelledby=\"dropdownBasic1\"\r\n               class=\"w-100 text-center\">\r\n            <button *ngFor=\"let tab of tabs\"\r\n                    class=\"dropdown-item\"\r\n                    (click)=\"selectTab(tab)\"\r\n                    [routerLink]=\"tab.route\">{{ tab.display }}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-3  d-none d-md-flex\">\r\n      <ul class=\"nav flex-column\">\r\n        <li class=\"nav-item side-nav-button\"\r\n            *ngFor=\"let tab of tabs\">\r\n          <a class=\"nav-link link-text\"\r\n             [routerLink]=\"tab.route\"\r\n             [ngClass]=\"{ 'text-secondary' : tab.display === selectedTab }\"\r\n             (click)=\"selectTab(tab)\">{{ tab.display }}</a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"col-md-9 col-sm-12\">\r\n      <router-outlet></router-outlet>\r\n      <button class=\" d-md-none mt-4 btn btn-danger btn-lg btn-block\"\r\n              routerLink=\"/home\"\r\n              (click)=\"logout()\">Log Out</button>\r\n    </div>\r\n\r\n  </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { ProfileTab } from 'src/app/profile/models/profile-tabs.enum';\r\nimport { AppAuthService } from 'src/app/auth';\r\n@Component({\r\n  selector: 'profile-profile',\r\n  templateUrl: './profile.component.html',\r\n  styleUrls: ['./profile.component.scss'],\r\n})\r\nexport class ProfileComponent implements OnInit {\r\n  selectedTab: string;\r\n  tabs: ProfileTab[];\r\n\r\n  constructor(private appAuthService: AppAuthService) {\r\n    this.tabs = [\r\n      { display: 'Details', route: ['/profile', 'details'] },\r\n      { display: 'Addresses', route: ['/profile', 'addresses'] },\r\n      { display: 'Payment Methods', route: ['/profile', 'payment-methods'] },\r\n      { display: 'My Orders', route: ['/profile', 'orders'] },\r\n      {\r\n        display: 'Orders To Approve',\r\n        route: ['/profile', 'orders', 'approval'],\r\n      },\r\n    ];\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.selectTab(this.tabs[0]);\r\n  }\r\n\r\n  selectTab(tab: ProfileTab): void {\r\n    this.selectedTab = tab.display;\r\n  }\r\n\r\n  logout() {\r\n    this.appAuthService.logout();\r\n  }\r\n}\r\n","// core services\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { ProfileComponent } from 'src/app/profile/containers/profile/profile.component';\r\nimport { AddressListComponent } from 'src/app/profile/containers/address-list/address-list.component';\r\nimport { MeUpdateComponent } from 'src/app/profile/containers/me-update/me-update.component';\r\nimport { PaymentListComponent } from 'src/app/profile/containers/payment-list/payment-list.component';\r\nimport { OrderModule } from 'src/app/order/order.module';\r\n\r\nexport function LoadOrderChildren() {\r\n  return OrderModule;\r\n}\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProfileComponent,\r\n    children: [\r\n      { path: '', redirectTo: 'details' },\r\n      { path: 'details', component: MeUpdateComponent },\r\n      { path: 'addresses', component: AddressListComponent },\r\n      { path: 'payment-methods', component: PaymentListComponent },\r\n      { path: 'orders', loadChildren: '../order/order.module#OrderModule' },\r\n    ],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ProfileRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { SharedModule } from 'src/app/shared';\r\nimport { ProfileRoutingModule } from 'src/app/profile/profile-routing.module';\r\n\r\nimport { ProfileComponent } from 'src/app/profile/containers/profile/profile.component';\r\nimport { AddressListComponent } from 'src/app/profile/containers/address-list/address-list.component';\r\nimport { PaymentListComponent } from 'src/app/profile/containers/payment-list/payment-list.component';\r\nimport { MeUpdateComponent } from './containers/me-update/me-update.component';\r\nimport { ChangePasswordFormComponent } from './components/change-password-form/change-password-form.component';\r\n\r\n@NgModule({\r\n  imports: [SharedModule, ProfileRoutingModule],\r\n  declarations: [\r\n    ProfileComponent,\r\n    AddressListComponent,\r\n    PaymentListComponent,\r\n    MeUpdateComponent,\r\n    ChangePasswordFormComponent,\r\n  ],\r\n})\r\nexport class ProfileModule {}\r\n","<div class=\"card border shadow-sm mb-3\">\r\n  <address class=\"card-body row\">\r\n    <div class=\"col-md-8\">\r\n      <p *ngIf=\"addressTitle\"><strong>{{ addressTitle }}</strong></p>\r\n      <div *ngIf=\"address.AddressName\"><strong>{{address.AddressName}}</strong></div>\r\n      <div *ngIf=\"address.CompanyName\">{{address.CompanyName}}</div>\r\n      <div>{{fullName}}</div>\r\n      <div>{{address.Street1}}</div>\r\n      <div *ngIf=\"address.Street2\">{{address.Street2}}</div>\r\n      <div>{{address.City}}, {{address.State}} {{address.Zip}}</div>\r\n      <div *ngIf=\"address.Phone\">{{address.Phone}}</div>\r\n    </div>\r\n    <div class=\"col-md-4\">\r\n      <div class=\"float-right\">\r\n        <!-- When creating an instance of this component, you may use transclusion to add action-buttons here -->\r\n        <ng-content select=[actions]></ng-content>\r\n      </div>\r\n    </div>\r\n  </address>\r\n</div>","import { Component, Input, OnInit } from '@angular/core';\r\nimport { Address } from '@ordercloud/angular-sdk';\r\n\r\n@Component({\r\n  selector: 'shared-address-display',\r\n  templateUrl: './address-display.component.html',\r\n  styleUrls: ['./address-display.component.scss'],\r\n})\r\nexport class AddressDisplayComponent implements OnInit {\r\n  @Input() address: Address;\r\n  @Input() addressTitle?: string;\r\n  fullName: string;\r\n\r\n  ngOnInit() {\r\n    this.fullName = this.getFullName(this.address);\r\n  }\r\n\r\n  protected getFullName(address: Address) {\r\n    const fullName = `${address.FirstName || ''} ${address.LastName || ''}`;\r\n    return fullName.trim();\r\n  }\r\n}\r\n","<form (ngSubmit)=\"onSubmit()\"\r\n      novalidate\r\n      [formGroup]=\"addressForm\"\r\n      name=\"RegisterForm\">\r\n  <div class=\"form-group\">\r\n    <label class=\"sr-only\"\r\n           for=\"country\">Country</label>\r\n    <select formControlName=\"Country\"\r\n            class=\"form-control\"\r\n            id=\"Country\"\r\n            (change)=\"onCountryChange($event)\">\r\n      <option [ngValue]=\"null\"\r\n              disabled>Country</option>\r\n      <option *ngFor=\"let country of countryOptions\"\r\n              [value]=\"country.abbreviation\">{{ country.label }}</option>\r\n    </select>\r\n    <span *ngIf=\"hasRequiredError('Country')\"\r\n          class=\"error-message\">Country is required</span>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div [hidden]=\"true\"\r\n         class=\"col-md-6 form-group\">\r\n      <label class=\"sr-only\"\r\n             for=\"ID\">ID</label>\r\n      <input type=\"text\"\r\n             formControlName=\"ID\"\r\n             class=\"form-control\"\r\n             id=\"ID\"\r\n             placeholder=\"ID\" />\r\n    </div>\r\n    <div class=\"col-md-6 form-group\">\r\n      <label class=\"sr-only\"\r\n             for=\"FirstName\">First Name</label>\r\n      <input type=\"text\"\r\n             formControlName=\"FirstName\"\r\n             class=\"form-control\"\r\n             id=\"FirstName\"\r\n             placeholder=\"First Name\"\r\n             autofocus=\"true\"\r\n             autocomplete=\"off\" />\r\n      <span *ngIf=\"hasRequiredError('FirstName')\"\r\n            class=\"error-message\">First Name is required</span>\r\n      <span *ngIf=\"hasPatternError('FirstName')\"\r\n            class=\"error-message\">Name can only contain characters Aa-Zz 0-9 - ' .</span>\r\n    </div>\r\n    <div class=\"col-md-6 form-group\">\r\n      <label class=\"sr-only\"\r\n             for=\"LastName\">Last Name</label>\r\n      <input type=\"text\"\r\n             formControlName=\"LastName\"\r\n             class=\"form-control\"\r\n             id=\"LastName\"\r\n             placeholder=\"Last Name\"\r\n             autocomplete=\"off\" />\r\n      <span *ngIf=\"hasRequiredError('LastName')\"\r\n            class=\"error-message\">Last Name is required</span>\r\n      <span *ngIf=\"hasPatternError('LastName')\"\r\n            class=\"error-message\">Name can only contain characters Aa-Zz 0-9 - ' .</span>\r\n    </div>\r\n  </div>\r\n  <div class=\"form-group\">\r\n    <label class=\"sr-only\"\r\n           for=\"Street1\">Address 1</label>\r\n    <input type=\"text\"\r\n           formControlName=\"Street1\"\r\n           class=\"form-control\"\r\n           id=\"Street1\"\r\n           placeholder=\"Address 1\"\r\n           autocomplete=\"off\" />\r\n    <span *ngIf=\"hasRequiredError('Street1')\"\r\n          class=\"error-message\">Address 1 is required</span>\r\n  </div>\r\n  <div class=\"form-group\">\r\n    <label class=\"sr-only\"\r\n           for=\"Street2\">Address 2</label>\r\n    <input type=\"text\"\r\n           formControlName=\"Street2\"\r\n           class=\"form-control\"\r\n           id=\"Street2\"\r\n           placeholder=\"Address 2\"\r\n           autocomplete=\"off\" />\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-4 form-group\">\r\n      <label class=\"sr-only\"\r\n             for=\"City\">City</label>\r\n      <input type=\"text\"\r\n             formControlName=\"City\"\r\n             class=\"form-control\"\r\n             id=\"City\"\r\n             placeholder=\"City\"\r\n             autocomplete=\"off\" />\r\n      <span *ngIf=\"hasRequiredError('City')\"\r\n            class=\"error-message\">City is required</span>\r\n      <span *ngIf=\"hasPatternError('City')\"\r\n            class=\"error-message\">City can only contain characters Aa-Zz 0-9 - ' . </span>\r\n    </div>\r\n    <div class=\"col-md-2 form-group\">\r\n      <label class=\"sr-only\"\r\n             for=\"State\">State</label>\r\n      <select *ngIf=\"stateOptions.length !== 0\"\r\n              formControlName=\"State\"\r\n              class=\"form-control\"\r\n              id=\"State\">\r\n        <option [ngValue]=\"null\"\r\n                disabled>State</option>\r\n        <option *ngFor=\"let State of stateOptions\"\r\n                [value]=\"State\">{{ State }}</option>\r\n      </select>\r\n      <input *ngIf=\"stateOptions.length === 0\"\r\n             type=\"text\"\r\n             formControlName=\"State\"\r\n             class=\"form-control\"\r\n             id=\"State\"\r\n             autocomplete=\"off\" />\r\n      <span *ngIf=\"hasRequiredError('State')\"\r\n            class=\"error-message\">State is required</span>\r\n    </div>\r\n    <div class=\"col-md-3 form-group\">\r\n      <label class=\"sr-only\"\r\n             for=\"zipCode\">Zip Code</label>\r\n      <input type=\"text\"\r\n             formControlName=\"Zip\"\r\n             class=\"form-control\"\r\n             id=\"zipCode\"\r\n             placeholder=\"Zip Code\"\r\n             autocomplete=\"off\" />\r\n      <span *ngIf=\"hasRequiredError('Zip')\"\r\n            class=\"error-message\">Zip Code is required</span>\r\n      <span *ngIf=\"hasPatternError('Zip')\"\r\n            class=\"error-message\">Zip Code is invalid</span>\r\n    </div>\r\n    <div class=\"col-md-3 form-group\">\r\n      <label class=\"sr-only\"\r\n             for=\"Phone\">Phone Number</label>\r\n      <input type=\"text\"\r\n             formControlName=\"Phone\"\r\n             class=\"form-control\"\r\n             id=\"Phone\"\r\n             placeholder=\"Phone Number\"\r\n             autocomplete=\"off\" />\r\n      <span *ngIf=\"hasPatternError('Phone')\"\r\n            class=\"error-message\">Phone can only contain 20 numbers or \"-\" chars (no spaces)</span>\r\n    </div>\r\n  </div>\r\n  <button type=\"submit\"\r\n          class=\"btn btn-primary\">{{ btnText }}</button>\r\n</form>","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\n\r\n// 3rd party\r\nimport { BuyerAddress, Address } from '@ordercloud/angular-sdk';\r\n\r\nimport { AppGeographyService } from 'src/app/shared/services/geography/geography.service';\r\nimport { AppFormErrorService } from 'src/app/shared/services/form-error/form-error.service';\r\nimport { RegexService } from 'src/app/shared/services/regex/regex.service';\r\n\r\n@Component({\r\n  selector: 'shared-address-form',\r\n  templateUrl: './address-form.component.html',\r\n  styleUrls: ['./address-form.component.scss'],\r\n})\r\nexport class AddressFormComponent implements OnInit {\r\n  private _existingAddress: BuyerAddress;\r\n  @Input() btnText: string;\r\n  @Output()\r\n  formSubmitted = new EventEmitter<{ address: Address; formDirty: boolean }>();\r\n  stateOptions: string[] = [];\r\n  countryOptions: { label: string; abbreviation: string }[];\r\n  addressForm: FormGroup;\r\n\r\n  constructor(\r\n    private geographyService: AppGeographyService,\r\n    private formBuilder: FormBuilder,\r\n    private formErrorService: AppFormErrorService,\r\n    private regexService: RegexService\r\n  ) {\r\n    this.countryOptions = this.geographyService.getCountries();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.setForm();\r\n  }\r\n\r\n  @Input()\r\n  set existingAddress(address: BuyerAddress) {\r\n    this._existingAddress = address || {};\r\n    this.setForm();\r\n    this.addressForm.markAsPristine();\r\n  }\r\n\r\n  setForm() {\r\n    this.addressForm = this.formBuilder.group({\r\n      FirstName: [\r\n        this._existingAddress.FirstName || '',\r\n        [Validators.required, Validators.pattern(this.regexService.HumanName)],\r\n      ],\r\n      LastName: [\r\n        this._existingAddress.LastName || '',\r\n        [Validators.required, Validators.pattern(this.regexService.HumanName)],\r\n      ],\r\n      Street1: [this._existingAddress.Street1 || '', Validators.required],\r\n      Street2: [this._existingAddress.Street2 || ''],\r\n      City: [\r\n        this._existingAddress.City || '',\r\n        [Validators.required, Validators.pattern(this.regexService.HumanName)],\r\n      ],\r\n      State: [this._existingAddress.State || null, Validators.required],\r\n      Zip: [\r\n        this._existingAddress.Zip || '',\r\n        [\r\n          Validators.required,\r\n          Validators.pattern(\r\n            this.regexService.getZip(this._existingAddress.Country)\r\n          ),\r\n        ],\r\n      ],\r\n      Phone: [\r\n        this._existingAddress.Phone || '',\r\n        Validators.pattern(this.regexService.Phone),\r\n      ],\r\n      Country: [this._existingAddress.Country || 'US', Validators.required],\r\n      ID: this._existingAddress.ID || '',\r\n    });\r\n    this.onCountryChange();\r\n  }\r\n\r\n  onCountryChange(event?) {\r\n    const country = this.addressForm.value.Country;\r\n    this.stateOptions = this.geographyService\r\n      .getStates(country)\r\n      .map((s) => s.abbreviation);\r\n    this.addressForm\r\n      .get('Zip')\r\n      .setValidators([\r\n        Validators.required,\r\n        Validators.pattern(this.regexService.getZip(country)),\r\n      ]);\r\n    if (event) {\r\n      this.addressForm.patchValue({ State: null, Zip: '' });\r\n    }\r\n  }\r\n\r\n  public onSubmit() {\r\n    if (this.addressForm.status === 'INVALID') {\r\n      return this.formErrorService.displayFormErrors(this.addressForm);\r\n    }\r\n    this.formSubmitted.emit({\r\n      address: this.addressForm.value,\r\n      formDirty: this.addressForm.dirty,\r\n    });\r\n  }\r\n\r\n  // control display of error messages\r\n  hasRequiredError = (controlName: string) =>\r\n    this.formErrorService.hasRequiredError(controlName, this.addressForm);\r\n  hasPatternError = (controlName: string) =>\r\n    this.formErrorService.hasPatternError(controlName, this.addressForm);\r\n}\r\n","<div class=\"border border-radius shadow-sm p-3 row no-gutters\">\r\n  <shared-credit-card-icon class=\"col-md-1\"\r\n                           [card]=\"card\"\r\n                           size=\"2x\"></shared-credit-card-icon>\r\n  <div class=\"col-md-7\">\r\n    <div><b>XXXX-XXXX-XXXX-{{ card?.PartialAccountNumber }}</b></div>\r\n    <div>{{ card?.CardholderName }}</div>\r\n    <div><small>Expires: {{ card?.ExpirationDate | date:'MM/yy':'UTC' }}</small></div>\r\n  </div>\r\n  <div class=\"col-md-4\">\r\n    <div class=\"float-right\">\r\n      <!-- When creating an instance of this component, you may use transclusion to add action-buttons here -->\r\n      <ng-content select=[actions]></ng-content>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, Input } from '@angular/core';\r\nimport { BuyerCreditCard } from '@ordercloud/angular-sdk';\r\n\r\n@Component({\r\n  selector: 'shared-credit-card-display',\r\n  templateUrl: './credit-card-display.component.html',\r\n  styleUrls: ['./credit-card-display.component.scss'],\r\n})\r\nexport class CreditCardDisplayComponent {\r\n  @Input() card: BuyerCreditCard;\r\n}\r\n","<div class=\"accepted-cards mb-2\">\r\n    <fa-icon [icon]=\"faCcVisa\" size=\"2x\"></fa-icon>\r\n    <fa-icon [icon]=\"faCcMastercard\" size=\"2x\"></fa-icon>\r\n    <fa-icon [icon]=\"faCcDiscover\" size=\"2x\"></fa-icon>\r\n</div>\r\n<form (ngSubmit)=\"onSubmit()\"\r\n      novalidate\r\n      [formGroup]=\"cardForm\"\r\n      name=\"CardForm\"\r\n      class=\"add-card-form\">\r\n    <div class=\"form-group\">\r\n      <label class=\"sr-only\"\r\n             for=\"cardNumber\">Card Number</label>\r\n      <input type=\"text\"\r\n             formControlName=\"CardNumber\"\r\n             class=\"form-control\"\r\n             style=\"max-width:190px;\"\r\n             id=\"cardNumber\"\r\n             placeholder=\"Card Number\"\r\n             autofocus=\"true\"\r\n             autocomplete=\"off\" />\r\n      <span *ngIf=\"hasRequiredError('CardNumber')\"\r\n            class=\"error-message\">Card Number is required</span>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label class=\"sr-only\"\r\n             for=\"name\">Name on Card</label>\r\n      <input type=\"text\"\r\n             formControlName=\"CardholderName\"\r\n             class=\"form-control\"\r\n             id=\"name\"\r\n             style=\"max-width:190px;\"\r\n             placeholder=\"Name on Card\"\r\n             autocomplete=\"off\" />\r\n      <span *ngIf=\"hasRequiredError('CardholderName')\"\r\n            class=\"error-message\">Cardholder name is required</span>\r\n    </div>\r\n    <div class=\"form-group mr-2\">\r\n      <label class=\"sr-only\"\r\n             for=\"month\">Expiration Month</label>\r\n      <select formControlName=\"expMonth\"\r\n              class=\"form-control\"\r\n              style=\"max-width:65px;\"\r\n              id=\"state\">\r\n            <option *ngFor=\"let month of monthOptions\" [value]=\"month\">{{ month }}</option>\r\n      </select>\r\n      <span *ngIf=\"hasRequiredError('expMonth')\"\r\n            class=\"error-message\">Month is required</span>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label class=\"sr-only\"\r\n             for=\"year\">Expiration Year</label>\r\n      <select formControlName=\"expYear\"\r\n              class=\"form-control\"\r\n              style=\"max-width:85px;\"\r\n              id=\"state\">\r\n             <option *ngFor=\"let year of yearOptions\" [value]=\"year.slice(-2)\">{{ year }}</option>\r\n      </select>\r\n      <span *ngIf=\"hasRequiredError('expYear')\"\r\n            class=\"error-message\">Year is Required</span>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label class=\"sr-only\"\r\n             for=\"ccv\">CCV</label>\r\n      <input type=\"text\"\r\n             formControlName=\"CardCode\"\r\n             class=\"form-control\"\r\n             id=\"ccv\"\r\n             style=\"max-width:60px;\"\r\n             placeholder=\"CCV\"\r\n             autocomplete=\"off\" />\r\n      <span *ngIf=\"hasRequiredError('CardCode')\"\r\n            class=\"error-message\">CCV is required</span>\r\n    </div>\r\n  <button type=\"submit\"\r\n          class=\"btn btn-primary float-right\" [disabled]=\"!cardForm.valid\"><fa-icon [icon]=\"faPlus\"></fa-icon> Add</button>\r\n</form>","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { CreateCardDetails } from 'src/app/shared';\r\nimport { AppFormErrorService } from 'src/app/shared/services/form-error/form-error.service';\r\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport {\r\n  faCcVisa,\r\n  faCcMastercard,\r\n  faCcDiscover,\r\n} from '@fortawesome/free-brands-svg-icons';\r\n\r\n@Component({\r\n  selector: 'shared-credit-card-form',\r\n  templateUrl: './credit-card-form.component.html',\r\n  styleUrls: ['./credit-card-form.component.scss'],\r\n})\r\nexport class CreditCardFormComponent implements OnInit {\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private formErrorService: AppFormErrorService\r\n  ) {}\r\n\r\n  @Output() formSubmitted = new EventEmitter<CreateCardDetails>();\r\n  faCcVisa = faCcVisa;\r\n  faCcMastercard = faCcMastercard;\r\n  faCcDiscover = faCcDiscover;\r\n  cardForm: FormGroup;\r\n  faPlus = faPlus;\r\n  yearOptions: string[];\r\n  monthOptions: string[];\r\n\r\n  ngOnInit() {\r\n    const start = new Date().getFullYear();\r\n    this.yearOptions = Array(20)\r\n      .fill(0)\r\n      .map((_x, i) => `${i + start}`);\r\n    this.monthOptions = Array(12)\r\n      .fill(0)\r\n      .map((_x, i) => `0${i + 1}`.slice(-2));\r\n\r\n    this.cardForm = this.formBuilder.group({\r\n      CardNumber: ['', Validators.required],\r\n      CardholderName: ['', Validators.required],\r\n      expMonth: [this.monthOptions[0], Validators.required],\r\n      expYear: [this.yearOptions[0].slice(-2), Validators.required],\r\n      CardCode: ['', Validators.required],\r\n    });\r\n  }\r\n\r\n  onSubmit() {\r\n    if (this.cardForm.status === 'INVALID') {\r\n      this.formErrorService.displayFormErrors(this.cardForm);\r\n      return;\r\n    }\r\n\r\n    const date = `${this.cardForm.value.expMonth}${this.cardForm.value.expYear}`;\r\n    const card = { ExpirationDate: date, ...this.cardForm.value };\r\n    delete card.expMonth;\r\n    delete card.expYear;\r\n    this.formSubmitted.emit(card);\r\n  }\r\n\r\n  // control display of required error messages\r\n  hasRequiredError = (controlName: string) =>\r\n    this.formErrorService.hasRequiredError(controlName, this.cardForm);\r\n}\r\n","<fa-icon [icon]=\"cardIcon\"\r\n         [size]=\"size\"></fa-icon>","import { Component, OnInit, Input } from '@angular/core';\r\nimport { IconDefinition } from '@fortawesome/free-regular-svg-icons';\r\nimport {\r\n  faCcVisa,\r\n  faCcMastercard,\r\n  faCcDiscover,\r\n} from '@fortawesome/free-brands-svg-icons';\r\nimport { BuyerCreditCard, CreditCard } from '@ordercloud/angular-sdk';\r\n\r\n@Component({\r\n  selector: 'shared-credit-card-icon',\r\n  templateUrl: './credit-card-icon.component.html',\r\n  styleUrls: ['./credit-card-icon.component.scss'],\r\n})\r\nexport class CreditCardIconComponent implements OnInit {\r\n  cardIcon: IconDefinition;\r\n  @Input() card: CreditCard | BuyerCreditCard;\r\n  @Input() size: string;\r\n\r\n  ngOnInit() {\r\n    this.cardIcon = this.setCardIcon();\r\n  }\r\n\r\n  setCardIcon(): IconDefinition {\r\n    switch (this.card.CardType.toLowerCase()) {\r\n      case 'visa':\r\n        return faCcVisa;\r\n      case 'mastercard':\r\n        return faCcMastercard;\r\n      case 'discover':\r\n        return faCcDiscover;\r\n    }\r\n  }\r\n}\r\n","<shared-search class=\"mt-1\"\r\n               placeholderText=\"Search {{ searchPlaceholder }}...\"\r\n               (searched)=\"requestOptionsUpdated.emit({ search: $event, page: undefined })\"></shared-search>\r\n<div *ngIf=\"meta?.TotalPages > 1\"\r\n     class=\"my-2 row\">\r\n  <div class=\"col-12\">\r\n    <div class=\"float-right\">\r\n      {{ ((meta.Page - 1) * meta.PageSize) + 1 }} - {{ meta.Page * meta.PageSize }} of {{ meta?.TotalCount }} results\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"my-3 row\">\r\n  <div *ngFor=\"let item of items\"\r\n       class=\"col-sm-12 d-flex\"\r\n       [ngClass]=\"{'col-lg-6 col-md-6': numColumns === 2, 'col-lg-12 col-md-12': numColumns === 1 }\">\r\n    <ng-template [ngTemplateOutlet]=\"itemTemplate\"\r\n                 [ngTemplateOutletContext]=\"{ item: item }\">\r\n    </ng-template>\r\n  </div>\r\n  <div class=\"card bg-light p-3 mx-4 w-100 text-center\"\r\n       *ngIf=\"items && items.length === 0\">\r\n    <p class=\"mb-0\">No {{ searchPlaceholder }} found</p>\r\n  </div>\r\n</div>\r\n<ngb-pagination *ngIf=\"meta?.TotalPages > 1\"\r\n                maxSize=\"10\"\r\n                class=\"d-flex justify-content-center\"\r\n                [collectionSize]=\"meta.TotalCount\"\r\n                [pageSize]=\"meta.PageSize\"\r\n                [(page)]=\"meta.Page\"\r\n                (pageChange)=\"requestOptionsUpdated.emit({ page: $event })\"\r\n                [rotate]=\"true\"></ngb-pagination>","import {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  ContentChild,\r\n  TemplateRef,\r\n} from '@angular/core';\r\nimport { Meta } from '@ordercloud/angular-sdk';\r\n\r\n@Component({\r\n  selector: 'shared-generic-browse',\r\n  templateUrl: './generic-browse.component.html',\r\n  styleUrls: ['./generic-browse.component.scss'],\r\n})\r\nexport class GenericBrowseComponent<T> {\r\n  /**\r\n   *  Nearly every endpoint in the OrderCloud API can be passed a common set of options.\r\n   *  This includes things like search, filter, orderBy, & page. The idea behind this GenericBrowseComponent\r\n   *  is to package the UI elements assosiated with those actions in a single place.\r\n   *\r\n   *  This first draft includes functionality for searching and paginating a list of objects, for example, addresses.\r\n   */\r\n\r\n  constructor() {}\r\n\r\n  @Input() items: T[];\r\n\r\n  // Information about pagination\r\n  @Input() meta: Meta;\r\n\r\n  @Input() searchPlaceholder: string;\r\n\r\n  // Display option - one or two columns. Default is two.\r\n  @Input() numColumns: 1 | 2 = 2;\r\n\r\n  // Event to capture search changes or page changes\r\n  @Output()\r\n  requestOptionsUpdated = new EventEmitter<{\r\n    page?: number;\r\n    search?: string;\r\n  }>();\r\n\r\n  // References the html content inside the instance of the element\r\n  @ContentChild(TemplateRef, { static: false }) itemTemplate;\r\n}\r\n","<div class=\"m-2 row align-items-center\">\r\n  <div class=\"col-sm-7\">\r\n    <div class=\"row align-items-sm-center\">\r\n      <div class=\"col-3 p-0\">\r\n        <img class=\"img-thumbnail\"\r\n             appFallbackImage\r\n             [src]=\"lineitem?.Product?.xp?.imageURLs && lineitem?.Product?.xp?.imageURLs[0] ? lineitem?.Product?.xp?.imageURLs[0] : 'http://placehold.it/300x300'\">\r\n      </div>\r\n      <div class=\"col-9\">\r\n        <h6>\r\n          <a [routerLink]=\"['/products', lineitem.Product.ID]\"\r\n             class=\"link-text\">{{lineitem.Product.Name}} {{cartService.buildSpecList(lineitem)}}</a>\r\n\r\n          <small class=\"text-muted d-block\">{{lineitem.Product.ID}}</small>\r\n        </h6>\r\n        <a class=\"text-danger btn btn-link px-0 delete-lineitem\"\r\n           *ngIf=\"!readOnly\"\r\n           (click)=\"deleteLineItem()\">Remove Item</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"col-sm-5\">\r\n    <div class=\"row align-items-center pt-3 pt-sm-0\">\r\n      <div class=\"col-4 text-center\">\r\n        <span class=\"d-block d-sm-none\">Unit Price</span>\r\n        <span class=\"text-nowrap\">{{lineitem.UnitPrice | currency}}</span>\r\n      </div>\r\n      <div class=\"col-4 text-center\">\r\n        <span class=\"d-block d-sm-none\">Qty</span>\r\n        <shared-quantity-input *ngIf=\"!readOnly\"\r\n                               [product]=\"productDetails\"\r\n                               [existingQty]=\"lineitem.Quantity\"\r\n                               (qtyChanged)=\"updateQuantity($event)\"></shared-quantity-input>\r\n        <span class=\"text-nowrap\"\r\n              *ngIf=\"readOnly\">&times;{{ lineitem.Quantity | number }}</span>\r\n      </div>\r\n      <div class=\"col-4 text-right\">\r\n        <span class=\"d-block d-sm-none\">Total</span>\r\n        <span class=\"text-nowrap\">{{ lineitem.LineTotal | currency }}</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- hr only visible on mobile to more clearly distinguish between line items -->\r\n<hr class=\"pb-4 d-block d-sm-none\">","import { Component, Output, Input, EventEmitter } from '@angular/core';\r\nimport { LineItem, BuyerProduct } from '@ordercloud/angular-sdk';\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport { CartService } from 'src/app/shared/services/cart/cart.service';\r\n\r\n@Component({\r\n  selector: 'shared-line-item-card',\r\n  templateUrl: './line-item-card.component.html',\r\n  styleUrls: ['./line-item-card.component.scss'],\r\n})\r\nexport class LineItemCardComponent {\r\n  closeIcon = faTimes;\r\n\r\n  @Input() lineitem: LineItem;\r\n  @Input() productDetails: BuyerProduct;\r\n  @Input() readOnly: boolean;\r\n  @Output() deletedLineItem = new EventEmitter<LineItem>();\r\n  @Output() lineItemUpdated = new EventEmitter<LineItem>();\r\n\r\n  constructor(\r\n    public cartService: CartService // used in template\r\n  ) {}\r\n\r\n  public deleteLineItem() {\r\n    this.deletedLineItem.emit(this.lineitem);\r\n  }\r\n\r\n  updateQuantity(qty: number) {\r\n    this.lineitem.Quantity = qty;\r\n    this.lineItemUpdated.emit(this.lineitem);\r\n  }\r\n}\r\n","<div class=\"card border shadow-sm mb-4\">\r\n  <div class=\"card-header p-3\">\r\n    <!-- Name -->\r\n    <div class=\"row\">\r\n      <div class=\"col\">\r\n        <h5 class=\"card-title mb-0\">\r\n          Line Items\r\n        </h5>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"px-3 pt-2 d-none d-sm-block border-bottom\">\r\n    <div class=\"row\">\r\n      <div class=\"col-sm-7\">\r\n      </div>\r\n      <div class=\"col-sm-5\">\r\n        <div class=\"row\">\r\n          <div class=\"col-4 text-center\">\r\n            <h6>Price</h6>\r\n          </div>\r\n          <div class=\"col-4 text-center\">\r\n            <h6>Qty</h6>\r\n          </div>\r\n          <div class=\"col-4 text-center\">\r\n            <h6>Total</h6>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"flex-none\">\r\n    <ng-content></ng-content>\r\n  </div>\r\n</div>","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'shared-lineitem-list-wrapper',\r\n  templateUrl: './lineitem-list-wrapper.component.html',\r\n  styleUrls: ['./lineitem-list-wrapper.component.scss'],\r\n})\r\nexport class LineItemListWrapperComponent {\r\n  constructor() {}\r\n}\r\n","<div class=\"card\"\r\n     (mouseleave)=\"close()\">\r\n  <div class=\"card-header text-center\">My Cart</div>\r\n  <div *ngIf=\"lineItems.Items.length > 0\"\r\n       class=\"list-group list-group-flush\">\r\n    <div class=\"list-group-item\"\r\n         *ngFor=\"let li of lineItems.Items | slice:0:maxLines\">\r\n      <a class=\"link-text\"\r\n         [routerLink]=\"['/products', li.Product.ID]\"\r\n         (click)=\"close()\">{{ li.Product.Name }} {{cartService.buildSpecList(li)}}</a>\r\n      <div class=\"d-flex justify-content-between\">\r\n        <div><span class=\"text-muted\">Qty:</span> {{ li.Quantity | number}}</div>\r\n        <div><span class=\"text-muted\">Unit Price:</span> {{ li.UnitPrice || 0 | currency}}</div>\r\n      </div>\r\n    </div>\r\n    <h4 *ngIf=\"lineItems.Items.length > maxLines\"\r\n        class=\"list-group-item text-center\">\r\n      <fa-icon [icon]=\"faEllipsisH\"></fa-icon>\r\n    </h4>\r\n    <div class=\"list-group-item\">\r\n      <div class=\"d-flex justify-content-between\">\r\n        <div>Subtotal</div>\r\n        <div>{{ order.Subtotal | currency}}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"card-body\"\r\n       *ngIf=\"lineItems.Items.length === 0\">No items in the cart</div>\r\n  <div *ngIf=\"lineItems.Items.length > 0\"\r\n       class=\"d-flex justify-content-between card-footer\">\r\n    <div>\r\n      <button class=\"btn btn-sm btn-primary\"\r\n              routerLink=\"/cart\"\r\n              (click)=\"close()\">Edit Cart</button>\r\n    </div>\r\n    <div>\r\n      <button class=\"btn btn-sm btn-primary\"\r\n              routerLink=\"/checkout\"\r\n              (click)=\"close()\">Checkout</button>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, Input, OnInit } from '@angular/core';\r\nimport { NgbPopover } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ListLineItem, Order } from '@ordercloud/angular-sdk';\r\nimport { AppStateService } from 'src/app/shared/services/app-state/app-state.service';\r\nimport { faEllipsisH } from '@fortawesome/free-solid-svg-icons';\r\nimport { CartService } from 'src/app/shared/services/cart/cart.service';\r\n\r\n@Component({\r\n  selector: 'checkout-mini-cart',\r\n  templateUrl: './mini-cart.component.html',\r\n})\r\nexport class MiniCartComponent implements OnInit {\r\n  @Input() popover: NgbPopover;\r\n  lineItems: ListLineItem;\r\n  order: Order;\r\n  maxLines = 5; // Limit the height for UI purposes\r\n  faEllipsisH = faEllipsisH;\r\n\r\n  constructor(\r\n    private appStateService: AppStateService,\r\n    public cartService: CartService // used in template\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.lineItems = this.appStateService.lineItemSubject.value;\r\n    this.order = this.appStateService.orderSubject.value;\r\n  }\r\n\r\n  close() {\r\n    if (this.popover.isOpen()) {\r\n      this.popover.close();\r\n    }\r\n  }\r\n}\r\n","<div class=\"shared-modal\">\r\n  <div class=\"shared-modal__body rounded border shadow-lg\">\r\n    <div class=\"row\">\r\n      <h4 class=\"col-8\">{{ modalTitle }}</h4>\r\n      <div class=\"col-4\">\r\n        <fa-icon class=\"float-right icon-button--hover-reactive\"\r\n                 (click)=\"close()\"\r\n                 [icon]=\"faTimes\"></fa-icon>\r\n      </div>\r\n    </div>\r\n    <hr>\r\n    <ng-content></ng-content>\r\n  </div>\r\n</div>\r\n<div class=\"shared-modal__background\"></div>","import {\r\n  Component,\r\n  ElementRef,\r\n  Input,\r\n  OnInit,\r\n  OnDestroy,\r\n  ContentChildren,\r\n  Directive,\r\n  QueryList,\r\n  ViewContainerRef,\r\n  Inject,\r\n  PLATFORM_ID,\r\n} from '@angular/core';\r\nimport { ModalService } from 'src/app/shared/services/modal/modal.service';\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport { isPlatformBrowser } from '@angular/common';\r\n\r\n/**\r\n * To use this ModalComponent add the following html to your template.\r\n *\r\n *  <shared-modal id=\"myId\" modalTitle=\"My Modal\">\r\n *    <p>Hello World</p>\r\n *  </shared-modal>\r\n *\r\n * Then open the modal with the following Javascript in the controller.\r\n *\r\n *  ModalService.open('myId')\r\n */\r\n\r\n// Put this on a custom component within the <shared-model> tags if you want to reset it when the modal closes.\r\n@Directive({ selector: '[ResetOnModalClose]' })\r\nexport class ResetDirective {\r\n  constructor(private view: ViewContainerRef) {}\r\n\r\n  get component() {\r\n    return this.view['_data'].componentView.component;\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'shared-modal',\r\n  templateUrl: './modal.component.html',\r\n  styleUrls: ['./modal.component.scss'],\r\n})\r\nexport class ModalComponent implements OnInit, OnDestroy {\r\n  @Input() id: string;\r\n  @Input() modalTitle: string;\r\n  @ContentChildren(ResetDirective, { descendants: true })\r\n  children: QueryList<ResetDirective>;\r\n  public isOpen = false;\r\n\r\n  faTimes = faTimes;\r\n\r\n  constructor(\r\n    private modalService: ModalService,\r\n    private elementRef: ElementRef,\r\n    @Inject(PLATFORM_ID) private platformId: Object\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    // ensure id attribute exists\r\n    if (!this.id) {\r\n      throw Error('modal must have an id');\r\n    }\r\n\r\n    if (isPlatformBrowser(this.platformId)) {\r\n      // move element to bottom of page (just before </body>) so it can be displayed above everything else\r\n      document.body.appendChild(this.elementRef.nativeElement);\r\n\r\n      // add self (this modal instance) to the modal service so it's accessible from controllers\r\n      this.modalService.add(this);\r\n    }\r\n  }\r\n\r\n  // remove self from modal service when directive is destroyed\r\n  ngOnDestroy(): void {\r\n    this.close();\r\n    this.modalService.remove(this.id);\r\n    this.elementRef.nativeElement.remove();\r\n  }\r\n\r\n  // open modal\r\n  open(): void {\r\n    this.isOpen = true;\r\n    this.elementRef.nativeElement.style.display = 'block';\r\n    if (isPlatformBrowser(this.platformId)) {\r\n      document.body.classList.add('shared-modal--open');\r\n    }\r\n  }\r\n\r\n  // close modal\r\n  close(): void {\r\n    this.modalService.onCloseSubject.next(this.id);\r\n    this.isOpen = false;\r\n    // Only applies to components with the ResetDirective\r\n    this.children.forEach((child) => child.component.ngOnInit());\r\n    this.elementRef.nativeElement.style.display = 'none';\r\n    if (isPlatformBrowser(this.platformId)) {\r\n      document.body.classList.remove('shared-modal--open');\r\n    }\r\n  }\r\n}\r\n","<div class=\"card\">\r\n  <p class=\"card-body text-center\">\r\n    {{message}}\r\n    <br>\r\n    Click <a class=\"btn btn-link\"\r\n       (click)=\"clear()\">here</a> to {{actionText}}.\r\n  </p>\r\n\r\n</div>","import {\r\n  Component,\r\n  Input,\r\n  EventEmitter,\r\n  Output,\r\n  OnDestroy,\r\n} from '@angular/core';\r\nimport { Meta } from '@angular/platform-browser';\r\n\r\n@Component({\r\n  selector: 'shared-no-results',\r\n  templateUrl: './no-results.component.html',\r\n  styleUrls: ['./no-results.component.scss'],\r\n})\r\nexport class NoResultsComponent implements OnDestroy {\r\n  @Input() message: string;\r\n  @Input() actionText: string;\r\n  @Output() action = new EventEmitter<void>();\r\n\r\n  constructor(private meta: Meta) {\r\n    this.meta.addTag({ name: 'robots', content: 'noindex' });\r\n  }\r\n\r\n  clear() {\r\n    this.action.emit();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.meta.removeTag('name=\"robots\"');\r\n  }\r\n}\r\n","<div class=\"mb-3 bg-quaternary\">\r\n  <div class=\"container py-3\">\r\n    <h1 class=\"display-4 m-0 headline-text text-center\">\r\n      {{ title }}\r\n    </h1>\r\n  </div>\r\n</div>","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'shared-page-title',\r\n  templateUrl: './page-title.component.html',\r\n  styleUrls: ['./page-title.component.scss'],\r\n})\r\nexport class PageTitleComponent implements OnInit {\r\n  @Input() title: string;\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n}\r\n","<div class=\"lead\"><b>Payments</b></div>\r\n<div class=\"mb-4\" *ngFor=\"let payment of payments.Items\">\r\n  <span *ngIf=\"payment.Type === 'CreditCard'\">\r\n      <strong><shared-credit-card-icon [card]=\"payment.Details\"></shared-credit-card-icon> ending in {{payment.Details.PartialAccountNumber}}</strong>\r\n  </span>\r\n  <span *ngIf=\"payment.Type === 'PurchaseOrder'\">\r\n    Purchase Order <small *ngIf=\"payment.Details.PONumber\">{{payment.Details.PONumber}}</small>\r\n  </span>\r\n  <span *ngIf=\"payment.Type === 'SpendingAccount'\">\r\n    Spending Account: {{ payment.Details.Name }}\r\n  </span>\r\n  <span class=\"float-right\">-{{payment.Amount | currency}}</span>\r\n</div>","import { Component, Input } from '@angular/core';\r\nimport { ListPayment } from '@ordercloud/angular-sdk';\r\n\r\n@Component({\r\n  selector: 'order-payment-list',\r\n  templateUrl: './order-payment-list.component.html',\r\n  styleUrls: ['./order-payment-list.component.scss'],\r\n})\r\nexport class OrderPaymentListComponent {\r\n  @Input() payments: ListPayment;\r\n}\r\n","<div class=\"card mb-5 w-100 border-hover\">\r\n  <div class=\"ribbon ribbon-top-right bg-light\"\r\n       *ngIf=\"!featuredProducts()\">\r\n    <shared-toggle-favorite *ngIf=\"isSetFavoriteUsed\"\r\n                            title=\"Favorite\"\r\n                            (click)=\"$event.stopPropagation()\"\r\n                            [favorite]=\"favorite\"\r\n                            (favoriteChanged)=\"setFavorite.emit($event)\"></shared-toggle-favorite>\r\n  </div>\r\n  <img class=\"card-img-top img-fluid flex-shrink-0\"\r\n       [routerLink]=\"['/products', product.ID]\"\r\n       appFallbackImage\r\n       src=\"{{ product?.xp?.imageURLs && product?.xp?.imageURLs[0] ? product?.xp?.imageURLs[0] : 'http://placehold.it/300x300' }}\"\r\n       alt=\"{{product.ID}}\">\r\n  <div class=\"card-body d-flex flex-column justify-content-between bg-light\">\r\n    <h5 class=\"card-title\"\r\n        title=\"{{product.Name}}\">{{ product.Name }}</h5>\r\n    <p class=\"card-text text-muted\"\r\n       [innerHtml]=\"product.ID\">{{product.ID}}</p>\r\n    <div class=\"d-flex flex-wrap justify-content-between align-items-center\">\r\n      <p class=\"card-text mb-0\">\r\n        {{ product?.PriceSchedule?.PriceBreaks[0]?.Price || 0 | currency }}\r\n      </p>\r\n      <label for=\"quantity\"\r\n             class=\"sr-only\">Quantity</label>\r\n      <shared-quantity-input class=\"w-50\"\r\n                             id=\"quantity\"\r\n                             [product]=\"product\"\r\n                             [existingQty]=\"null\"\r\n                             (addedToCart)=\"addToCart($event)\"\r\n                             *ngIf=\"!featuredProducts()\">\r\n      </shared-quantity-input>\r\n    </div>\r\n  </div>\r\n  <div class=\"card-footer\"\r\n       *ngIf=\"!featuredProducts()\">\r\n    <button *ngIf=\"shouldDisplayAddToCart\"\r\n            (click)=\"$event.stopPropagation()\"\r\n            class=\"btn btn-primary btn-block small\"\r\n            type=\"submit\"\r\n            (click)=\"quantityInputComponent.addToCart($event)\">\r\n      Add <span class=\"d-md-none d-lg-inline\"> to Cart</span>\r\n    </button>\r\n    <button *ngIf=\"isViewOnlyProduct\"\r\n            [routerLink]=\"['/products', product.ID]\"\r\n            class=\"btn btn-default btn-block btn-outline-dark\">View\r\n      <span class=\"d-sm-none d-lg-inline\">Product</span>\r\n    </button>\r\n    <button *ngIf=\"hasSpecs()\"\r\n            [routerLink]=\"['/products', product.ID]\"\r\n            class=\"btn btn-primary btn-block small\">Select\r\n      <span class=\"d-sm-none d-lg-inline\">Specs</span>\r\n    </button>\r\n  </div>\r\n</div>","import {\r\n  Component,\r\n  Input,\r\n  ViewChild,\r\n  EventEmitter,\r\n  Output,\r\n  OnInit,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { QuantityInputComponent } from 'src/app/shared/components/quantity-input/quantity-input.component';\r\nimport { AddToCartEvent } from 'src/app/shared/models/add-to-cart-event.interface';\r\nimport { BuyerProduct } from '@ordercloud/angular-sdk';\r\nimport { Router } from '@angular/router';\r\nimport { find as _find } from 'lodash';\r\n\r\n@Component({\r\n  selector: 'product-product-card',\r\n  templateUrl: './product-card.component.html',\r\n  styleUrls: ['./product-card.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class ProductCardComponent implements OnInit {\r\n  @Input() product: BuyerProduct;\r\n  @Input() favorite: boolean;\r\n  @Output() addedToCart = new EventEmitter<AddToCartEvent>();\r\n  @Output() setFavorite = new EventEmitter<boolean>();\r\n  @ViewChild(QuantityInputComponent, { static: false })\r\n  quantityInputComponent: QuantityInputComponent;\r\n  shouldDisplayAddToCart: boolean;\r\n  isViewOnlyProduct: boolean;\r\n  isSetFavoriteUsed: boolean;\r\n  alive = true;\r\n\r\n  constructor(private router: Router) {}\r\n\r\n  addToCart(event: AddToCartEvent) {\r\n    this.addedToCart.emit(event);\r\n  }\r\n\r\n  hasSpecs(): boolean {\r\n    return this.product.SpecCount > 0;\r\n  }\r\n\r\n  ngOnInit() {\r\n    /**\r\n     * this will be true if the parent component\r\n     * is wired up to listen to the outputted event\r\n     */\r\n    this.isSetFavoriteUsed = this.setFavorite.observers.length > 0;\r\n    const isAddedToCartUsed = this.addedToCart.observers.length > 0;\r\n    this.isViewOnlyProduct = !this.product.PriceSchedule;\r\n    this.shouldDisplayAddToCart =\r\n      isAddedToCartUsed && !this.isViewOnlyProduct && !this.hasSpecs();\r\n  }\r\n\r\n  featuredProducts() {\r\n    return this.router.url.indexOf('/home') > -1;\r\n  }\r\n}\r\n","<h3 class=\"my-4 text-center\">{{ displayTitle }}</h3>\r\n<div class=\"row align-items-center\">\r\n  <div class=\"col-1 carousel-arrow\">\r\n    <fa-icon [icon]=\"faAngleLeft\"\r\n             *ngIf=\"index > 0\"\r\n             (click)=\"left()\"></fa-icon>\r\n  </div>\r\n  <div class=\"col-10 product-list-grid row d-flex align-items-stretch\">\r\n    <product-product-card *ngFor=\"let product of getProducts()\"\r\n                           class=\"col-lg-3 col-md-4 col-sm-6 d-flex flex-grow-1 flex-shrink-1\"\r\n                           [product]=\"product\">\r\n    </product-product-card>\r\n  </div>\r\n  <div class=\"col-1 carousel-arrow\">\r\n    <fa-icon [icon]=\"faAngleRight\"\r\n             *ngIf=\"index <= products.length - rowLength - 1\"\r\n             (click)=\"right()\"></fa-icon>\r\n  </div>\r\n</div>","import { Component, Input, Inject, PLATFORM_ID } from '@angular/core';\r\nimport { Router, NavigationEnd } from '@angular/router';\r\nimport { faAngleLeft, faAngleRight } from '@fortawesome/free-solid-svg-icons';\r\nimport { BuyerProduct } from '@ordercloud/angular-sdk';\r\nimport { isPlatformBrowser } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'product-carousel',\r\n  templateUrl: './product-carousel.component.html',\r\n  styleUrls: ['./product-carousel.component.scss'],\r\n})\r\nexport class ProductCarouselComponent {\r\n  @Input() products: BuyerProduct[];\r\n  @Input() displayTitle: string;\r\n\r\n  index = 0;\r\n  rowLength = 4;\r\n  faAngleLeft = faAngleLeft;\r\n  faAngleRight = faAngleRight;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    @Inject(PLATFORM_ID) private platformId: Object\r\n  ) {\r\n    this.configureRouter();\r\n  }\r\n\r\n  left(): void {\r\n    this.index -= this.rowLength;\r\n  }\r\n\r\n  right(): void {\r\n    this.index += this.rowLength;\r\n  }\r\n\r\n  getProducts(): BuyerProduct[] {\r\n    return this.products.slice(this.index, this.index + this.rowLength);\r\n  }\r\n\r\n  configureRouter() {\r\n    /**\r\n     *\r\n     * override angular's default routing behavior so that\r\n     * going to the same route with different query params are\r\n     * detected as a state change.\r\n     *\r\n     */\r\n    this.router.events.subscribe((evt) => {\r\n      if (evt instanceof NavigationEnd) {\r\n        this.router.navigated = false;\r\n        if (isPlatformBrowser(this.platformId)) {\r\n          window.scrollTo(0, 0);\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n","<form [formGroup]=\"form\">\r\n  <div class=\"form-group mb-0\">\r\n    <label for=\"quantity\"\r\n           class=\"sr-only\">Product Quantity</label>\r\n    <input *ngIf=\"!isQuantityRestricted()\"\r\n           id=\"quantity\"\r\n           title=\"Please enter a quantity greater than 0\"\r\n           type=\"number\"\r\n           formControlName=\"quantity\"\r\n           class=\"form-control text-center\"\r\n           placeholder=\"0\"\r\n           style=\"min-width:65px\"\r\n           aria-label=\"Quantity Input Selector\"\r\n           aria-describedby=\"quantity\">\r\n    <select *ngIf=\"isQuantityRestricted()\"\r\n            class=\"form-control text-center\"\r\n            title=\"Please enter a quantity greater than 0\"\r\n            style=\"min-width:65px\"\r\n            formControlName=\"quantity\"\r\n            id=\"quantity\">\r\n      <option *ngFor=\"let priceBreak of product.PriceSchedule.PriceBreaks\"\r\n              [value]=\"priceBreak.Quantity\">\r\n        {{priceBreak.Quantity}}\r\n      </option>\r\n    </select>\r\n  </div>\r\n</form>\r\n<small *ngIf=\"form.controls['quantity'].getError('required')\"\r\n       class=\"alert alert-danger error-message c-error-message text-center\">\r\n  Please enter a quantity\r\n  <br>\r\n</small>\r\n<small *ngIf=\"getQuantityError() as error\"\r\n       class=\"alert alert-danger error-message c-error-message text-center\">\r\n  {{ error }}\r\n  <br>\r\n</small>","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  OnDestroy,\r\n} from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { BuyerProduct } from '@ordercloud/angular-sdk';\r\nimport { ProductQtyValidator } from 'src/app/shared/validators/product-quantity/product.quantity.validator';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { AddToCartEvent } from 'src/app/shared/models/add-to-cart-event.interface';\r\nimport { debounceTime, takeWhile } from 'rxjs/operators';\r\nimport { AppFormErrorService } from 'src/app/shared/services/form-error/form-error.service';\r\n\r\n@Component({\r\n  selector: 'shared-quantity-input',\r\n  templateUrl: './quantity-input.component.html',\r\n  styleUrls: ['./quantity-input.component.scss'],\r\n})\r\nexport class QuantityInputComponent implements OnInit, OnDestroy {\r\n  alive = true;\r\n  @Input() product: BuyerProduct;\r\n  @Input() existingQty;\r\n  @Output() qtyChanged = new EventEmitter<number>();\r\n  @Output() addedToCart = new EventEmitter<AddToCartEvent>();\r\n  form: FormGroup;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private toastrService: ToastrService,\r\n    private formErrorService: AppFormErrorService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.form = this.formBuilder.group({\r\n      quantity: [\r\n        this.existingQty || this.getDefaultQty(),\r\n        [Validators.required, ProductQtyValidator(this.product)],\r\n      ],\r\n    });\r\n    this.quantityChangeListener();\r\n  }\r\n\r\n  isQuantityRestricted() {\r\n    // In OC RestrictedQuantity means you can only order quantities for which a price break exists.\r\n    return (\r\n      this.product &&\r\n      this.product.PriceSchedule &&\r\n      this.product.PriceSchedule.RestrictedQuantity\r\n    );\r\n  }\r\n\r\n  getDefaultQty(): number {\r\n    return this.isQuantityRestricted()\r\n      ? this.product.PriceSchedule.PriceBreaks[0].Quantity\r\n      : 1;\r\n  }\r\n\r\n  quantityChangeListener(): void {\r\n    this.form.valueChanges\r\n      .pipe(\r\n        debounceTime(500),\r\n        takeWhile(() => this.alive)\r\n      )\r\n      .subscribe(() => {\r\n        if (this.form.valid && !isNaN(this.form.value.quantity)) {\r\n          this.qtyChanged.emit(this.form.value.quantity);\r\n        }\r\n      });\r\n  }\r\n\r\n  /**\r\n   *  this method is not tied to anything\r\n   *  use ViewChild to call this method\r\n   *  from parent component, see product-details component as example\r\n   */\r\n  addToCart(event) {\r\n    event.stopPropagation();\r\n    if (!this.form.valid || isNaN(this.form.value.quantity)) {\r\n      return this.toastrService.error(\r\n        this.getQuantityError() || 'Please enter a quantity',\r\n        'Error'\r\n      );\r\n    }\r\n    this.addedToCart.emit({\r\n      product: this.product,\r\n      quantity: this.form.value.quantity,\r\n    });\r\n    // Reset form as indication of action\r\n    this.form.setValue({ quantity: this.getDefaultQty() });\r\n  }\r\n\r\n  getQuantityError(): string | void {\r\n    const error = this.formErrorService.getProductQuantityError(\r\n      'quantity',\r\n      this.form\r\n    );\r\n    return error ? error.message : null;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.alive = false;\r\n  }\r\n}\r\n","<form [formGroup]=\"form\"\r\n      #searchform>\r\n  <label for=\"search-addon\"\r\n         class=\"sr-only\">{{placeholderText || 'Search...'}}</label>\r\n  <div class=\"input-group\">\r\n    <div class=\"input-group-prepend\">\r\n      <div class=\"input-group-text\">\r\n        <fa-icon [icon]=\"faSearch\"></fa-icon>\r\n      </div>\r\n    </div>\r\n    <input type=\"search\"\r\n           class=\"form-control\"\r\n           placeholder=\"{{placeholderText || 'Search...'}}\"\r\n           aria-label=\"Product search\"\r\n           id=\"search-addon\"\r\n           formControlName=\"search\"\r\n           (keyup.enter)=\"search()\">\r\n    <div *ngIf=\"showClear()\"\r\n         class=\"input-group-append\">\r\n      <div (click)=\"clear()\"\r\n           class=\"input-group-text text-danger icon-button--hover-reactive\">\r\n        <fa-icon [icon]=\"faTimes\"></fa-icon>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</form>","import {\r\n  Component,\r\n  OnInit,\r\n  OnDestroy,\r\n  Input,\r\n  EventEmitter,\r\n  Output,\r\n} from '@angular/core';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { faSearch, faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport { debounceTime, takeWhile, filter } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'shared-search',\r\n  templateUrl: './search.component.html',\r\n  styleUrls: ['./search.component.scss'],\r\n})\r\nexport class SearchComponent implements OnInit, OnDestroy {\r\n  alive = true;\r\n  @Input() placeholderText?: string;\r\n  @Output() searched = new EventEmitter<string>();\r\n  faSearch = faSearch;\r\n  faTimes = faTimes;\r\n  form: FormGroup;\r\n  previousSearchTerm = '';\r\n\r\n  constructor(private formBuilder: FormBuilder) {}\r\n\r\n  ngOnInit() {\r\n    this.form = this.formBuilder.group({ search: '' });\r\n    this.onFormChanges();\r\n  }\r\n\r\n  private onFormChanges() {\r\n    this.form.controls['search'].valueChanges\r\n      .pipe(\r\n        filter((searchTerm) => {\r\n          const userTriggered = this.form.dirty;\r\n          return searchTerm !== this.previousSearchTerm && userTriggered;\r\n        }),\r\n        debounceTime(500),\r\n        takeWhile(() => this.alive)\r\n      )\r\n      .subscribe((searchTerm) => {\r\n        this.previousSearchTerm = searchTerm;\r\n        this.search();\r\n      });\r\n  }\r\n\r\n  search() {\r\n    const searchTerm = this.form.controls.search.value;\r\n    this.form.markAsPristine();\r\n    // emit as undefined if empty string so sdk ignores parameter completely\r\n    this.searched.emit(searchTerm || undefined);\r\n  }\r\n\r\n  showClear(): boolean {\r\n    return this.form.get('search').value !== '';\r\n  }\r\n\r\n  clear(): void {\r\n    this.form.markAsDirty();\r\n    this.form.setValue({ search: '' });\r\n  }\r\n\r\n  clearWithoutEmit(): void {\r\n    this.form.setValue({ search: '' });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.alive = false;\r\n  }\r\n}\r\n","<span class=\"sr-only\">Sort By Favorites</span>\r\n<fa-icon *ngIf=\"favorite\"\r\n         class=\"favorite text-danger\"\r\n         [icon]=\"faHeartFilled\"\r\n         (click)=\"favoriteChanged.emit(false)\"\r\n         style=\"cursor: pointer;\"></fa-icon>\r\n<fa-icon *ngIf=\"!favorite\"\r\n         class=\"not-favorite\"\r\n         [icon]=\"faHeartOutline\"\r\n         (click)=\"favoriteChanged.emit(true)\"\r\n         style=\"cursor: pointer;\"></fa-icon>","import { Component, Input, Output, EventEmitter } from '@angular/core';\r\nimport { faHeart as _faHeartFilled } from '@fortawesome/free-solid-svg-icons';\r\nimport { faHeart as _faHeartOutline } from '@fortawesome/free-regular-svg-icons';\r\n\r\n@Component({\r\n  selector: 'shared-toggle-favorite',\r\n  templateUrl: './toggle-favorite.component.html',\r\n  styleUrls: ['./toggle-favorite.component.scss'],\r\n})\r\nexport class ToggleFavoriteComponent {\r\n  faHeartFilled = _faHeartFilled;\r\n  faHeartOutline = _faHeartOutline;\r\n  @Input() favorite: boolean;\r\n  @Output() favoriteChanged = new EventEmitter<boolean>();\r\n}\r\n","import { Directive, ElementRef, Input, OnInit, OnDestroy } from '@angular/core';\r\nimport { fromEvent } from 'rxjs';\r\nimport { takeWhile } from 'rxjs/operators';\r\n\r\n@Directive({\r\n  selector: 'img[appFallbackImage]',\r\n})\r\nexport class FallbackImageDirective implements OnInit, OnDestroy {\r\n  private alive = true;\r\n  private hasUpdatedImg = false;\r\n\r\n  // accepts image url to replace failed one with\r\n  // if none is provided will use globalFallbackImage\r\n  @Input('appFallbackImage') appFallbackImage;\r\n  globalFallbackImage = 'http://placehold.it/300x300';\r\n\r\n  constructor(private elementRef: ElementRef) {}\r\n\r\n  ngOnInit() {\r\n    // listen to error event on element\r\n    fromEvent(this.elementRef.nativeElement, 'error')\r\n      .pipe(\r\n        // only subscribe to event while directive\r\n        // is alive to prevent memory leak\r\n        takeWhile(() => this.alive)\r\n      )\r\n      .subscribe(() => {\r\n        // prevent potential infinite loop in case\r\n        // fallback image errors as well\r\n        if (!this.hasUpdatedImg) {\r\n          this.hasUpdatedImg = true;\r\n          this.updateImageUrl();\r\n        }\r\n      });\r\n  }\r\n\r\n  private updateImageUrl() {\r\n    this.elementRef.nativeElement.src =\r\n      this.appFallbackImage || this.globalFallbackImage;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.alive = false;\r\n  }\r\n}\r\n","import { Injectable, Inject, PLATFORM_ID, Injector } from '@angular/core';\r\nimport { CanActivate, Router } from '@angular/router';\r\nimport { OcTokenService } from '@ordercloud/angular-sdk';\r\nimport * as jwtDecode from 'jwt-decode';\r\nimport { DecodedOrderCloudToken } from 'src/app/shared';\r\nimport { applicationConfiguration, AppConfig } from 'src/app/config/app.config';\r\nimport { AppAuthService } from 'src/app/auth/services/app-auth.service';\r\nimport { of, Observable } from 'rxjs';\r\nimport { flatMap, map } from 'rxjs/operators';\r\nimport { AppStateService } from 'src/app/shared/services/app-state/app-state.service';\r\nimport { isPlatformServer } from '@angular/common';\r\nimport { NgxRequest } from '@gorniv/ngx-universal';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class HasTokenGuard implements CanActivate {\r\n  constructor(\r\n    private ocTokenService: OcTokenService,\r\n    private router: Router,\r\n    private appAuthService: AppAuthService,\r\n    private appStateService: AppStateService,\r\n    @Inject(PLATFORM_ID) private platformId: Object,\r\n    @Inject(NgxRequest) private request: any,\r\n    @Inject(applicationConfiguration) private appConfig: AppConfig\r\n  ) {}\r\n  canActivate(): Observable<boolean> {\r\n    /**\r\n     * very simple test to make sure a token exists,\r\n     * can be parsed and has a valid expiration time.\r\n     *\r\n     * Shouldn't be depended on for actual token validation.\r\n     * The API will block invalid tokens\r\n     * and the client-side refresh-token interceptor will handle it correctly\r\n     */\r\n\r\n    // check if impersonation supersedes existing tokens to allow impersonating buyers sequentially.\r\n    let isImpersonating: boolean;\r\n    if (isPlatformServer(this.platformId)) {\r\n      isImpersonating = this.request.path === '/impersonation';\r\n    } else {\r\n      isImpersonating = window.location.pathname === '/impersonation';\r\n    }\r\n    if (isImpersonating) {\r\n      const match = /token=([^&]*)/.exec(window.location.search);\r\n      if (match) {\r\n        this.ocTokenService.SetAccess(match[1]);\r\n        this.appStateService.isLoggedIn.next(true);\r\n        return of(true);\r\n      } else {\r\n        alert(`Missing url query param 'token'`);\r\n      }\r\n    }\r\n\r\n    const isAccessTokenValid = this.isTokenValid();\r\n    const refreshTokenExists =\r\n      this.ocTokenService.GetRefresh() &&\r\n      this.appAuthService.getRememberStatus();\r\n    if (!isAccessTokenValid && refreshTokenExists) {\r\n      return this.appAuthService.refresh().pipe(map(() => true));\r\n    }\r\n\r\n    // send profiled users to login to get new token\r\n    if (!isAccessTokenValid && !this.appConfig.anonymousShoppingEnabled) {\r\n      this.router.navigate(['/login']);\r\n      return of(false);\r\n    }\r\n    // get new anonymous token and then let them continue\r\n    if (!isAccessTokenValid && this.appConfig.anonymousShoppingEnabled) {\r\n      return this.appAuthService.authAnonymous().pipe(\r\n        flatMap(() => {\r\n          this.appStateService.isLoggedIn.next(true);\r\n          return of(true);\r\n        })\r\n      );\r\n    }\r\n    this.appStateService.isLoggedIn.next(true);\r\n    return of(isAccessTokenValid);\r\n  }\r\n\r\n  private isTokenValid(): boolean {\r\n    const token = this.ocTokenService.GetAccess();\r\n\r\n    if (!token) {\r\n      return false;\r\n    }\r\n\r\n    let decodedToken: DecodedOrderCloudToken;\r\n    try {\r\n      decodedToken = jwtDecode(token);\r\n    } catch (e) {\r\n      decodedToken = null;\r\n    }\r\n    if (!decodedToken) {\r\n      return false;\r\n    }\r\n\r\n    const expiresIn = decodedToken.exp * 1000;\r\n    return Date.now() < expiresIn;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate } from '@angular/router';\r\n\r\nimport { BaseResolveService } from '../../services/base-resolve/base-resolve.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class IsProfiledUserGuard implements CanActivate {\r\n  constructor(private baseResolveService: BaseResolveService) {}\r\n\r\n  canActivate(): boolean {\r\n    // can't access anything from appStateService because\r\n    // that gets set in baseResolve and all guards get hit before all resolves\r\n    return !this.baseResolveService.isAnon();\r\n  }\r\n}\r\n","// components\r\nexport * from 'src/app/shared/components/page-title/page-title.component';\r\n\r\n// models\r\nexport * from 'src/app/shared/models/decoded-token.interface';\r\nexport * from 'src/app/shared/services/authorize-net/authorize-net.interface';\r\n\r\n// resolves\r\nexport * from 'src/app/shared/resolves/base.resolve';\r\n\r\n// guards\r\nexport * from 'src/app/shared/guards/has-token/has-token.guard';\r\nexport * from 'src/app/shared/guards/is-profiled-user/is-profiled-user.guard';\r\n\r\n// services\r\nexport * from 'src/app/shared/services/app-state/app-state.service';\r\nexport * from 'src/app/shared/services/authorize-net/authorize-net.service';\r\nexport * from 'src/app/shared/services/base-resolve/base-resolve.service';\r\nexport * from 'src/app/shared/services/form-error/form-error.service';\r\nexport * from 'src/app/shared/services/geography/geography.service';\r\nexport * from 'src/app/shared/services/cart/cart.service';\r\nexport * from 'src/app/shared/services/modal/modal.service';\r\nexport * from 'src/app/shared/services/reorder/reorder.service';\r\nexport * from 'src/app/shared/services/regex/regex.service';\r\n\r\n// validators\r\nexport * from 'src/app/shared/validators/match-fields/match-fields.validator';\r\nexport * from 'src/app/shared/validators/product-quantity/product.quantity.validator';\r\nexport * from 'src/app/shared/validators/strong-password/strong-password.validator';\r\n\r\n// modules\r\nexport * from 'src/app/shared/shared-routing.module';\r\nexport * from 'src/app/shared/shared.module';\r\n","export enum PaymentMethod {\r\n  PurchaseOrder = 'PurchaseOrder',\r\n  SpendingAccount = 'SpendingAccount',\r\n  CreditCard = 'CreditCard',\r\n}\r\n\r\nexport const PaymentMethodMap = {\r\n  [PaymentMethod.PurchaseOrder]: 'Purchase Order',\r\n  [PaymentMethod.SpendingAccount]: 'Spending Account',\r\n  [PaymentMethod.CreditCard]: 'Credit Card',\r\n};\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport {\r\n  OrderStatus,\r\n  OrderStatusMap,\r\n} from 'src/app/order/models/order-status.model';\r\n\r\n@Pipe({\r\n  name: 'orderStatusDisplay',\r\n})\r\nexport class OrderStatusDisplayPipe implements PipeTransform {\r\n  transform(status: OrderStatus) {\r\n    if (!status) {\r\n      return null;\r\n    }\r\n    return OrderStatusMap[status];\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport {\r\n  PaymentMethod,\r\n  PaymentMethodMap,\r\n} from 'src/app/shared/models/payment-method.enum';\r\n\r\n@Pipe({\r\n  name: 'paymentMethodDisplay',\r\n})\r\nexport class PaymentMethodDisplayPipe implements PipeTransform {\r\n  transform(method: PaymentMethod) {\r\n    if (!method) {\r\n      return null;\r\n    }\r\n    return PaymentMethodMap[method];\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'shipperTracking',\r\n})\r\nexport class ShipperTrackingPipe implements PipeTransform {\r\n  transform(trackingNumber: string, shipper: string) {\r\n    if (!trackingNumber || !shipper) {\r\n      return;\r\n    }\r\n    let shippingLink = '';\r\n    switch (shipper.toLowerCase()) {\r\n      case 'ups':\r\n        shippingLink = `https://wwwapps.ups.com/WebTracking/track?track=yes&trackNums=${trackingNumber}`;\r\n        break;\r\n      case 'usps':\r\n        shippingLink = `https://tools.usps.com/go/TrackConfirmAction?tLabels=${trackingNumber}`;\r\n        break;\r\n      case 'fedex':\r\n        shippingLink = `https://www.fedex.com/apps/fedextrack/?tracknumbers=${trackingNumber}`;\r\n        break;\r\n    }\r\n    return shippingLink;\r\n  }\r\n}\r\n\r\n@Pipe({\r\n  name: 'shipperTrackingSupported',\r\n})\r\nexport class ShipperTrackingSupportedPipe implements PipeTransform {\r\n  transform(shipper: string) {\r\n    if (!shipper) {\r\n      return false;\r\n    }\r\n    const supportedShippers = ['ups', 'usps', 'fedex'];\r\n    return supportedShippers.indexOf(shipper.toLowerCase()) > -1;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve } from '@angular/router';\r\nimport { BaseResolveService } from 'src/app/shared/services/base-resolve/base-resolve.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class BaseResolve implements Resolve<any> {\r\n  constructor(private baseResolveService: BaseResolveService) {}\r\n\r\n  resolve() {\r\n    return this.baseResolveService.setUser();\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  ListPayment,\r\n  OcPaymentService,\r\n  OcMeService,\r\n  Payment,\r\n} from '@ordercloud/angular-sdk';\r\nimport { Observable, of, forkJoin } from 'rxjs';\r\nimport { map, flatMap } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AppPaymentService {\r\n  constructor(\r\n    private ocPaymentService: OcPaymentService,\r\n    private ocMeService: OcMeService\r\n  ) {}\r\n\r\n  getPayments(direction: string, orderID: string): Observable<ListPayment> {\r\n    return this.ocPaymentService.List(direction, orderID).pipe(\r\n      flatMap((paymentList) => {\r\n        const requests = paymentList.Items.map((payment) =>\r\n          this.getPaymentDetails(payment)\r\n        );\r\n        return forkJoin(requests).pipe(\r\n          map((res) => {\r\n            res.forEach((details, index) => {\r\n              // put details for each payment type on payment.Details\r\n              (paymentList.Items[index] as any).Details = details;\r\n            });\r\n            return paymentList;\r\n          })\r\n        );\r\n      })\r\n    );\r\n  }\r\n\r\n  private getPaymentDetails(payment: Payment): Observable<any> {\r\n    switch (payment.Type) {\r\n      case 'CreditCard':\r\n        return this.ocMeService.GetCreditCard(payment.CreditCardID);\r\n      case 'SpendingAccount':\r\n        return this.ocMeService.GetSpendingAccount(payment.SpendingAccountID);\r\n      case 'PurchaseOrder':\r\n        return of({ PONumber: payment.xp.PONumber });\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject, Subject } from 'rxjs';\r\nimport { MeUser, Order, ListLineItem } from '@ordercloud/angular-sdk';\r\nimport { AddToCartEvent } from 'src/app/shared/models/add-to-cart-event.interface';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AppStateService {\r\n  // Documentation on BehaviorSubject http://reactivex.io/rxjs/manual/overview.html#behaviorsubject\r\n  public userSubject: BehaviorSubject<MeUser>;\r\n  public orderSubject: BehaviorSubject<Order>;\r\n  public isAnonSubject: BehaviorSubject<boolean>;\r\n  public isLoggedIn: BehaviorSubject<boolean>;\r\n  public lineItemSubject: BehaviorSubject<ListLineItem>;\r\n\r\n  public addToCartSubject: Subject<AddToCartEvent>;\r\n\r\n  constructor() {\r\n    this.userSubject = new BehaviorSubject<MeUser>(null);\r\n    this.orderSubject = new BehaviorSubject<Order>(null);\r\n    this.isAnonSubject = new BehaviorSubject<boolean>(true);\r\n    this.isLoggedIn = new BehaviorSubject<boolean>(false);\r\n    this.lineItemSubject = new BehaviorSubject<ListLineItem>({\r\n      Meta: { Page: 1, PageSize: 25, TotalCount: 0, TotalPages: 1 },\r\n      Items: [],\r\n    });\r\n\r\n    this.addToCartSubject = new Subject<AddToCartEvent>();\r\n  }\r\n}\r\n","import { Injectable, Inject } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport {\r\n  AppConfig,\r\n  applicationConfiguration,\r\n} from 'src/app/config/app.config';\r\nimport { Observable } from 'rxjs';\r\nimport { flatMap } from 'rxjs/operators';\r\nimport {\r\n  CreateCardDetails,\r\n  AuthorizeCardSuccess,\r\n  CreateCardResponse,\r\n} from 'src/app/shared/services/authorize-net/authorize-net.interface';\r\nimport {\r\n  OcTokenService,\r\n  Payment,\r\n  OcPaymentService,\r\n  Order,\r\n  OcOrderService,\r\n  BuyerCreditCard,\r\n} from '@ordercloud/angular-sdk';\r\n\r\n/**\r\n *  OrderCloud does not store full credit card details or process finacial transactions.\r\n *  An integration with a third party service is required for these features.\r\n *  This service is an example of such an integration using Authorize.net\r\n *  (https://developer.authorize.net/api/reference/index.html)\r\n *\r\n *  Note: we strongly recommend doing such integrations server-side. Eventually, a server-side example may be added.\r\n * */\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AuthorizeNetService {\r\n  readonly url = 'https://api.ordercloud.io/v1/integrationproxy/authorizenet';\r\n  readonly options = {\r\n    headers: new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${this.tokenSerivce.GetAccess()}`,\r\n    }),\r\n  };\r\n  readonly acceptedCards = {\r\n    Visa: RegExp('^4[0-9]{12}(?:[0-9]{3})?$'), // e.g. 4000000000000000\r\n    MasterCard: RegExp('^5[1-5][0-9]{14}$'), // e.g. 5100000000000000\r\n    Discover: RegExp('^6(?:011|5[0-9]{2})[0-9]{12}$'), // e.g. 6011000000000000\r\n  };\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private tokenSerivce: OcTokenService,\r\n    private ocPaymentService: OcPaymentService,\r\n    private ocOrderService: OcOrderService,\r\n    @Inject(applicationConfiguration) private appConfig: AppConfig\r\n  ) {}\r\n\r\n  private post(body) {\r\n    return this.http.post<any>(this.url, body, this.options);\r\n  }\r\n\r\n  CreateCreditCard(card: CreateCardDetails): Observable<CreateCardResponse> {\r\n    return this.post({\r\n      BuyerID: this.appConfig.appname,\r\n      TransactionType: 'createCreditCard',\r\n      CardDetails: {\r\n        CardType: this.getCardType(card.CardNumber),\r\n        ...card,\r\n        Shared: false,\r\n      },\r\n    });\r\n  }\r\n\r\n  DeleteCreditCard(cardID: string) {\r\n    return this.post({\r\n      BuyerID: this.appConfig.appname,\r\n      TransactionType: 'deleteCreditCard',\r\n      CardDetails: {\r\n        CreditCardID: cardID,\r\n        Shared: false,\r\n      },\r\n    });\r\n  }\r\n\r\n  private AuthorizeCardOnOrder(\r\n    order: Order,\r\n    card: CreateCardDetails\r\n  ): Observable<AuthorizeCardSuccess> {\r\n    return this.post({\r\n      BuyerID: this.appConfig.appname,\r\n      OrderID: order.ID,\r\n      OrderDirection: 'outgoing',\r\n      Amount: order.Total,\r\n      TransactionType: 'authOnlyTransaction',\r\n      CardDetails: {\r\n        ...card,\r\n        Shared: false,\r\n      },\r\n    });\r\n  }\r\n\r\n  /**\r\n   * The CaptureTransaction() method should remain commented out until Jeff confirms that the OC Auth.net integration is production-ready.\r\n   *\r\n\r\n  CaptureTransaction(orderId: string, paymentId: string) {\r\n    return this.post({\r\n      BuyerID: this.appConfig.appname,\r\n      OrderID: orderId,\r\n      OrderDirection: 'outgoing',\r\n      TransactionType: 'priorAuthCaptureTransaction',\r\n      CardDetails: {\r\n        PaymentID: paymentId\r\n      }\r\n    });\r\n  }\r\n\r\n  */\r\n\r\n  /**\r\n    The OC API integration with Authorize.Net is still working through some bugs. One involves existing Payments.\r\n    This function wraps AuthorizeCardOnOrder() with the calls needed to work around this bug.\r\n  */\r\n  AuthorizeCard(\r\n    order: Order,\r\n    card: CreateCardDetails,\r\n    existingPayment: Payment\r\n  ): Observable<AuthorizeCardSuccess> {\r\n    if (!existingPayment) {\r\n      return this.AuthorizeCardOnOrder(order, card);\r\n    }\r\n\r\n    return this.ocPaymentService\r\n      .Delete('outgoing', order.ID, existingPayment.ID)\r\n      .pipe(flatMap(() => this.AuthorizeCardOnOrder(order, card)));\r\n  }\r\n\r\n  /**\r\n    Use AuthorizeAnonymousCard() for anonymous shoppers.\r\n    These cards' non-sensitive details are not saved to a user, because no user exists.\r\n    Instead they must be saved on the order xp.\r\n  */\r\n  AuthorizeAnonymousCard(\r\n    order: Order,\r\n    card: CreateCardDetails,\r\n    existingPayment: Payment\r\n  ): Observable<Order> {\r\n    return this.AuthorizeCard(order, card, existingPayment).pipe(\r\n      flatMap(() =>\r\n        this.ocOrderService.Patch('outgoing', order.ID, {\r\n          xp: { cardDetails: this.mapToNonSensitive(card) },\r\n        })\r\n      )\r\n    );\r\n  }\r\n\r\n  getCardType(cardNumber: string): string {\r\n    if (!cardNumber) {\r\n      return null;\r\n    }\r\n\r\n    for (const type in this.acceptedCards) {\r\n      if (this.acceptedCards.hasOwnProperty(type)) {\r\n        if (this.acceptedCards[type].test(cardNumber)) {\r\n          return type;\r\n        }\r\n      }\r\n    }\r\n    throw Error('Card number does not match accepted credit card companies');\r\n  }\r\n\r\n  mapToNonSensitive(card: CreateCardDetails): BuyerCreditCard {\r\n    return {\r\n      CardType: this.getCardType(card.CardNumber),\r\n      PartialAccountNumber: card.CardNumber.slice(-4),\r\n      CardholderName: card.CardholderName,\r\n      ExpirationDate: card.ExpirationDate,\r\n    };\r\n  }\r\n}\r\n","// angular\r\nimport { Injectable, Inject } from '@angular/core';\r\n\r\n// third party\r\nimport { Observable, of, forkJoin } from 'rxjs';\r\nimport { map, flatMap, tap } from 'rxjs/operators';\r\nimport {\r\n  OcMeService,\r\n  MeUser,\r\n  Order,\r\n  OcOrderService,\r\n  OcTokenService,\r\n  ListLineItem,\r\n  LineItem,\r\n} from '@ordercloud/angular-sdk';\r\nimport { CartService } from 'src/app/shared/services/cart/cart.service';\r\nimport { AppStateService } from 'src/app/shared/services/app-state/app-state.service';\r\nimport * as jwtDecode from 'jwt-decode';\r\nimport { isUndefined as _isUndefined } from 'lodash';\r\n\r\n// app\r\nimport { applicationConfiguration, AppConfig } from 'src/app/config/app.config';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class BaseResolveService {\r\n  constructor(\r\n    private appStateService: AppStateService,\r\n    private ocMeService: OcMeService,\r\n    private cartService: CartService,\r\n    private ocOrderService: OcOrderService,\r\n    private ocTokenService: OcTokenService,\r\n    @Inject(applicationConfiguration) private appConfig: AppConfig\r\n  ) {}\r\n\r\n  private setCurrentUser(): Observable<MeUser> {\r\n    return this.ocMeService.Get();\r\n  }\r\n\r\n  private setCurrentOrder(): Observable<Order> {\r\n    return this.ocMeService\r\n      .ListOrders({\r\n        sortBy: '!DateCreated',\r\n        filters: { status: 'Unsubmitted' },\r\n      })\r\n      .pipe(\r\n        map((orderList) => orderList.Items[0]),\r\n        flatMap((existingOrder) => {\r\n          if (existingOrder) {\r\n            return of(existingOrder);\r\n          }\r\n          if (this.appConfig.anonymousShoppingEnabled) {\r\n            // only create anon order when line item is added\r\n            const orderID = this.getOrderIDFromToken();\r\n            const anonOrder = <Order>{ ID: orderID };\r\n            return of(anonOrder);\r\n          }\r\n          return this.ocOrderService.Create('outgoing', {});\r\n        })\r\n      );\r\n  }\r\n\r\n  private setLineItems(): Observable<ListLineItem> {\r\n    const order = this.appStateService.orderSubject.value;\r\n    if (order.DateCreated) {\r\n      return this.cartService.listAllItems(order.ID);\r\n    }\r\n    const lineitemlist = {\r\n      Meta: { Page: 1, PageSize: 25, TotalCount: 0, TotalPages: 1 },\r\n      Items: [],\r\n    };\r\n    return of(lineitemlist);\r\n  }\r\n\r\n  // Used by BaseResolve when app first loads, at login and at logout\r\n  // auth guards have confirmed at this point a token exists\r\n  setUser(): Observable<any> {\r\n    const isAnon = this.isAnon();\r\n    this.appStateService.isAnonSubject.next(isAnon);\r\n    const prevLineItems = this.appStateService.lineItemSubject.value;\r\n    const transferCart =\r\n      !isAnon && // user is now logged in\r\n      this.appStateService.isAnonSubject.value && // previously, user was anonymous\r\n      prevLineItems.Items.length > 0; // previously, user added to cart\r\n    return forkJoin([this.setCurrentUser(), this.setCurrentOrder()]).pipe(\r\n      tap((res) => {\r\n        // Pushes data to subscribers\r\n        this.appStateService.userSubject.next(res[0]);\r\n        this.appStateService.orderSubject.next(res[1]);\r\n      }),\r\n      flatMap(() => {\r\n        return transferCart\r\n          ? this.transferAnonymousCart(prevLineItems)\r\n          : of(null);\r\n      }),\r\n      flatMap(() => {\r\n        return this.setLineItems();\r\n      }),\r\n      tap((res) => {\r\n        this.appStateService.lineItemSubject.next(res);\r\n      })\r\n    );\r\n  }\r\n\r\n  isAnon() {\r\n    return !_isUndefined(this.getOrderIDFromToken());\r\n  }\r\n\r\n  getOrderIDFromToken(): string | void {\r\n    return jwtDecode(this.ocTokenService.GetAccess()).orderid;\r\n  }\r\n\r\n  transferAnonymousCart(anonLineItems: ListLineItem): Observable<LineItem[]> {\r\n    const requests = anonLineItems.Items.map((li) =>\r\n      this.cartService.addToCart(li.xp.product, li.Quantity)\r\n    );\r\n\r\n    return forkJoin(requests);\r\n  }\r\n\r\n  resetUser(): void {\r\n    this.setUser().subscribe();\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  OcLineItemService,\r\n  ListLineItem,\r\n  LineItem,\r\n  OcOrderService,\r\n  Order,\r\n  LineItemSpec,\r\n} from '@ordercloud/angular-sdk';\r\nimport { AppStateService } from 'src/app/shared/services/app-state/app-state.service';\r\nimport { Observable, of, forkJoin } from 'rxjs';\r\nimport { tap, flatMap, map } from 'rxjs/operators';\r\nimport {\r\n  isUndefined as _isUndefined,\r\n  flatMap as _flatMap,\r\n  get as _get,\r\n  isEqual as _isEqual,\r\n} from 'lodash';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class CartService {\r\n  private initializingOrder = false;\r\n  private currentOrder: Order;\r\n\r\n  constructor(\r\n    private appStateService: AppStateService,\r\n    private ocLineItemService: OcLineItemService,\r\n    private ocOrderService: OcOrderService\r\n  ) {\r\n    this.appStateService.orderSubject.subscribe((order) => {\r\n      this.currentOrder = order;\r\n    });\r\n  }\r\n\r\n  listAllItems(orderID: string): Observable<ListLineItem> {\r\n    const options = {\r\n      page: 1,\r\n      pageSize: 100, // The maximum # of records an OC request can return.\r\n    };\r\n    return this.ocLineItemService.List('outgoing', orderID, options).pipe(\r\n      flatMap((list) => {\r\n        if (list.Meta.TotalPages <= 1) {\r\n          return of(list);\r\n        }\r\n        // If more than 100 exist, request all the remaining pages.\r\n        const requests = new Array(list.Meta.TotalPages - 1).map(() => {\r\n          options.page++;\r\n          return this.ocLineItemService.List('outgoing', orderID, options);\r\n        });\r\n        return forkJoin(requests).pipe(\r\n          map((res: ListLineItem[]) => {\r\n            const rest = _flatMap(res, (x) => x.Items);\r\n            return { Items: list.Items.concat(rest), Meta: list.Meta };\r\n          })\r\n        );\r\n      })\r\n    );\r\n  }\r\n\r\n  buildSpecList(lineItem: LineItem): string {\r\n    if (lineItem.Specs.length === 0) return '';\r\n    const list = lineItem.Specs.map((spec) => spec.Value).join(', ');\r\n    return `(${list})`;\r\n  }\r\n\r\n  removeItem(lineItemID: string) {\r\n    return this.ocLineItemService\r\n      .Delete('outgoing', this.currentOrder.ID, lineItemID)\r\n      .pipe(tap(() => this.updateAppState()));\r\n  }\r\n\r\n  updateQuantity(\r\n    lineItemID: string,\r\n    newQuantity: number\r\n  ): Observable<LineItem> {\r\n    return this.ocLineItemService\r\n      .Patch('outgoing', this.currentOrder.ID, lineItemID, {\r\n        Quantity: newQuantity,\r\n      })\r\n      .pipe(tap(() => this.updateAppState()));\r\n  }\r\n\r\n  addToCart(\r\n    productID: string,\r\n    quantity: number,\r\n    specs: LineItemSpec[] = []\r\n  ): Observable<LineItem> {\r\n    const newLineItem: LineItem = {\r\n      ProductID: productID,\r\n      Quantity: quantity,\r\n      Specs: specs,\r\n    };\r\n    // order is well defined, line item can be added\r\n    if (!_isUndefined(this.currentOrder.DateCreated)) {\r\n      return this.addLineItem(newLineItem);\r\n    }\r\n    // this is the first line item call - initialize order first\r\n    if (!this.initializingOrder) {\r\n      this.initializingOrder = true;\r\n      return this.ocOrderService.Create('outgoing', {}).pipe(\r\n        flatMap((newOrder) => {\r\n          this.initializingOrder = false;\r\n          this.appStateService.orderSubject.next(newOrder);\r\n          return this.addLineItem(newLineItem);\r\n        })\r\n      );\r\n    }\r\n    // initializing order - wait until its done\r\n    return this.appStateService.orderSubject.pipe(\r\n      flatMap((newOrder) => {\r\n        if (newOrder.ID) {\r\n          return this.addLineItem(newLineItem);\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  private addLineItem(newLI: LineItem): Observable<LineItem> {\r\n    const lineItems = this.appStateService.lineItemSubject.value;\r\n    // if line item exists simply update quantity, else create\r\n    const existingLI = lineItems.Items.find((li) =>\r\n      this.LineItemsMatch(li, newLI)\r\n    );\r\n\r\n    newLI.Quantity += _get(existingLI, 'Quantity', 0);\r\n    const request = existingLI\r\n      ? this.ocLineItemService.Patch(\r\n          'outgoing',\r\n          this.currentOrder.ID,\r\n          existingLI.ID,\r\n          newLI\r\n        )\r\n      : this.ocLineItemService.Create('outgoing', this.currentOrder.ID, newLI);\r\n    return request.pipe(tap(() => this.updateAppState()));\r\n  }\r\n\r\n  private updateAppState() {\r\n    forkJoin([\r\n      this.ocOrderService.Get('outgoing', this.currentOrder.ID),\r\n      this.listAllItems(this.currentOrder.ID),\r\n    ]).subscribe((res) => {\r\n      this.appStateService.orderSubject.next(res[0]);\r\n      this.appStateService.lineItemSubject.next(res[1]);\r\n    });\r\n  }\r\n\r\n  // product ID and specs must be the same\r\n  private LineItemsMatch(li1: LineItem, li2: LineItem): boolean {\r\n    return li1.ProductID === li2.ProductID && _isEqual(li1.Specs, li2.Specs);\r\n  }\r\n}\r\n","import { Injectable, Inject } from '@angular/core';\r\nimport { OcMeService, BuyerProduct, Order } from '@ordercloud/angular-sdk';\r\nimport { AppStateService } from 'src/app/shared';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\nabstract class FavoritesService<T extends { ID?: string }> {\r\n  protected abstract readonly XpFieldName: string;\r\n  protected abstract readonly TypeDisplayName: string;\r\n  // All OrderCloud xp objects are limited to 8000 chars. With guid's of length ~24, 40 favorites is ~1000 chars.\r\n  private readonly MaxFavorites: number = 40;\r\n\r\n  constructor(\r\n    private appStateService: AppStateService,\r\n    private ocMeService: OcMeService,\r\n    private toastrService: ToastrService\r\n  ) {}\r\n\r\n  isFavorite(object: T): boolean {\r\n    const favorites = this.getFavorites();\r\n    return favorites.includes(object.ID);\r\n  }\r\n\r\n  setFavoriteValue(isFav: boolean, object: T): void {\r\n    const favorites = this.getFavorites();\r\n    let updatedFavorites: string[];\r\n    if (isFav && favorites.length >= this.MaxFavorites) {\r\n      this.toastrService.info(\r\n        `You have reached your limit of favorite ${this.TypeDisplayName}`\r\n      );\r\n      return;\r\n    }\r\n    if (isFav) {\r\n      updatedFavorites = [...favorites, object.ID];\r\n    } else {\r\n      updatedFavorites = favorites.filter((x) => x !== object.ID);\r\n    }\r\n    const request = { xp: {} };\r\n    request.xp[this.XpFieldName] = updatedFavorites;\r\n    this.ocMeService.Patch(request).subscribe((me) => {\r\n      this.appStateService.userSubject.next(me);\r\n    });\r\n  }\r\n\r\n  getFavorites(): string[] {\r\n    const me = this.appStateService.userSubject.value;\r\n    return me.xp && me.xp[this.XpFieldName] instanceof Array\r\n      ? me.xp[this.XpFieldName]\r\n      : [];\r\n  }\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class FavoriteProductsService extends FavoritesService<BuyerProduct> {\r\n  protected readonly XpFieldName = 'FavoriteProducts';\r\n  protected readonly TypeDisplayName = 'products';\r\n\r\n  constructor(\r\n    @Inject(AppStateService) appStateService: AppStateService,\r\n    @Inject(OcMeService) ocMeService: OcMeService,\r\n    @Inject(ToastrService) toastrService: ToastrService\r\n  ) {\r\n    super(appStateService, ocMeService, toastrService);\r\n  }\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class FavoriteOrdersService extends FavoritesService<Order> {\r\n  protected readonly XpFieldName = 'FavoriteOrders';\r\n  protected readonly TypeDisplayName = 'orders';\r\n\r\n  constructor(\r\n    @Inject(AppStateService) appStateService: AppStateService,\r\n    @Inject(OcMeService) ocMeService: OcMeService,\r\n    @Inject(ToastrService) toastrService: ToastrService\r\n  ) {\r\n    super(appStateService, ocMeService, toastrService);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { FormControl, FormGroup, AbstractControl } from '@angular/forms';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AppFormErrorService {\r\n  displayFormErrors(form: FormGroup) {\r\n    Object.keys(form.controls).forEach((key) => {\r\n      form.get(key).markAsDirty();\r\n    });\r\n  }\r\n\r\n  hasInvalidEmailError(input: FormControl | AbstractControl): boolean {\r\n    return (\r\n      (input.hasError('required') || input.hasError('email')) && input.dirty\r\n    );\r\n  }\r\n\r\n  hasPasswordMismatchError(form: FormGroup) {\r\n    return form.hasError('ocMatchFields');\r\n  }\r\n\r\n  hasRequiredError(controlName: string, form: FormGroup) {\r\n    return (\r\n      form.get(controlName).hasError('required') && form.get(controlName).dirty\r\n    );\r\n  }\r\n\r\n  hasDateError(controlName: string, form: FormGroup) {\r\n    return (\r\n      form.get(controlName).hasError('DateError') && form.get(controlName).dirty\r\n    );\r\n  }\r\n\r\n  hasPatternError(controlName: string, form: FormGroup) {\r\n    return (\r\n      form.get(controlName).hasError('pattern') && form.get(controlName).dirty\r\n    );\r\n  }\r\n\r\n  getProductQuantityError(\r\n    controlName: string,\r\n    form: FormGroup\r\n  ): { message: string; outOfStock: boolean } {\r\n    // don't check if dirty because outOfStock error message should show right away.\r\n    return form.get(controlName).getError('ProductQuantityError');\r\n  }\r\n\r\n  hasStrongPasswordError(controlName: string, form: FormGroup) {\r\n    return form.get(controlName).hasError('strongPassword');\r\n  }\r\n\r\n  hasMinLengthError(controlName: string, form: FormGroup) {\r\n    return (\r\n      form.get(controlName).hasError('minlength') && form.get(controlName).dirty\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  StateDefinition,\r\n  CountryDefinition,\r\n} from 'src/app/shared/services/geography/geography.models';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AppGeographyService {\r\n  private states: StateDefinition[] = [\r\n    { label: 'Alabama', abbreviation: 'AL', country: 'US' },\r\n    { label: 'Alaska', abbreviation: 'AK', country: 'US' },\r\n    { label: 'Arizona', abbreviation: 'AZ', country: 'US' },\r\n    { label: 'Arkansas', abbreviation: 'AR', country: 'US' },\r\n    { label: 'California', abbreviation: 'CA', country: 'US' },\r\n    { label: 'Colorado', abbreviation: 'CO', country: 'US' },\r\n    { label: 'Connecticut', abbreviation: 'CT', country: 'US' },\r\n    { label: 'Delaware', abbreviation: 'DE', country: 'US' },\r\n    { label: 'District of Columbia', abbreviation: 'DC', country: 'US' },\r\n    { label: 'Florida', abbreviation: 'FL', country: 'US' },\r\n    { label: 'Georgia', abbreviation: 'GA', country: 'US' },\r\n    { label: 'Hawaii', abbreviation: 'HI', country: 'US' },\r\n    { label: 'Idaho', abbreviation: 'ID', country: 'US' },\r\n    { label: 'Illinois', abbreviation: 'IL', country: 'US' },\r\n    { label: 'Indiana', abbreviation: 'IN', country: 'US' },\r\n    { label: 'Iowa', abbreviation: 'IA', country: 'US' },\r\n    { label: 'Kansas', abbreviation: 'KS', country: 'US' },\r\n    { label: 'Kentucky', abbreviation: 'KY', country: 'US' },\r\n    { label: 'Louisiana', abbreviation: 'LA', country: 'US' },\r\n    { label: 'Maine', abbreviation: 'ME', country: 'US' },\r\n    { label: 'Maryland', abbreviation: 'MD', country: 'US' },\r\n    { label: 'Massachusetts', abbreviation: 'MA', country: 'US' },\r\n    { label: 'Michigan', abbreviation: 'MI', country: 'US' },\r\n    { label: 'Minnesota', abbreviation: 'MN', country: 'US' },\r\n    { label: 'Mississippi', abbreviation: 'MS', country: 'US' },\r\n    { label: 'Missouri', abbreviation: 'MO', country: 'US' },\r\n    { label: 'Montana', abbreviation: 'MT', country: 'US' },\r\n    { label: 'Nebraska', abbreviation: 'NE', country: 'US' },\r\n    { label: 'Nevada', abbreviation: 'NV', country: 'US' },\r\n    { label: 'New Hampshire', abbreviation: 'NH', country: 'US' },\r\n    { label: 'New Jersey', abbreviation: 'NJ', country: 'US' },\r\n    { label: 'New Mexico', abbreviation: 'NM', country: 'US' },\r\n    { label: 'New York', abbreviation: 'NY', country: 'US' },\r\n    { label: 'North Carolina', abbreviation: 'NC', country: 'US' },\r\n    { label: 'North Dakota', abbreviation: 'ND', country: 'US' },\r\n    { label: 'Ohio', abbreviation: 'OH', country: 'US' },\r\n    { label: 'Oklahoma', abbreviation: 'OK', country: 'US' },\r\n    { label: 'Oregon', abbreviation: 'OR', country: 'US' },\r\n    { label: 'Pennsylvania', abbreviation: 'PA', country: 'US' },\r\n    { label: 'Rhode Island', abbreviation: 'RI', country: 'US' },\r\n    { label: 'South Carolina', abbreviation: 'SC', country: 'US' },\r\n    { label: 'South Dakota', abbreviation: 'SD', country: 'US' },\r\n    { label: 'Tennessee', abbreviation: 'TN', country: 'US' },\r\n    { label: 'Texas', abbreviation: 'TX', country: 'US' },\r\n    { label: 'Utah', abbreviation: 'UT', country: 'US' },\r\n    { label: 'Vermont', abbreviation: 'VT', country: 'US' },\r\n    { label: 'Virginia', abbreviation: 'VA', country: 'US' },\r\n    { label: 'Washington', abbreviation: 'WA', country: 'US' },\r\n    { label: 'West Virginia', abbreviation: 'WV', country: 'US' },\r\n    { label: 'Wisconsin', abbreviation: 'WI', country: 'US' },\r\n    { label: 'Wyoming', abbreviation: 'WY', country: 'US' },\r\n    {\r\n      label: 'Armed Forces Americas (AA)',\r\n      abbreviation: 'AA',\r\n      country: 'US',\r\n    },\r\n    {\r\n      label: 'Armed Forces Africa/Canada/Europe/Middle East (AE)',\r\n      abbreviation: 'AE',\r\n      country: 'US',\r\n    },\r\n    { label: 'Armed Forces Pacific (AP)', abbreviation: 'AP', country: 'US' },\r\n    { label: 'American Samoa', abbreviation: 'AS', country: 'US' },\r\n    {\r\n      label: 'Federated States of Micronesia',\r\n      abbreviation: 'FM',\r\n      country: 'US',\r\n    },\r\n    { label: 'Guam', abbreviation: 'GU', country: 'US' },\r\n    { label: 'Marshall Islands', abbreviation: 'MH', country: 'US' },\r\n    { label: 'Northern Mariana Islands', abbreviation: 'MP', country: 'US' },\r\n    { label: 'Palau', abbreviation: 'PW', country: 'US' },\r\n    { label: 'Puerto Rico', abbreviation: 'PR', country: 'US' },\r\n    { label: 'Virgin Islands', abbreviation: 'VI', country: 'US' },\r\n    { label: 'Alberta', abbreviation: 'AB', country: 'CA' },\r\n    { label: 'British Columbia', abbreviation: 'BC', country: 'CA' },\r\n    { label: 'Manitoba', abbreviation: 'MB', country: 'CA' },\r\n    { label: 'New Brunswick', abbreviation: 'NB', country: 'CA' },\r\n    { label: 'Newfoundland and Labrador', abbreviation: 'NL', country: 'CA' },\r\n    { label: 'Northwest Territories', abbreviation: 'NT', country: 'CA' },\r\n    { label: 'Nova Scotia', abbreviation: 'NS', country: 'CA' },\r\n    { label: 'Nunavut', abbreviation: 'NU', country: 'CA' },\r\n    { label: 'Ontario', abbreviation: 'ON', country: 'CA' },\r\n    { label: 'Prince Edward Island', abbreviation: 'PE', country: 'CA' },\r\n    { label: 'Quebec', abbreviation: 'QC', country: 'CA' },\r\n    { label: 'Saskatchewan', abbreviation: 'SK', country: 'CA' },\r\n    { label: 'Yukon', abbreviation: 'YT', country: 'CA' },\r\n  ];\r\n\r\n  getStates(countryCode): StateDefinition[] {\r\n    return this.states.filter((state) => state.country === countryCode);\r\n  }\r\n\r\n  getCountries(): CountryDefinition[] {\r\n    return [\r\n      { label: 'United States of America', abbreviation: 'US' },\r\n      { label: 'Afghanistan', abbreviation: 'AF' },\r\n      { label: 'Åland Islands', abbreviation: 'AX' },\r\n      { label: 'Albania', abbreviation: 'AL' },\r\n      { label: 'Algeria', abbreviation: 'DZ' },\r\n      { label: 'American Samoa', abbreviation: 'AS' },\r\n      { label: 'Andorra', abbreviation: 'AD' },\r\n      { label: 'Angola', abbreviation: 'AO' },\r\n      { label: 'Anguilla', abbreviation: 'AI' },\r\n      { label: 'Antarctica', abbreviation: 'AQ' },\r\n      { label: 'Antigua and Barbuda', abbreviation: 'AG' },\r\n      { label: 'Argentina', abbreviation: 'AR' },\r\n      { label: 'Armenia', abbreviation: 'AM' },\r\n      { label: 'Aruba', abbreviation: 'AW' },\r\n      { label: 'Australia', abbreviation: 'AU' },\r\n      { label: 'Austria', abbreviation: 'AT' },\r\n      { label: 'Azerbaijan', abbreviation: 'AZ' },\r\n      { label: 'Bahamas', abbreviation: 'BS' },\r\n      { label: 'Bahrain', abbreviation: 'BH' },\r\n      { label: 'Bangladesh', abbreviation: 'BD' },\r\n      { label: 'Barbados', abbreviation: 'BB' },\r\n      { label: 'Belarus', abbreviation: 'BY' },\r\n      { label: 'Belgium', abbreviation: 'BE' },\r\n      { label: 'Belize', abbreviation: 'BZ' },\r\n      { label: 'Benin', abbreviation: 'BJ' },\r\n      { label: 'Bermuda', abbreviation: 'BM' },\r\n      { label: 'Bhutan', abbreviation: 'BT' },\r\n      { label: 'Bolivia', abbreviation: 'BO' },\r\n      { label: 'Bosnia and Herzegovina', abbreviation: 'BA' },\r\n      { label: 'Botswana', abbreviation: 'BW' },\r\n      { label: 'Bouvet Island', abbreviation: 'BV' },\r\n      { label: 'Brazil', abbreviation: 'BR' },\r\n      { label: 'British Indian Ocean Territory', abbreviation: 'IO' },\r\n      { label: 'Brunei Darussalam', abbreviation: 'BN' },\r\n      { label: 'Bulgaria', abbreviation: 'BG' },\r\n      { label: 'Burkina Faso', abbreviation: 'BF' },\r\n      { label: 'Burundi', abbreviation: 'BI' },\r\n      { label: 'Cambodia', abbreviation: 'KH' },\r\n      { label: 'Cameroon', abbreviation: 'CM' },\r\n      { label: 'Canada', abbreviation: 'CA' },\r\n      { label: 'Cape Verde', abbreviation: 'CV' },\r\n      { label: 'Cayman Islands', abbreviation: 'KY' },\r\n      { label: 'Central African Republic', abbreviation: 'CF' },\r\n      { label: 'Chad', abbreviation: 'TD' },\r\n      { label: 'Chile', abbreviation: 'CL' },\r\n      { label: 'China', abbreviation: 'CN' },\r\n      { label: 'Christmas Island Australia', abbreviation: 'CX' },\r\n      { label: 'Cocos Keeling Islands', abbreviation: 'CC' },\r\n      { label: 'Colombia', abbreviation: 'CO' },\r\n      { label: 'Comoros', abbreviation: 'KM' },\r\n      { label: 'Congo', abbreviation: 'CG' },\r\n      { label: 'Congo, D.R.', abbreviation: 'CD' },\r\n      { label: 'Cook Islands', abbreviation: 'CK' },\r\n      { label: 'Costa Rica', abbreviation: 'CR' },\r\n      { label: \"Cote D'Ivoire Ivory Coast\", abbreviation: 'CI' },\r\n      { label: 'Croatia Hrvatska', abbreviation: 'HR' },\r\n      { label: 'Cuba', abbreviation: 'CU' },\r\n      { label: 'Cyprus', abbreviation: 'CY' },\r\n      { label: 'Czech Republic', abbreviation: 'CZ' },\r\n      { label: 'Denmark', abbreviation: 'DK' },\r\n      { label: 'Djibouti', abbreviation: 'DJ' },\r\n      { label: 'Dominica', abbreviation: 'DM' },\r\n      { label: 'Dominican Republic', abbreviation: 'DO' },\r\n      { label: 'Ecuador', abbreviation: 'EC' },\r\n      { label: 'Egypt', abbreviation: 'EG' },\r\n      { label: 'El Salvador', abbreviation: 'SV' },\r\n      { label: 'Equatorial Guinea', abbreviation: 'GQ' },\r\n      { label: 'Eritrea', abbreviation: 'ER' },\r\n      { label: 'Estonia', abbreviation: 'EE' },\r\n      { label: 'Ethiopia', abbreviation: 'ET' },\r\n      { label: 'Faeroe Islands', abbreviation: 'FO' },\r\n      { label: 'Falkland Islands Malvinas', abbreviation: 'FK' },\r\n      { label: 'Fiji', abbreviation: 'FJ' },\r\n      { label: 'Finland', abbreviation: 'FI' },\r\n      { label: 'France', abbreviation: 'FR' },\r\n      { label: 'France, Metropolitan', abbreviation: 'FX' },\r\n      { label: 'French Guiana', abbreviation: 'GF' },\r\n      { label: 'French Polynesia', abbreviation: 'PF' },\r\n      { label: 'French Southern Territories', abbreviation: 'TF' },\r\n      { label: 'Gabon', abbreviation: 'GA' },\r\n      { label: 'Gambia', abbreviation: 'GM' },\r\n      { label: 'Georgia', abbreviation: 'GE' },\r\n      { label: 'Germany', abbreviation: 'DE' },\r\n      { label: 'Ghana', abbreviation: 'GH' },\r\n      { label: 'Gibraltar', abbreviation: 'GI' },\r\n      { label: 'Greece', abbreviation: 'GR' },\r\n      { label: 'Greenland', abbreviation: 'GL' },\r\n      { label: 'Grenada', abbreviation: 'GD' },\r\n      { label: 'Guadeloupe', abbreviation: 'GP' },\r\n      { label: 'Guam', abbreviation: 'GU' },\r\n      { label: 'Guatemala', abbreviation: 'GT' },\r\n      { label: 'Guinea', abbreviation: 'GN' },\r\n      { label: 'Guinea Bissau', abbreviation: 'GW' },\r\n      { label: 'Guyana', abbreviation: 'GY' },\r\n      { label: 'Haiti', abbreviation: 'HT' },\r\n      { label: 'Heard and McDonald Is.', abbreviation: 'HM' },\r\n      { label: 'Honduras', abbreviation: 'HN' },\r\n      { label: 'Hong Kong', abbreviation: 'HK' },\r\n      { label: 'Hungary', abbreviation: 'HU' },\r\n      { label: 'Iceland', abbreviation: 'IS' },\r\n      { label: 'India', abbreviation: 'IN' },\r\n      { label: 'Indonesia', abbreviation: 'ID' },\r\n      { label: 'Iran', abbreviation: 'IR' },\r\n      { label: 'Iraq', abbreviation: 'IQ' },\r\n      { label: 'Isle of Man', abbreviation: 'IM' },\r\n      { label: 'Ireland', abbreviation: 'IE' },\r\n      { label: 'Israel', abbreviation: 'IL' },\r\n      { label: 'Italy', abbreviation: 'IT' },\r\n      { label: 'Jamaica', abbreviation: 'JM' },\r\n      { label: 'Japan', abbreviation: 'JP' },\r\n      { label: 'Jersey', abbreviation: 'JE' },\r\n      { label: 'Jordan', abbreviation: 'JO' },\r\n      { label: 'Kazakhstan', abbreviation: 'KZ' },\r\n      { label: 'Kenya', abbreviation: 'KE' },\r\n      { label: 'Kiribati', abbreviation: 'KI' },\r\n      { label: 'Korea North', abbreviation: 'KP' },\r\n      { label: 'Korea South', abbreviation: 'KR' },\r\n      { label: 'Kuwait', abbreviation: 'KW' },\r\n      { label: 'Kyrgyzstan', abbreviation: 'KG' },\r\n      { label: 'Lao P.Dem.R.', abbreviation: 'LA' },\r\n      { label: 'Latvia', abbreviation: 'LV' },\r\n      { label: 'Lebanon', abbreviation: 'LB' },\r\n      { label: 'Lesotho', abbreviation: 'LS' },\r\n      { label: 'Liberia', abbreviation: 'LR' },\r\n      { label: 'Libyan Arab Jamahiriya', abbreviation: 'LY' },\r\n      { label: 'Liechtenstein', abbreviation: 'LI' },\r\n      { label: 'Lithuania', abbreviation: 'LT' },\r\n      { label: 'Luxembourg', abbreviation: 'LU' },\r\n      { label: 'Macau', abbreviation: 'MO' },\r\n      { label: 'Macedonia', abbreviation: 'MK' },\r\n      { label: 'Madagascar', abbreviation: 'MG' },\r\n      { label: 'Malawi', abbreviation: 'MW' },\r\n      { label: 'Malaysia', abbreviation: 'MY' },\r\n      { label: 'Maldives', abbreviation: 'MV' },\r\n      { label: 'Mali', abbreviation: 'ML' },\r\n      { label: 'Malta', abbreviation: 'MT' },\r\n      { label: 'Marshall Islands', abbreviation: 'MH' },\r\n      { label: 'Martinique', abbreviation: 'MQ' },\r\n      { label: 'Mauritania', abbreviation: 'MR' },\r\n      { label: 'Mauritius', abbreviation: 'MU' },\r\n      { label: 'Mayotte', abbreviation: 'YT' },\r\n      { label: 'Mexico', abbreviation: 'MX' },\r\n      { label: 'Micronesia', abbreviation: 'FM' },\r\n      { label: 'Moldova', abbreviation: 'MD' },\r\n      { label: 'Monaco', abbreviation: 'MC' },\r\n      { label: 'Mongolia', abbreviation: 'MN' },\r\n      { label: 'Montenegro', abbreviation: 'ME' },\r\n      { label: 'Montserrat', abbreviation: 'MS' },\r\n      { label: 'Morocco', abbreviation: 'MA' },\r\n      { label: 'Mozambique', abbreviation: 'MZ' },\r\n      { label: 'Myanmar', abbreviation: 'MM' },\r\n      { label: 'Namibia', abbreviation: 'NA' },\r\n      { label: 'Nauru', abbreviation: 'NR' },\r\n      { label: 'Nepal', abbreviation: 'NP' },\r\n      { label: 'Netherlands', abbreviation: 'NL' },\r\n      { label: 'Netherlands Antilles', abbreviation: 'AN' },\r\n      { label: 'New Caledonia', abbreviation: 'NC' },\r\n      { label: 'New Zealand', abbreviation: 'NZ' },\r\n      { label: 'Nicaragua', abbreviation: 'NI' },\r\n      { label: 'Niger', abbreviation: 'NE' },\r\n      { label: 'Nigeria', abbreviation: 'NG' },\r\n      { label: 'Niue', abbreviation: 'NU' },\r\n      { label: 'Norfolk Island', abbreviation: 'NF' },\r\n      { label: 'Northern Mariana Islands', abbreviation: 'MP' },\r\n      { label: 'Norway', abbreviation: 'NO' },\r\n      { label: 'Oman', abbreviation: 'OM' },\r\n      { label: 'Pakistan', abbreviation: 'PK' },\r\n      { label: 'Palau', abbreviation: 'PW' },\r\n      { label: 'Palestinian Territory, Occupied', abbreviation: 'PS' },\r\n      { label: 'Panama', abbreviation: 'PA' },\r\n      { label: 'Papua New Guinea', abbreviation: 'PG' },\r\n      { label: 'Paraguay', abbreviation: 'PY' },\r\n      { label: 'Peru', abbreviation: 'PE' },\r\n      { label: 'Philippines', abbreviation: 'PH' },\r\n      { label: 'Pitcairn', abbreviation: 'PN' },\r\n      { label: 'Poland', abbreviation: 'PL' },\r\n      { label: 'Portugal', abbreviation: 'PT' },\r\n      { label: 'Puerto Rico', abbreviation: 'PR' },\r\n      { label: 'Qatar', abbreviation: 'QA' },\r\n      { label: 'Reunion', abbreviation: 'RE' },\r\n      { label: 'Romania', abbreviation: 'RO' },\r\n      { label: 'Russian Federation', abbreviation: 'RU' },\r\n      { label: 'Rwanda', abbreviation: 'RW' },\r\n      { label: 'Saint Helena', abbreviation: 'SH' },\r\n      { label: 'Saint Kitts and Nevis', abbreviation: 'KN' },\r\n      { label: 'Saint Lucia', abbreviation: 'LC' },\r\n      { label: 'Saint Pierre and Miquelon', abbreviation: 'PM' },\r\n      { label: 'Saint Vincent and the Grenadines', abbreviation: 'VC' },\r\n      { label: 'Samoa', abbreviation: 'WS' },\r\n      { label: 'San Marino', abbreviation: 'SM' },\r\n      { label: 'Sao Tome and Principe', abbreviation: 'ST' },\r\n      { label: 'Saudi Arabia', abbreviation: 'SA' },\r\n      { label: 'Senegal', abbreviation: 'SN' },\r\n      { label: 'Serbia', abbreviation: 'RS' },\r\n      { label: 'Seychelles', abbreviation: 'SC' },\r\n      { label: 'Sierra Leone', abbreviation: 'SL' },\r\n      { label: 'Singapore', abbreviation: 'SG' },\r\n      { label: 'Slovakia', abbreviation: 'SK' },\r\n      { label: 'Slovenia', abbreviation: 'SI' },\r\n      { label: 'Solomon Islands', abbreviation: 'SB' },\r\n      { label: 'Somalia', abbreviation: 'SO' },\r\n      { label: 'South Africa', abbreviation: 'ZA' },\r\n      { label: 'S. Georgia &amp; S. Sandwich Is.', abbreviation: 'GS' },\r\n      { label: 'Spain', abbreviation: 'ES' },\r\n      { label: 'Sri Lanka', abbreviation: 'LK' },\r\n      { label: 'Sudan', abbreviation: 'SD' },\r\n      { label: 'Suriname', abbreviation: 'SR' },\r\n      { label: 'Svalbard &amp; Jan Mayen Is.', abbreviation: 'SJ' },\r\n      { label: 'Swaziland', abbreviation: 'SZ' },\r\n      { label: 'Sweden', abbreviation: 'SE' },\r\n      { label: 'Switzerland', abbreviation: 'CH' },\r\n      { label: 'Syrian Arab Rep.', abbreviation: 'SY' },\r\n      { label: 'Taiwan', abbreviation: 'TW' },\r\n      { label: 'Tajikistan', abbreviation: 'TJ' },\r\n      { label: 'Tanzania', abbreviation: 'TZ' },\r\n      { label: 'Thailand', abbreviation: 'TH' },\r\n      { label: 'Timor-Leste', abbreviation: 'TG' },\r\n      { label: 'Togo', abbreviation: 'TG' },\r\n      { label: 'Tokelau', abbreviation: 'TK' },\r\n      { label: 'Tonga', abbreviation: 'TO' },\r\n      { label: 'Trinidad and Tobago', abbreviation: 'TT' },\r\n      { label: 'Tunisia', abbreviation: 'TN' },\r\n      { label: 'Turkey', abbreviation: 'TR' },\r\n      { label: 'Turkmenistan', abbreviation: 'TM' },\r\n      { label: 'Turks and Caicos Islands', abbreviation: 'TC' },\r\n      { label: 'Tuvalu', abbreviation: 'TU' },\r\n      { label: 'Uganda', abbreviation: 'UG' },\r\n      { label: 'Ukraine', abbreviation: 'UA' },\r\n      { label: 'United Kingdom', abbreviation: 'GB' },\r\n      { label: 'United Arab Emirates', abbreviation: 'AE' },\r\n      { label: 'US Minor Outlying Is.', abbreviation: 'UM' },\r\n      { label: 'Uruguay', abbreviation: 'UY' },\r\n      { label: 'Uzbekistan', abbreviation: 'UZ' },\r\n      { label: 'Vanuatu', abbreviation: 'VU' },\r\n      { label: 'Vatican City State', abbreviation: 'VC' },\r\n      { label: 'Venezuela', abbreviation: 'VE' },\r\n      { label: 'Viet Nam', abbreviation: 'VN' },\r\n      { label: 'Virgin Islands British', abbreviation: 'VG' },\r\n      { label: 'Virgin Islands US', abbreviation: 'VI' },\r\n      { label: 'Wallis and Futuna Islnds', abbreviation: 'WF' },\r\n      { label: 'Western Sahara', abbreviation: 'EH' },\r\n      { label: 'Yemen', abbreviation: 'YE' },\r\n      { label: 'Yugoslavia', abbreviation: 'YU' },\r\n      { label: 'Zambia', abbreviation: 'ZM' },\r\n      { label: 'Zimbabwe', abbreviation: 'ZW' },\r\n    ];\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ModalService {\r\n  private modals: any[] = [];\r\n\r\n  // The modal can close itself. Subscribe to onCloseSubject in a component if you want to do something when a modal closes.\r\n  // Note that you should filter by the specific modal id involved.\r\n  //\r\n  // this.modalService.onCloseSubject\r\n  //  .pipe(filter((id) => id === this.modalID))\r\n  //  .subscribe(() =>\r\n  //    do something\r\n  //  );\r\n  public onCloseSubject = new Subject<string>();\r\n\r\n  add(modal: any): void {\r\n    // add modal to array of active modals\r\n    this.modals.push(modal);\r\n  }\r\n\r\n  remove(id: string): void {\r\n    // remove modal from array of active modals\r\n    this.modals = this.modals.filter((x) => x.id !== id);\r\n  }\r\n\r\n  open(id: string): void {\r\n    // open modal specified by id\r\n    setTimeout(() => {\r\n      const modal: any = this.modals.filter((x) => x.id === id)[0];\r\n      modal.open();\r\n    });\r\n  }\r\n\r\n  close(id: string): void {\r\n    // close modal specified by id\r\n    setTimeout(() => {\r\n      const modal: any = this.modals.filter((x) => x.id === id)[0];\r\n      if (modal) {\r\n        modal.close();\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\n// These regular expressions are all used for form validation\r\nexport class RegexService {\r\n  constructor() {}\r\n\r\n  // used for FirstName, LastName, City\r\n  get HumanName() {\r\n    return \"^[a-zA-Z0-9-.'\\\\s]*$\"; // only alphanumic and space . '\r\n  }\r\n\r\n  get Email() {\r\n    return '^.+@.+\\\\..+$'; // contains @ and . with text surrounding\r\n  }\r\n\r\n  get Phone() {\r\n    return '^[0-9-]{0,20}$'; // max 20 chars, numbers and -\r\n  }\r\n\r\n  get Date() {\r\n    return '^[0-9]{2}-[0-9]{2}-[0-9]{4}$'; // mm-dd-yyyy, all numbers\r\n  }\r\n\r\n  getZip(countryCode = 'US') {\r\n    switch (countryCode) {\r\n      case 'CA':\r\n        return '^[A-Za-z]\\\\d[A-Za-z][ -]?\\\\d[A-Za-z]\\\\d$';\r\n      case 'US':\r\n        return '^[0-9]{5}$'; // US zip - five numbers\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { OrderReorderResponse } from 'src/app/shared/services/reorder/reorder.interface';\r\nimport { Observable, of, forkJoin } from 'rxjs';\r\nimport { flatMap } from 'rxjs/operators';\r\nimport { OcMeService, BuyerProduct, LineItem } from '@ordercloud/angular-sdk';\r\nimport { forEach as _forEach, differenceBy as _differenceBy } from 'lodash';\r\nimport { CartService } from 'src/app/shared/services/cart/cart.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AppReorderService {\r\n  constructor(\r\n    private cartService: CartService,\r\n    private meService: OcMeService\r\n  ) {}\r\n\r\n  public order(orderID: string): Observable<OrderReorderResponse> {\r\n    if (!orderID) throw new Error('Needs Order ID');\r\n    return this.cartService.listAllItems(orderID).pipe(\r\n      flatMap((list) => {\r\n        const lineItems = of(list.Items); // this sets var into an observable\r\n        const productIds = list.Items.map((item) => item.ProductID);\r\n        const validProducts = this.getValidProducts(productIds);\r\n        return forkJoin([validProducts, lineItems]);\r\n      }),\r\n      flatMap((results) => this.isProductInLiValid(results[0], results[1])),\r\n      flatMap((results) => this.hasInventory(results))\r\n    );\r\n  }\r\n\r\n  private getValidProducts(\r\n    productIds: string[],\r\n    validProducts: BuyerProduct[] = []\r\n  ): Observable<BuyerProduct[]> {\r\n    validProducts = validProducts;\r\n    const chunk = productIds.splice(0, 25);\r\n    return this.meService\r\n      .ListProducts({ filters: { ID: chunk.join('|') } })\r\n      .pipe(\r\n        flatMap((productList) => {\r\n          validProducts = validProducts.concat(productList.Items);\r\n          if (productIds.length) {\r\n            return this.getValidProducts(productIds, validProducts);\r\n          } else {\r\n            return of(validProducts);\r\n          }\r\n        })\r\n      );\r\n  }\r\n\r\n  private isProductInLiValid(\r\n    products: BuyerProduct[],\r\n    lineItems: LineItem[]\r\n  ): Observable<OrderReorderResponse> {\r\n    const validProductIDs = products.map((p) => p.ID);\r\n    const validLi: LineItem[] = [];\r\n    const invalidLi: LineItem[] = [];\r\n\r\n    _forEach(lineItems, (li) => {\r\n      if (validProductIDs.indexOf(li.ProductID) > -1) {\r\n        const product = products.find((p) => p.ID === li.ProductID);\r\n        li.Product = product;\r\n        validLi.push(li);\r\n      } else {\r\n        invalidLi.push(li);\r\n      }\r\n    });\r\n    return of({ ValidLi: validLi, InvalidLi: invalidLi });\r\n  }\r\n\r\n  private hasInventory(\r\n    response: OrderReorderResponse\r\n  ): Observable<OrderReorderResponse> {\r\n    // compare new validLi with old validLi and push difference into the new invalid[] + old invalid array.\r\n    let newOrderResponse: OrderReorderResponse;\r\n    const newValidLi = response.ValidLi.filter(isValidToOrder);\r\n    let newInvalidLi = _differenceBy(response.ValidLi, newValidLi, 'ProductID');\r\n\r\n    newInvalidLi = newInvalidLi.concat(response.InvalidLi);\r\n    newOrderResponse = { ValidLi: newValidLi, InvalidLi: newInvalidLi };\r\n\r\n    return of(newOrderResponse);\r\n\r\n    function isValidToOrder(li) {\r\n      const restrictedOrderQuantity =\r\n        li.Product.PriceSchedule.RestrictedQuantity;\r\n      let withinPriceBreak;\r\n\r\n      if (!restrictedOrderQuantity) {\r\n        return validOrderQuantity(li);\r\n      } else {\r\n        withinPriceBreak = li.Product.PriceSchedule.PriceBreaks.some(\r\n          (pb) => pb.Quantity === li.Quantity\r\n        );\r\n        return withinPriceBreak && validOrderQuantity(li);\r\n      }\r\n    }\r\n    function validOrderQuantity(li) {\r\n      const inventory = li.Product.Inventory;\r\n      if (!inventory || !inventory.Enabled || inventory.OrderCanExceed) {\r\n        return true;\r\n      }\r\n      return inventory.QuantityAvailable >= li.Quantity;\r\n    }\r\n  }\r\n}\r\n","// core services\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\n\r\n@NgModule({\r\n  imports: [RouterModule],\r\n  exports: [RouterModule],\r\n})\r\nexport class SharedRoutingModule {}\r\n","// angular\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { SharedRoutingModule } from 'src/app/shared/shared-routing.module';\r\n\r\n// 3rd party UI\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\nimport { TextMaskModule } from 'angular2-text-mask';\r\n\r\n// ng-bootstrap modules\r\nimport {\r\n  NgbCollapseModule,\r\n  NgbDatepickerModule,\r\n  NgbTabsetModule,\r\n  NgbPaginationModule,\r\n  NgbPopoverModule,\r\n  NgbAccordionModule,\r\n  NgbModalModule,\r\n  NgbCarouselModule,\r\n  NgbDropdownModule,\r\n} from '@ng-bootstrap/ng-bootstrap';\r\n\r\n// pipes\r\nimport { OrderStatusDisplayPipe } from 'src/app/shared/pipes/order-status-display/order-status-display.pipe';\r\nimport { PaymentMethodDisplayPipe } from 'src/app/shared/pipes/payment-method-display/payment-method-display.pipe';\r\n\r\n// directives\r\nimport { FallbackImageDirective } from './directives/fallback-image/fallback-image.directive';\r\n\r\n// components\r\nimport { AddressFormComponent } from 'src/app/shared/components/address-form/address-form.component';\r\nimport { CreditCardFormComponent } from 'src/app/shared/components/credit-card-form/credit-card-form.component';\r\nimport { CreditCardIconComponent } from 'src/app/shared/components/credit-card-icon/credit-card-icon.component';\r\nimport { SearchComponent } from 'src/app/shared/components/search/search.component';\r\nimport { PageTitleComponent } from 'src/app/shared/components/page-title/page-title.component';\r\nimport { AddressDisplayComponent } from 'src/app/shared/components/address-display/address-display.component';\r\nimport { CreditCardDisplayComponent } from 'src/app/shared/components/credit-card-display/credit-card-display.component';\r\nimport { LineItemCardComponent } from 'src/app/shared/components/line-item-card/line-item-card.component';\r\nimport { LineItemListWrapperComponent } from 'src/app/shared/components/lineitem-list-wrapper/lineitem-list-wrapper.component';\r\n\r\n// containers\r\nimport {\r\n  ShipperTrackingPipe,\r\n  ShipperTrackingSupportedPipe,\r\n} from 'src/app/shared/pipes/shipperTracking/shipperTracking.pipe';\r\nimport { QuantityInputComponent } from 'src/app/shared/components/quantity-input/quantity-input.component';\r\nimport { ToggleFavoriteComponent } from 'src/app/shared/components/toggle-favorite/toggle-favorite.component';\r\nimport { ProductCardComponent } from 'src/app/shared/components/product-card/product-card.component';\r\nimport { ProductCarouselComponent } from 'src/app/shared/components/product-carousel/product-carousel.component';\r\nimport { MapToIterablePipe } from 'src/app/shared/pipes/map-to-iterable/map-to-iterable.pipe';\r\nimport { GenericBrowseComponent } from 'src/app/shared/components/generic-browse/generic-browse.component';\r\nimport {\r\n  ModalComponent,\r\n  ResetDirective,\r\n} from 'src/app/shared/components/modal/modal.component';\r\nimport { OrderPaymentListComponent } from 'src/app/shared/components/payment-list/order-payment-list.component';\r\nimport { NoResultsComponent } from './components/no-results/no-results.component';\r\nimport { MiniCartComponent } from './components/mini-cart/mini-cart.component';\r\nimport { PhoneFormatPipe } from './pipes/phone-format/phone-format.pipe';\r\nimport { PhoneInputDirective } from './directives/phone-input/phone-input.directive';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedRoutingModule,\r\n    // angular\r\n    CommonModule,\r\n    HttpClientModule,\r\n    ReactiveFormsModule,\r\n\r\n    // 3rd party UI\r\n    FontAwesomeModule,\r\n    TextMaskModule,\r\n\r\n    /**\r\n     * ng-bootstrap modules\r\n     * only those that are used by app\r\n     * should be imported to reduce bundle size\r\n     */\r\n    NgbDatepickerModule,\r\n    NgbCollapseModule,\r\n    NgbModalModule,\r\n    NgbTabsetModule,\r\n    NgbPaginationModule,\r\n    NgbPopoverModule,\r\n    NgbAccordionModule,\r\n    NgbCarouselModule,\r\n    NgbDropdownModule,\r\n  ],\r\n  exports: [\r\n    // angular\r\n    CommonModule,\r\n    HttpClientModule,\r\n    ReactiveFormsModule,\r\n\r\n    // 3rd party UI\r\n    FontAwesomeModule,\r\n    TextMaskModule,\r\n\r\n    NgbDatepickerModule,\r\n    NgbCollapseModule,\r\n    NgbModalModule,\r\n    NgbTabsetModule,\r\n    NgbPaginationModule,\r\n    NgbPopoverModule,\r\n    NgbAccordionModule,\r\n    NgbCarouselModule,\r\n    NgbDropdownModule,\r\n\r\n    NoResultsComponent,\r\n    SearchComponent,\r\n    PageTitleComponent,\r\n    OrderStatusDisplayPipe,\r\n    PaymentMethodDisplayPipe,\r\n    MapToIterablePipe,\r\n    CreditCardIconComponent,\r\n    AddressDisplayComponent,\r\n    CreditCardDisplayComponent,\r\n    CreditCardFormComponent,\r\n    LineItemListWrapperComponent,\r\n    FallbackImageDirective,\r\n    ResetDirective,\r\n    LineItemCardComponent,\r\n    ShipperTrackingPipe,\r\n    ShipperTrackingSupportedPipe,\r\n    AddressFormComponent,\r\n    QuantityInputComponent,\r\n    ToggleFavoriteComponent,\r\n    ProductCardComponent,\r\n    ProductCarouselComponent,\r\n    GenericBrowseComponent,\r\n    ModalComponent,\r\n    OrderPaymentListComponent,\r\n    MiniCartComponent,\r\n    PhoneFormatPipe,\r\n    PhoneInputDirective,\r\n  ],\r\n  declarations: [\r\n    OrderStatusDisplayPipe,\r\n    PaymentMethodDisplayPipe,\r\n    MapToIterablePipe,\r\n    PageTitleComponent,\r\n    AddressDisplayComponent,\r\n    CreditCardDisplayComponent,\r\n    CreditCardFormComponent,\r\n    FallbackImageDirective,\r\n    ResetDirective,\r\n    SearchComponent,\r\n    CreditCardIconComponent,\r\n    LineItemCardComponent,\r\n    ShipperTrackingPipe,\r\n    ShipperTrackingSupportedPipe,\r\n    AddressFormComponent,\r\n    LineItemListWrapperComponent,\r\n    QuantityInputComponent,\r\n    MiniCartComponent,\r\n    ToggleFavoriteComponent,\r\n    ProductCardComponent,\r\n    ProductCarouselComponent,\r\n    GenericBrowseComponent,\r\n    ModalComponent,\r\n    OrderPaymentListComponent,\r\n    NoResultsComponent,\r\n    PhoneFormatPipe,\r\n    PhoneInputDirective,\r\n  ],\r\n})\r\nexport class SharedModule {}\r\n","import { ValidatorFn, AbstractControl, ValidationErrors } from '@angular/forms';\r\n\r\n/**\r\n * Our date inputs use ngbDatepicker but also allow freeform entry.\r\n * We need to validate the free form entry strings which are converted to date objects\r\n */\r\n\r\nexport function DateValidator(): ValidatorFn {\r\n  return (control: AbstractControl): ValidationErrors | null => {\r\n    // only validate if both fields have been touched\r\n    if (control.value == null || control.value === '') {\r\n      return null;\r\n    }\r\n\r\n    if (\r\n      // the user's text input is converted to Date() if days and months check out\r\n      control.value instanceof Date &&\r\n      // validate that the year is also within reasonable range\r\n      control.value.getFullYear().toString().length === 4\r\n    ) {\r\n      return null;\r\n    }\r\n\r\n    return { DateError: true };\r\n  };\r\n}\r\n","import { ValidatorFn, AbstractControl, ValidationErrors } from '@angular/forms';\r\n\r\n// takes the name of two form controls and validates that values are the same\r\n// form controls must be part of the same form group see app-reset-password-form component for example\r\n\r\nexport function AppMatchFieldsValidator(\r\n  firstFieldName: string,\r\n  secondFieldName: string\r\n): ValidatorFn {\r\n  return (control: AbstractControl): ValidationErrors | null => {\r\n    const firstField = control.get(firstFieldName);\r\n    const secondField = control.get(secondFieldName);\r\n\r\n    // only validate if both fields have been touched\r\n    if (firstField.pristine || secondField.pristine) {\r\n      return null;\r\n    }\r\n    if (firstField.value === secondField.value) {\r\n      return null;\r\n    }\r\n    return { ocMatchFields: true };\r\n  };\r\n}\r\n","import { ValidatorFn, AbstractControl, ValidationErrors } from '@angular/forms';\r\nimport { BuyerProduct } from '@ordercloud/angular-sdk';\r\n\r\nexport function ProductQtyValidator(product: BuyerProduct): ValidatorFn {\r\n  return (control: AbstractControl): ValidationErrors | null => {\r\n    if (control.value == null || control.value === '') {\r\n      return null;\r\n    }\r\n    const error = { ProductQuantityError: { message: '', outOfStock: false } };\r\n    const min = minQty(product);\r\n    const max = maxQty(product);\r\n    const inventory = getInventory(product);\r\n\r\n    if (inventory < min) {\r\n      error.ProductQuantityError.message = `Out of stock.`;\r\n      error.ProductQuantityError.outOfStock = true;\r\n      return error;\r\n    }\r\n    if (control.value < min) {\r\n      error.ProductQuantityError.message = `At least ${min} must be ordered.`;\r\n      return error;\r\n    }\r\n    if (control.value > inventory) {\r\n      error.ProductQuantityError.message = `Only ${inventory} available in inventory.`;\r\n      return error;\r\n    }\r\n    if (control.value > max) {\r\n      error.ProductQuantityError.message = `At most ${max} allowed per order.`;\r\n      return error;\r\n    }\r\n\r\n    return null;\r\n  };\r\n}\r\n\r\n/**\r\n * validate against the min quantity per order defined by an\r\n * ordercloud product's price schedule\r\n */\r\nfunction minQty(product: BuyerProduct): number {\r\n  if (product.PriceSchedule && product.PriceSchedule.MinQuantity) {\r\n    return product.PriceSchedule.MinQuantity;\r\n  }\r\n  return 1;\r\n}\r\n\r\n/**\r\n * validate against the max quantity per order defined by an\r\n * ordercloud product's price schedule\r\n */\r\nfunction maxQty(product: BuyerProduct): number {\r\n  if (product.PriceSchedule && product.PriceSchedule.MaxQuantity != null) {\r\n    return product.PriceSchedule.MaxQuantity;\r\n  }\r\n  return Infinity;\r\n}\r\n\r\n/**\r\n * validate against the inventory limit defined by an\r\n * ordercloud product's inventory object\r\n */\r\nfunction getInventory(product: BuyerProduct): number {\r\n  if (\r\n    product.Inventory &&\r\n    product.Inventory.Enabled &&\r\n    !product.Inventory.OrderCanExceed &&\r\n    product.Inventory.QuantityAvailable != null\r\n  ) {\r\n    return product.Inventory.QuantityAvailable;\r\n  }\r\n  return Infinity;\r\n}\r\n","import { AbstractControl, ValidationErrors } from '@angular/forms';\r\n\r\n/**\r\n * validates that a given password adheres to ordercloud's password requirements\r\n * of at least one letter, at least one letter, and a minimum length of 8\r\n */\r\nexport function ValidateStrongPassword(\r\n  control: AbstractControl\r\n): ValidationErrors | null {\r\n  const hasNumber = /[0-9]/.test(control.value);\r\n  const hasLetter = /[a-zA-Z]/.test(control.value);\r\n  const hasMinLength = control.value && control.value.length >= 8;\r\n  if (!control.value) {\r\n    return null;\r\n  }\r\n  if (hasNumber && hasLetter && hasMinLength) {\r\n    return null;\r\n  }\r\n  return { strongPassword: true };\r\n}\r\n","<article class=\"container\">\r\n  <div class=\"pb-2 mt-4 mb-3 border-bottom\">\r\n    <h2>FAQ</h2>\r\n  </div>\r\n  Put frequently asked questions and answers here\r\n</article>","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'static-faq',\r\n  templateUrl: './faq.component.html',\r\n  styleUrls: ['./faq.component.scss']\r\n})\r\nexport class FaqComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<article class=\"container\">\r\n  <div class=\"pb-2 mt-4 mb-3 border-bottom\">\r\n    <h2>Support</h2>\r\n  </div>\r\n\r\n  If you have any questions or spot any bugs please drop us a line on our <a href=\"https://developer.ordercloud.io/community\">Slack</a> community channel\r\n</article>","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'static-support',\r\n  templateUrl: './support.component.html',\r\n  styleUrls: ['./support.component.scss']\r\n})\r\nexport class SupportComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<article class=\"container\">\r\n  <div class=\"pb-2 mt-4 mb-3 border-bottom\">\r\n    <h2>FAQ</h2>\r\n  </div>\r\n  <div style=\"max-width: 500px\">\r\n    <p>The MIT License (MIT)</p>\r\n\r\n    <p>Copyright (c) 2018 Four51 Inc.</p>\r\n\r\n    <p>Permission is hereby granted, free of charge, to any person obtaining a copy\r\n      of this software and associated documentation files (the \"Software\"), to deal\r\n      in the Software without restriction, including without limitation the rights\r\n      to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n      copies of the Software, and to permit persons to whom the Software is\r\n      furnished to do so, subject to the following conditions:</p>\r\n\r\n    <p>The above copyright notice and this permission notice shall be included in all\r\n      copies or substantial portions of the Software.</p>\r\n\r\n    <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n      IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n      FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n      AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n      LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n      OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n      SOFTWARE.</p>\r\n  </div>\r\n</article>","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'static-terms-and-conditions',\r\n  templateUrl: './terms-and-conditions.component.html',\r\n  styleUrls: ['./terms-and-conditions.component.scss']\r\n})\r\nexport class TermsAndConditionsComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  clientID: '73FDFC1E-6FD5-4AFA-8751-C42C5CF47B57',\r\n  middlewareUrl: 'my-middleware-url.com/api',\r\n};\r\n","import { enableProdMode } from '@angular/core';\n\nenableProdMode();\n\nexport { AppServerModule } from './app/app.server.module';\n","module.exports = require(\"@angular/animations\");","module.exports = require(\"@angular/animations/browser\");","module.exports = require(\"@angular/common\");","module.exports = require(\"@angular/common/http\");","module.exports = require(\"@angular/core\");","module.exports = require(\"@angular/forms\");","module.exports = require(\"@angular/platform-browser\");","module.exports = require(\"@angular/platform-browser/animations\");","module.exports = require(\"@angular/platform-server\");","module.exports = require(\"@angular/router\");","module.exports = require(\"@fortawesome/angular-fontawesome\");","module.exports = require(\"@fortawesome/free-brands-svg-icons\");","module.exports = require(\"@fortawesome/free-regular-svg-icons\");","module.exports = require(\"@fortawesome/free-solid-svg-icons\");","module.exports = require(\"@gorniv/ngx-universal\");","module.exports = require(\"@ng-bootstrap/ng-bootstrap\");","module.exports = require(\"@nguniversal/module-map-ngfactory-loader\");","module.exports = require(\"@ngx-progressbar/core\");","module.exports = require(\"@ngx-progressbar/http\");","module.exports = require(\"@ordercloud/angular-sdk\");","module.exports = require(\"angular2-text-mask\");","module.exports = require(\"jwt-decode\");","module.exports = require(\"lodash\");","module.exports = require(\"moment\");","module.exports = require(\"ngx-image-zoom\");","module.exports = require(\"ngx-toastr\");","module.exports = require(\"rxjs\");","module.exports = require(\"rxjs/operators\");","module.exports = require(\"tslib\");"],"sourceRoot":""}